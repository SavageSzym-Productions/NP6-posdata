<?xml version="1.0" encoding="utf-8"?><!--Bundle Build: Tagged_Files_B1199--><!--Workflow Version: US$Rev: 3a701a3 $-->
<Sequences xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="/usr/local/jboss-3.2.2/server/default/deploy/webrfmNP61.war/rfmdata/workflow.xsd" version="1.0">
     <Workflow name="WF_DoCashlessReset">
             <Step cmd="ResetCashlessJS" />
     </Workflow>   
     <Workflow name="WF_PickListModeOnOff" parameters="$onclick">
             <Step cmd="PickListOnOffJS 'on' $onclick" />
     </Workflow>   
     <Workflow name="WF_PrintPickList" parameters="$onclick">
             <Step cmd="PrintPickListJS 'NOPREVIEW'" />
     </Workflow>   
	<Workflow name="WF_TestDiscountAuthority"> 
		<Step cmd="PosCheckDiscountAuthorityJS" labelTrue="END" labelFalse="HIDE_BUTTON" />
		<Step label="HIDE_BUTTON" cmd="PosChangeButtonProperties '0' 'visible|false'" labelTrue="END" />
		<Step label="END" />
     </Workflow>   
     <Workflow name="WF_HideButtonIfDoesntMatchDTPropertiesPickList" parameters="$POD $workingMode $ButtonNumber $onclick">
         <Step cmd="PickListOnOffJS 'on' $onclick" />
         <Step cmd="PosCheckSessionProperty  'POD' $POD" labelFalse="HIDE" />
         <Step cmd="PosCheckSessionProperty  'workingMode' $workingMode" labelFalse="HIDE" />
         <Step cmd="PosChangeButtonProperties  $ButtonNumber 'visible|true'" labelTrue="EXIT" />
         <Step label="HIDE" cmd="PosChangeButtonProperties  $ButtonNumber 'visible|false'" />
         <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_HideButtonIfMatchPODPickList" parameters="$POD $ButtonNumber $onclick">
          <Step cmd="PickListOnOffJS 'on' $onclick" />
          <Step cmd="HideButtonIfMatchPODJS $POD $ButtonNumber" />
     </Workflow>    
     <Workflow name="WF_DoVoidPromo">
          <Step cmd="PosDoVoidLine" />
          <Step cmd="PosShowScreen  '_baseScreenId'" />
     </Workflow>
     <Workflow name="WF_HDoVoidLine">
          <Step cmd="PosDoVoidLine" />
     </Workflow>
     <Workflow name="WF_DayOpen">
		<Step cmd="PosRPSCheckAvailability" />
          <Step cmd="SendOpenCloseToEsocketJS '1'" />
          <Step cmd="PosSetSessionProperty  'savePosReport' 'true'" />
          <Step cmd="PosDayOpenJS 'execute'" />
          <Step cmd="PosSetSessionProperty  'firstSaleDone' 'false' 'true'" />
          <Step cmd="PosCreateReport  'CASH' 'ReportDayOpen#USRestaurantOpsReports' 'NOPREVIEW'" />
     </Workflow>
     <!-- <Workflow name="WF_RemoteDayOpen">
          <Step cmd="SendOpenCloseToEsocketJS '1'"/>
          <Step cmd="PosSetSessionProperty  'savePosReport' 'true'"/>
          <Step cmd="PosDayOpenJS"/>
          <Step cmd="PosSetSessionProperty  'firstSaleDone' 'false' 'true'"/>
          <Step cmd="PosCreateReport  'CASH' 'ReportDayOpen#USRestaurantOpsReports' 'NOPREVIEW'"/>
     </Workflow>  -->    
     <Workflow name="WAY_ShowManagerMenu" parameters="$ScreenNumber">
          <Step cmd="PosShowScreen  $ScreenNumber" />
     </Workflow>
     <Workflow name="WAY_ShowScreen" parameters="$ScreenNumber">
          <Step cmd="PosShowScreen  $ScreenNumber" />
     </Workflow>
     <!-- OLD SS6.5 Skip Car Workflow 
     <Workflow name="WF_DoSkipCar">
          <Step cmd="PosDoSkipCarJS"/>
     </Workflow>-->
     <!-- OLD SS6.5 SP1 Skip Car Workflow NVS 10-->
     <Workflow name="WF_DoSkipCar">
	      <Step cmd="onCheckforFaceToFaceTandem" labelTrue="GO" labelFalse="CODCHECK" /> 
          <!-- Check COD selected -->
          <Step label="CODCHECK" cmd="PosIsCODSelectedJS" labelTrue="GO" labelFalse="END" />
          <Step label="END" cmd="PosShowMessage  'MSG_BC_SELECTCOD'" labelTrue="EXIT" />
          <Step label="GO" cmd="PosDoSkipCarJS" />
          <!-- Release COD -->
          <Step cmd="PosReleaseCOD" />
          <Step cmd="PosSetSessionProperty  'activatedCOD' '0' 'true'" />
          <Step cmd="PosShowScreen  '_baseScreenId'" />
     </Workflow>
     <Workflow name="WF_DoClearChoice">
          <Step cmd="PosNotATransactionInProgress  'true'" labelFalse="CLEAR1" />
          <Step cmd="PosShowMessage  'MSG_BC_NO_ORDER_IN_PROGRESS'" labelTrue="EXIT" />
          <Step label="CLEAR1" cmd="PosClearChoice" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_DoTotalDuet">
          <Step cmd="PosNotATransactionInProgress  'true'" labelTrue="EXIT" labelFalse="GO_ON" />
          <Step label="GO_ON" cmd="PosAutoChoice" />
          <Step cmd="PosDoTotal" />
          <Step cmd="PosDoStore" />
          <Step cmd="PosRefreshSalePanel" />
          <Step cmd="PosShowScreen  '_baseScreenId'" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_Skim" parameters="$NpsFileName $TenderType $SkimOthers $Save $SkimType $DataTypes $ReportScript $Flags $CustomParam $POD">
          <Step cmd="PosIsInSaleMode" />
          <Step cmd="PosSetSessionProperty 'SkimInProgress' 'true'" /> 
          <Step cmd="PosDoSkim  $NpsFileName $TenderType $SkimOthers $Save $SkimType 'true'" />
	  <Step cmd="PosCreateReportConverttoNPSharpCall  $DataTypes $ReportScript $Flags $CustomParam $POD ''" />
          <!-- SDE-1941 -->
          <!--<Step cmd="PosSetSessionProperty 'SkimInProgress' 'false'"/> -->
     </Workflow>
     <Workflow name="WF_ShowPOSVersion">
          <Step cmd="PosShowVersion" />
     </Workflow>
     <Workflow name="WF_HDoPromoItem">
          <Step cmd="PosDoPromoItem" />
     </Workflow>
     <Workflow name="WF_ShowSelectedKvs">
          <Step cmd="PosShowSelectKvs  '_selectedKvs'" />
     </Workflow>
     <Workflow name="WF_HDoGrillStart" parameters="$ScreenGrill">
          <Step cmd="PosDoGrillStart" labelFalse="EXIT" />
          <Step cmd="PosShowScreen  $ScreenGrill" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_Report_CheckCashInDrawer" parameters="$DataTypes $ReportScript $Flags $CustomParam $POD $ServiceList">
          <Step cmd="PosIsInSaleMode" />
          <Step cmd="PosCreateReportConverttoNPSharpCall  $DataTypes $ReportScript $Flags $CustomParam $POD $ServiceList" />
     </Workflow>
     <Workflow name="WF_DoTelequiptControl">
          <Step cmd="PosCoinDispenserControlJS" />
     </Workflow>
     <Workflow name="WF_HShutdown" parameters="$ShutdownType $null">
          <Step cmd="PosShutdown  $ShutdownType $null $null" />
     </Workflow>
     <Workflow name="WF_DoSale" parameters="$ProductCode">
          <Step cmd="PosDoTryGrillEnd '3'" />
          <Step cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="SALE" />
          <Step cmd="PosShowMenuPriceDialogJS" labelFalse="EXIT" />
          <Step label="SALE" cmd="PosDoSaleJS $ProductCode" />
	  <!-- Marcelo Silva - NVS-5502 - Date: 11/11/2016 -->
		  <Step cmd="CheckCCMDefaultComponentsJS $ProductCode" />
		  <Step cmd="PosSetSessionProperty 'persist' 'false'" />
			<!--NPS-5843-->
		  <Step cmd="PosSizeSelectionJS '-1' 'false'" />
		  <Step cmd="PosRefreshButtons" />
		<!--NPS-5843-->
           <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_DoVACSale" parameters="$ProductCode">
          <Step cmd="PosDoTryGrillEnd '3'" />
          <Step cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="SALE" />
          <Step cmd="PosShowMenuPriceDialogJS" labelFalse="EXIT" />
          <Step label="SALE" cmd="PosDoSaleJS $ProductCode" />
           <Step label="EXIT" />
     </Workflow>     
     <Workflow name="WF_DoCancelOrderDuet">
          <Step cmd="PosNotATransactionInProgress  'true'" labelTrue="SHOW" labelFalse="SALEINPROGRESS" />
          <Step label="SALEINPROGRESS" cmd="PosDoVoidSale  'false'" />
          <Step label="SHOW" cmd="PosShowScreen  '_baseScreenId'" />
     </Workflow>
     <Workflow name="WF_HideButtonIfNoComponents" parameters="$ProductCode $Components $ButtonNumber $propMod $propOrig">
          <Step cmd="PosCheckProdComponents  $ProductCode $Components" labelFalse="HIDE" />
          <Step cmd="PosCheckGrillPropertyMulti  'c' $Components" labelTrue="MODIFIED" labelFalse="ORIGINAL" />
          <Step label="MODIFIED" cmd="PosChangeButtonProperties  $ButtonNumber $propMod" labelTrue="SHOW" />
          <Step label="ORIGINAL" cmd="PosChangeButtonProperties  $ButtonNumber $propOrig" labelTrue="SHOW" />
          <Step label="SHOW" cmd="PosChangeButtonProperties  $ButtonNumber 'visible|true'" labelTrue="EXIT" />
          <Step label="HIDE" cmd="PosChangeButtonProperties  $ButtonNumber 'visible|false'" labelTrue="EXIT" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_ActivateScreenSaver">
          <Step cmd="PosActivateScreenSaver" />
     </Workflow>
     <Workflow name="WF_HShowScreen" parameters="$ScreenNumber">
          <Step cmd="PosShowScreen  $ScreenNumber" />
     </Workflow>
     <Workflow name="WAY_Authorized_PMIXReport" parameters="$SessionCtxID $Level $User $Password $BusinessDate $Time $POD $ServiceList $null">
          <Step cmd="WayGetAuthorization  $SessionCtxID $Level $User $Password" />
          <Step cmd="WayDoReport   $SessionCtxID 'CASH|PMIX' $BusinessDate $Time $POD $ServiceList 'ReportPMixUPTByDate#USProductsReports' $null" />
     </Workflow>
     <Workflow name="WAY_Authorized_ApplyUpdate" parameters="$SessionCtxID $Level $User $Password $ShutdownType $isForced $message">
          <Step cmd="WayGetAuthorization  $SessionCtxID $Level $User $Password" />
          <Step label="GO" cmd="WayBOApplyUpdate  $SessionCtxID $ShutdownType $isForced $message" />
     </Workflow>
     <Workflow name="WF_DoTender" parameters="$TenderID $Value">
          <Step cmd="PosDoTenderJS  $TenderID $Value 'NOPREVIEW|SAVE'" />
          <Step cmd="PosSetSessionProperty 'BackFromTotal' 'false'" /> 
     </Workflow>
     <Workflow name="WF_OnActivate_PODFilter">
          <Step cmd="PODFilterJS  'false'" />
     </Workflow>
     <Workflow name="WF_HShowPOSVersion">
          <Step cmd="PosShowVersion" />
     </Workflow>
     <Workflow name="WF_SWCloseDay" parameters="$Timeout $Forced">
		<Step cmd="PosRPSCheckAvailability" />
          <Step cmd="PosDoSWCloseDayJS $Timeout $Forced" />
          <Step cmd="PosCreateReport  'CASH' 'ReportOpenCloseSW#USRestaurantOpsReports' 'NOPREVIEW' '_dayCloseXML'" />
          <Step cmd="SendOpenCloseToEsocketJS '2'" />
          <Step cmd="PosRemoveSessionProperty  'dayCloseXML'" />
     </Workflow>
     <Workflow name="WF_GrillScroll" parameters="$Type">
          <Step cmd="PosDoScrollGrill  $Type" />
     </Workflow>
     <Workflow name="WF_StartSpecialTransaction" parameters="$Level $SingleSignOn $Kind $Message $Destination">
          <Step cmd="StartSpecialTrxJS  $Level $SingleSignOn $Kind $Message $Destination" />
     </Workflow>
	 <Workflow name="WF_RefundByCash">
		<Step cmd="PosGetAuthorizationJSUS $Level $SingleSignOn" />
		<Step cmd="PosRefundByCash_JS" labelTrue="PRINT" labelFalse="EXIT" />
		<Step label="PRINT" cmd="PosCreateReport 'VIEW' 'refundByCashReceipt@reports.nps' 'NOPREVIEW|SAVE' '_CASHLESS'" />
		<Step label="EXIT" />
	</Workflow>
     <Workflow name="WF_Report" parameters="$DataTypes $ReportScript $Flags $CustomParam $POD $ServiceList">
          <Step cmd="PosCreateReportConverttoNPSharpCall  $DataTypes $ReportScript $Flags $CustomParam $POD $ServiceList" />
          <Step cmd="PosShowScreen  '905'" />
     </Workflow>
     <Workflow name="WF_SendSoftBump" parameters="$Command"> 
		   <Step label="CHKDTMONITOR" cmd="PosCheckSoftBumpDTJS '_selectedKvs' $Command" labelTrue="SNDSOFTBUMP" labelFalse="END" /> 
           <Step label="SNDSOFTBUMP" cmd="PosSendSoftBump '_selectedKvs' $Command" labelTrue="END" labelFalse="SELECTKVS" /> 
           <Step label="SELECTKVS" cmd="PosChooseService 'KVS' 'selectedKvs'" labelTrue="SNDSOFTBUMP" labelFalse="END" /> 
           <Step label="END" /> 
      </Workflow> 

     <Workflow name="WF_HDoGrillOper" parameters="$Oper $null">
          <Step cmd="PosDoGrillOper  $Oper $null" />
          <Step cmd="PosRefreshButtons" />
     </Workflow>
     <Workflow name="WF_ChangePOD">
          <Step cmd="PosCheckCashDrawer" labelTrue="CONTINUE" labelFalse="OPENED" />
          <Step label="CONTINUE" cmd="PosChangePOD" />
          <Step cmd="PosReleaseCOD" />              <!-- NVS-1347 -->
          <Step cmd="PosSetSessionProperty 'HasPODChanged' '1' 'true'" />   <!-- NVS-1384 set session so we know that POD was switched -->
          <Step cmd="PosShowScreen  '_baseScreenId'" labelTrue="END" />
          <Step label="OPENED" cmd="PosShowMessage  'MSG_BC_DRAWEROPENED'" />
          <Step label="END" />
     </Workflow>
     <Workflow name="WF_SetDefaultCOD" parameters="$COD">
          <Step cmd="PosCommStatusCOD 'MSG_BC_ERRORCONFIGCOD'" />
          <Step cmd="PosSetDefaultCOD  $COD" />
     </Workflow>
     <Workflow name="WF_DoubleCrewServe" parameters="$PosKey">
          <Step cmd="PosCrewPanelServe  $PosKey" />
     </Workflow>
     <Workflow name="WF_ClearGrill">
          <Step cmd="PosClearGrill" />
     </Workflow>
	 <Workflow name="WF_CloseCYTGrill" parameters="$PressedButton">
		  <!--Step cmd="PosClearGrill"/--> 	
          <Step cmd="PosDoGrillEnd $PressedButton" />
          <Step cmd="PosShowGrillFloatScreen" />
	 </Workflow>
     <Workflow name="WF_PrepareCalculator" parameters="$NumberFormat $EnterAction $TotalValue $InitialValue">
          <Step cmd="PosPrepareCalculator  $NumberFormat $EnterAction $TotalValue $InitialValue" />
     </Workflow>
     <Workflow name="WF_ShowButtonGrillQuali" parameters="$Value $Bit">
          <Step cmd="PosCheckGrillPropertyMulti 'c' '80000005' '-1'" labelTrue="HIDE" labelFalse="CONTINUE" />
          <Step label="CONTINUE" cmd="PosCanSetGrillQualifier '0' $Value" labelFalse="HIDE" />
          <Step cmd="PosCheckGrillProperty '0' $Bit" labelTrue="HIDE" labelFalse="NEXT" />
          <Step label="NEXT" cmd="PosChangeButtonProperties '0' 'visible|true'" labelTrue="END" />
          <Step label="HIDE" cmd="PosChangeButtonProperties '0' 'visible|false'" labelTrue="END" />
          <Step label="END" />
     </Workflow>    
     <Workflow name="WAY_SynchDateTime" parameters="$SessionCtxID $BusinessDate $Time">
          <Step cmd="WaySynchDateTime  $SessionCtxID $BusinessDate $Time" />
     </Workflow>
     <Workflow name="WAY_Authorized_OpenAllPos" parameters="$SessionCtxID $Level $User $Password $BusinessDate $timeout $isForced $source $JSName $isConditional">
          <Step cmd="WayGetAuthorization  $SessionCtxID $Level $User $Password" />
          <Step label="GO" cmd="WayBOOpenAllPosConverttoNPSharpCall  $SessionCtxID $BusinessDate $timeout $isForced $source $JSName $isConditional" />
     </Workflow>
     <Workflow name="WF_HDoSaleMultiply" parameters="$ProductCode $ProductCode_2 $ProductCode_3 $ProductCode_4 $ProductCode_5 $ProductCode_6 $null">
          <Step label="INIT" cmd="PosDoChoice  $ProductCode" labelTrue="INIT2" />
          <Step label="INIT2" cmd="PosDoChoice  $ProductCode_2" labelTrue="INIT3" />
          <Step label="INIT3" cmd="PosDoChoice  $ProductCode_3" labelTrue="INIT4" />
          <Step label="INIT4" cmd="PosDoChoice  $ProductCode_4" labelTrue="INIT5" />
          <Step label="INIT5" cmd="PosDoChoice  $ProductCode_5" labelTrue="INIT6" />
          <Step label="INIT6" cmd="PosDoChoice  $ProductCode_6" labelTrue="GO_SALE" />
          <Step label="GO_SALE" cmd="PosDoSale  $ProductCode $null" labelTrue="END" />
          <Step label="END" />
     </Workflow>
     <Workflow name="WF_CheckCashDrawerOperMode" parameters="$ButtonNumber">
          <Step cmd="CashDrawerOpModeJS  $ButtonNumber 'bitmap' 'cdforced.png' 'cdnorm.png'" />
     </Workflow>
     <Workflow name="WF_TimePunchReport" parameters="$manager">
          <Step cmd="PosNotATransactionInProgress" />
          <Step cmd="PosGetTimePunch  $manager" />
          <Step cmd="PosCompareValues  $manager 'true'" labelFalse="USER_RPT" />
           <Step cmd="PosCreateReport  'TIMEPUNCH' 'ReportGlobalTimePunch#USRestaurantOpsReports' 'PREVIEW|SAVE'" labelTrue="END" />
          <Step label="USER_RPT" cmd="PosCreateReport  'TIMEPUNCH' 'ReportSingleTimePunch#USRestaurantOpsReports' 'PREVIEW|SAVE'" />
          <Step label="END" />
     </Workflow>
     <Workflow name="WF_HideMeIfPreviewByType" parameters="$BtnType">
          <Step cmd="HideMeIfPreviewByTypeJS  $BtnType" />
     </Workflow>
	 <!--Merge-->
	<Workflow name="WF_PromoOrder" parameters="$Level $SigleSignOn $PromoType">
		  <Step cmd="PosDoCheckOpenChoices" labelFalse="CONTINUE" labelTrue="ShowMessage" /> 
          <Step label="ShowMessage" cmd="PosShowMessage 'MSG_BC_PROMO_OPEN_CHOICE'" labelTrue="EXIT" /> 
          <Step label="CONTINUE" cmd="PosCheckParameter 'OperationMode' 'smartReminder' 'true'" labelTrue="EOT_PromoOrder" labelFalse="POS_PromoOrder" />
          <Step label="POS_PromoOrder" cmd="PosPromoOrderJS $Level $SigleSignOn $PromoType 'NOPREVIEW|SAVE' '10000001|6,10000002|9,10000003|6,10000004|6,10000005|9,10000101|6,10000201|6,10000301|6,10000401|6,10000501|6,10000601|6,10000701|9,10000801|9'" labelTrue="OK" labelFalse="EXIT" /> 
          <Step label="EOT_PromoOrder" cmd="PosPromoOrderJS $Level $SigleSignOn $PromoType 'NOPREVIEW|SAVE' '10000001|309,10000002|312,10000003|309,10000004|309,10000005|312'" labelTrue="OK" labelFalse="EXIT" />
          <Step label="OK" cmd="PosSetSessionProperty  'activatedCOD' '0' 'true'" />
		  <Step label="EXIT" />
     </Workflow>
     <Workflow name="WAY_CashReport" parameters="$SessionCtxID $BusinessDate $Time $POD $ServiceList $null">
          <Step cmd="WayDoReport   $SessionCtxID 'CASH|PMIX' $BusinessDate $Time $POD $ServiceList 'ReportAccumulatedCash#USCashReports' $null" />
     </Workflow>
     <Workflow name="WF_DoRecallByNumber">
          <Step cmd="PosSizeSelection '-1'" /> 
		  <Step cmd="PosRefreshButtons" />
		  <Step cmd="PosReloadCurrentScreen" />
		  <Step cmd="PosCheckCashDrawer" labelFalse="OPENED" />
          <Step cmd="PosNotATransactionInProgress 'false'" labelFalse="END" />
 <!--         <Step cmd="PosOffersClearMessage"/>   -->
			<!-- NVS-3672 - Felipe Ramas -->
          <Step cmd="PosDoRecallOrderJS 'RecallByNumber'" />
		  <Step cmd="PosApplySmartGrillLogic" /><!-- NVS-6759, Apply Smart Grill Logic on recalled Kiosk orders -->
          <Step cmd="PosDoTotalBySaleType" />
		  <Step cmd="PosOffersOnTotal 'true'" />		  
          <Step cmd="PosShowScreen  '53'" labelTrue="END" />
          <Step label="OPENED" cmd="PosShowMessage  'MSG_BC_DRAWEROPENED'" />
          <Step label="END" />
     </Workflow>
     <Workflow name="WF_ButtonCOD" parameters="$COD $ProductCode $ScreenNumber">
		 <Step cmd="PosSetSessionProperty 'lastSelectedCOD' $COD 'true'" />
		 <Step cmd="PosSetSessionProperty 'activatedCOD' $COD 'true'" />
		 <Step cmd="PosSetSessionProperty 'screenNumberCOD' $ScreenNumber 'true'" />        
		 <Step cmd="PosSetSessionProperty 'productCodeCOD'  $ProductCode 'true'" />     		 
          <Step cmd="ButtonCODJS  $COD $ProductCode" />
          <Step cmd="PosShowScreen  $ScreenNumber" />
     </Workflow>
     <Workflow name="WF_TakePicture">
          <Step cmd="PosTakePicture" />
     </Workflow>
     <Workflow name="WF_ToggleCashDrawerOperMode" parameters="$ButtonNumber">
          <Step cmd="PosSetCDrawerOpMode" />
          <Step cmd="CashDrawerOpModeJS  $ButtonNumber 'bitmap' 'cdforced.png' 'cdnorm.png'" />
     </Workflow>
     <Workflow name="WF_CanGoScreen" parameters="$ScreenNumber">
          <Step cmd="PosIsInSaleMode  'false'" labelFalse="GO_MSG" />
          <Step cmd="PosNotATransactionInProgress  'true'" labelTrue="GO_MSG" labelFalse="GO_SCREEN" />
          <Step label="GO_SCREEN" cmd="PosShowScreen  $ScreenNumber" labelTrue="EXIT" />
          <Step label="GO_MSG" cmd="PosShowMessage  'MSG_BC_NO_ORDER_IN_PROGRESS'" />
          <Step cmd="PosShowScreen  '_baseScreenId'" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_ChangeImgIfBreakfast" parameters="$ButtonNumber">
          <Step cmd="PosIsBreakfastTime" />
          <Step cmd="PosChangeButtonProperties  $ButtonNumber 'bitmap|bt_bkgB.png,bitmapdn|bt_bkgB.png'" />
     </Workflow>
     <Workflow name="WF_OnActivate_EatInTotal" parameters="$POD $ButtonNumber">
          <Step cmd="HideButtonIfMatchPODJS $POD $ButtonNumber " />
     </Workflow>
     <Workflow name="WF_HDoSale" parameters="$Size $ProductCode $null">
          <Step cmd="PosSizeSelection  $Size" />
          <Step label="INIT" cmd="PosDoChoice  $ProductCode" labelTrue="END" labelFalse="GO_SALE" />
          <Step label="GO_SALE" cmd="PosDoSale  $ProductCode $null" />
          <Step label="END" />
     </Workflow>
     <Workflow name="WF_SWOpenDay" parameters="$Timeout $Forced">
		<Step cmd="PosRPSCheckAvailability" />
          <Step cmd="SendOpenCloseToEsocketJS '1'" />
          <Step cmd="PosDoSWOpenDayJS $Timeout $Forced" />
          <Step cmd="PosCreateReport  'CASH' 'ReportOpenCloseSW#USRestaurantOpsReports' 'NOPREVIEW' '_dayOpenXML'" />
          <Step cmd="PosRemoveSessionProperty  'dayOpenXML'" />
     </Workflow>
     <Workflow name="WF_HideMeOnlyWhenAtSpecialTrn" parameters="$ButtonNumber">
        <!--<Step cmd="PosCheckTransactionKind '1'" labelTrue="HIDE_BUTTON" labelFalse="CHECK_WASTE"/>-->
        <!-- First see if promo order is ever allowed-->
		<!-- NVS-7041, only do DT OT check when button is promo order -->
		<Step cmd="PosCompareValues $ButtonNumber '36'" labelTrue="PROMOCHECK" labelFalse="CHOICECHECK" />
		<Step label="PROMOCHECK" cmd="PosCheckSessionProperty 'workingMode' 'orderTaker'" labelTrue="HIDE_BUTTON" />
        <Step label="CHOICECHECK" cmd="PosCompareValues $ButtonNumber '0'" labelTrue="NEXT" labelFalse="CHECK_LEVEL" />
        <Step label="CHECK_LEVEL" cmd="PosCheckParameter 'UserInterface' 'PromoOrderAuthorityLevel' 'false'" labelTrue="HIDE_BUTTON" labelFalse="NEXT" />
        <!-- Do the processing the old old workflow had -->
        <Step label="NEXT" cmd="PosCheckTransactionKind '1'" labelTrue="HIDE_BUTTON" labelFalse="CHECK_WASTE" />
        <Step label="CHECK_WASTE" cmd="PosCheckTransactionKind '2'" labelTrue="HIDE_BUTTON" />
        <Step label="HIDE_BUTTON" cmd="PosChangeButtonProperties '0' 'visible|false'" labelTrue="EXIT" />
        <Step label="EXIT" />
    </Workflow>
     <Workflow name="WF_HDoGrillEndAndBackToMainScreen" parameters="$PressedButton $ScreenMain">
          <Step cmd="PosDoGrillEnd  $PressedButton" />
          <Step cmd="PosShowScreen  $ScreenMain" />
     </Workflow>
     <Workflow name="WF_DoVoidSale">
          <Step label="DO_OVERRING" cmd="PosDoVoidSaleJS" />
          <Step label="CHECK_DT" cmd="PosCheckSessionProperty 'POD' 'DRIVE_THRU'" labelFalse="GO_MAINSCREEN" />
          <Step label="PosDoAutoRecallJS" labelTrue="END" />
          <Step label="GO_MAINSCREEN" cmd="PosShowScreen '_baseScreenId'" />
     </Workflow>
     <Workflow name="WF_MultiOrder">
        <Step cmd="PosCheckSessionProperty 'dedicatedCOD' 'false'" labelFalse="DEDICATED_MOD" />		
		<Step cmd="PosCheckSessionProperty 'workingMode' 'orderTaker|cashier|both'" />		
		<Step cmd="PosNotATransactionInProgress" />		
		<Step cmd="PosMultiOrder" />		
		<Step cmd="PosCheckSessionProperty 'bMultiOrder' 'true' " labelFalse="SHOW_COD_BUTTONS" />		
		<Step cmd="PosDisplayMultiOrderStatus '0' 'multiorderOn.png' 'multiorderOff.png'" />		
		<Step cmd="PosCheckSessionProperty 'lastSelectedCOD' '0'" labelTrue="SHOW_COD_BUTTONS" labelFalse="HIDE_COD_BUTTONS" />		
		<Step label="HIDE_COD_BUTTONS" cmd="ButtonCODJS '_lastSelectedCOD' '0'" />		
		<Step cmd="PosShowScreen '_screenNumberCOD'" labelTrue="EXIT" />		
		<Step label="SHOW_COD_BUTTONS" cmd="ButtonCODJS '_activatedCOD' '0'" />		
		<Step cmd="PosShowScreen '_screenNumberCOD'" labelTrue="EXIT" />
		<Step label="DEDICATED_MOD" cmd="PosMultiOrder" />
		<Step cmd="PosDisplayMultiOrderStatus '0' 'multiorderOn.png' 'multiorderOff.png'" />	
     </Workflow>
     <Workflow name="WF_DoVoidLineBackScreen" parameters="$ask">
          <Step cmd="PosNotATransactionInProgress  'true'" labelTrue="BACKPREVIOUS" labelFalse="VOIDLINE" />
          <Step label="VOIDLINE" cmd="PosDoVoidLine  $ask" />
          <Step label="BACKPREVIOUS" cmd="PosBackToPreviousScreen" />
     </Workflow>
     <Workflow name="WF_ScreenTimeOut">
          <Step cmd="PosScreenTimeOutJS  '900-999' '1099-1399' '1099' 'timeout2.wav'" />
                <Step cmd="PosShowGrillFloatScreen" />
     </Workflow>
     <Workflow name="WF_GiftCardCashOut">
          <Step cmd="PosGiftCardCashOutJS  'NOPREVIEW|SAVE'" />
		  <Step cmd="PosShowScreen '900'" />
     </Workflow>
     <Workflow name="WAY_HourlySalesReport" parameters="$SessionCtxID $BusinessDate $Time $POD $ServiceList $null">
          <Step cmd="WayDoReport   $SessionCtxID 'CASH|HOURLYSALES' $BusinessDate $Time $POD $ServiceList 'ReportSaleHourByDate#USHourlySalesReports' $null" />
     </Workflow>
     <Workflow name="WF_OnActivate_ChangeButtonCOD" parameters="$COD $bitmap $bitmapdn $POD $workingMode $ButtonNumber">
          <Step cmd="ChangeButtonCODJS  $COD $bitmap $bitmapdn" labelFalse="HIDE" />
          <Step cmd="PosCheckSessionProperty  'POD' $POD" labelFalse="HIDE" />
          <Step cmd="PosCheckSessionProperty  'workingMode' $workingMode" labelFalse="HIDE" />
          <Step cmd="PosChangeButtonProperties  $ButtonNumber 'visible|true'" labelTrue="EXIT" />
          <Step label="HIDE" cmd="PosChangeButtonProperties  $ButtonNumber 'visible|false'" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_HideButtonIfDoesntMatchDTProperties" parameters="$POD $workingMode $ButtonNumber">
          <Step cmd="PosCheckSessionProperty  'POD' $POD" labelFalse="HIDE" />
          <Step cmd="PosCheckSessionProperty  'workingMode' $workingMode" labelFalse="HIDE" />
          <Step cmd="PosChangeButtonProperties  $ButtonNumber 'visible|true'" labelTrue="EXIT" />
          <Step label="HIDE" cmd="PosChangeButtonProperties  $ButtonNumber 'visible|false'" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_NewSale">
          <Step cmd="PosIsInSaleMode" labelFalse="GO_BASE" />
          <Step cmd="PosNotATransactionInProgress  'true'" labelTrue="GO_BASE" labelFalse="VOID" />
          <Step label="VOID" cmd="PosDoVoidSale  'false'" labelFalse="GO_BASE" />
          <Step label="GO_BASE" cmd="PosShowScreen  '_baseScreenId'" />
     </Workflow>
     <Workflow name="WAY_GetAuthorization" parameters="$SessionCtxID $Level $User $Password">
          <Step cmd="WayGetAuthorization  $SessionCtxID $Level $User $Password" />
     </Workflow>
     <Workflow name="WF_HDoPromoSale" parameters="$null">
          <Step cmd="PosDoPromoItem  '-1' $null" />
     </Workflow>
     <Workflow name="WF_HideButtonIfNotRecalledOrder" parameters="$ButtonNumber">
          <Step cmd="PosCheckSessionProperty 'saleRecalled' 'true'" labelFalse="HIDE" />
          <Step cmd="PosCheckSessionProperty 'POD' 'DT|FC'" labelTrue="SHOWIT" labelFalse="CHECKBACK" />
          <Step label="CHECKBACK" cmd="PosCheckSessionProperty 'BackFromTotal' 'false'" labelFalse="HIDE" labelTrue="SHOWIT" />
          <Step label="SHOWIT" cmd="PosChangeButtonProperties $ButtonNumber 'visible|true'" labelTrue="EXIT" />
          <Step label="HIDE" cmd="PosChangeButtonProperties $ButtonNumber 'visible|false'" />
          <Step label="EXIT" />
     </Workflow>
	 <!-- NVS-7152, Check DT Cashier only for the "New Order" button -->
	 <Workflow name="WF_HideButtonNewOrder" parameters="$ButtonNumber"> 
		  <Step label="CHECK_DTMODE" cmd="PosCheckSessionProperty 'workingMode' 'cashier|both'" labelTrue="HIDE" labelFalse="CONTINUE" />
          <Step label="CONTINUE" cmd="PosCheckSessionProperty 'POD' 'DT|FC'" labelTrue="SHOWIT" labelFalse="CHECKBACK" />
          <Step label="CHECKBACK" cmd="PosCheckSessionProperty 'BackFromTotal' 'false'" labelFalse="HIDE" labelTrue="SHOWIT" />
          <Step label="SHOWIT" cmd="PosChangeButtonProperties $ButtonNumber 'visible|true'" labelTrue="EXIT" />
          <Step label="HIDE" cmd="PosChangeButtonProperties $ButtonNumber 'visible|false'" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WAY_Report" parameters="$SessionCtxID $ReportType $BusinessDate $Time $POD $POSList $ServiceList $JSName">
          <Step cmd="WayDoReport   $SessionCtxID $ReportType $BusinessDate $Time $POD $POSList $ServiceList $JSName" />
     </Workflow>
     <Workflow name="WF_CheckIfEverestIsLoaded">
		<Step cmd="PosIsAdaptorLoadedJS  'ESocket'" labelTrue="SHOW" labelFalse="CHECK2" />
		<Step label="CHECK2" cmd="PosCheckParameter  'Cashless3' 'Active' 'true'" labelTrue="SHOW" labelFalse="HIDE" />
          <Step label="SHOW" cmd="PosChangeButtonProperties  '0' 'visible|true'" labelTrue="END" />
          <Step label="HIDE" cmd="PosChangeButtonProperties  '0' 'visible|false'" labelTrue="END" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WAY_BOIUPLOAD" parameters="$SessionCtxID $Token $ID $BusinessDate $NewCMU $TableVersion $Compressed $KVSType $OrderList $SOSCheckPoint">
          <Step cmd="WayBOBOIUpload  $SessionCtxID $Token $ID $BusinessDate $NewCMU $TableVersion $Compressed $KVSType $OrderList $SOSCheckPoint" />
          <Step cmd="WayBOBOIFormatResponse_3  $SessionCtxID 'upload' $Token $ID $BusinessDate $NewCMU $TableVersion $Compressed 'formatBOIUpload@BusinessComponentsWeb.nps'" />
     </Workflow>
     <Workflow name="WF_HideMeIfMatchWorkingMode" parameters="$workingMode $ButtonNumber">
          <Step cmd="PosCheckSessionProperty  'workingMode' $workingMode" labelTrue="HIDE" labelFalse="SHOW" />
          <Step label="SHOW" cmd="PosChangeButtonProperties  $ButtonNumber 'visible|true'" labelTrue="EXIT" />
          <Step label="HIDE" cmd="PosChangeButtonProperties  $ButtonNumber 'visible|false'" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_SelectProductScreen" parameters="$ProductCode $ScreenNumber">
          <Step cmd="PosSelectProduct  $ProductCode" />
          <Step cmd="PosShowScreen  $ScreenNumber" />
          <Step cmd="PosProtectQuantity" />
     </Workflow>
     <Workflow name="WF_ReprintReceipt">
		  <Step cmd="SelectReprintReceiptMode" labelTrue="LOCALPOS" labelFalse="EXIT" />
          <Step label="LOCALPOS" cmd="PosRePrintReport 'ALL' '' 'MSG_BC_REPRINT_PREAMBLE'" />
		  <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_ShowBtnMultiOrd" parameters="$ButtonNumber">
          <Step cmd="PosCheckSessionProperty  'POD' 'DRIVE_THRU'" labelFalse="HIDE" />
          <Step cmd="PosChangeButtonProperties  $ButtonNumber 'visible|true'" labelTrue="IMAGE" />
          <Step label="HIDE" cmd="PosChangeButtonProperties  $ButtonNumber 'visible|false'" labelTrue="EXIT" />
          <Step label="IMAGE" cmd="PosDisplayMultiOrderStatus  $ButtonNumber 'multiorderOn.png' 'multiorderOff.png'" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_UnblockPOS" parameters="$Level $SingleSignOn">
          <Step cmd="PosGetAuthorizationJSUS  $Level $SingleSignOn" />
          <Step cmd="PosSetPauseMessage '' 'false'" />
          <Step cmd="PosShowScreen '_baseScreenId'" />
     </Workflow>
     <Workflow name="WF_HDoSkipCar">
          <Step cmd="PosDoSkipCar" />
     </Workflow>
     <Workflow name="WF_DoNewOrder">
          <Step cmd="isUberEatsOrder" labelTrue="CONTINUE_UBEREATS" labelFalse="CONTINUE_MOBILE" /> <!-- Check if it is UberEats order -->
          
          <Step label="CONTINUE_UBEREATS" cmd="PosCheckSessionProperty 'POD' 'FRONT_COUNTER|FC'" labelTrue="GET_MOBILE_ORDER" labelFalse="CHECK_OT" />
          <Step label="CHECK_OT" cmd="PosCheckSessionProperty 'workingMode' 'orderTaker'" labelTrue="GET_MOBILE_ORDER" labelFalse="CHECK_CS" />
          <Step label="CHECK_CS" cmd="PosCheckSessionProperty 'workingMode' 'cashier|both'" labelTrue="RE_QUEUE_UBEREATS" labelFalse="GET_MOBILE_ORDER" />
          
          <Step label="RE_QUEUE_UBEREATS" cmd="PosSetSessionProperty 'activatedCOD' '0' 'true'" /> <!-- UberEats order -->
          <Step cmd="PosDoStore" />		<!-- don't remove promotions before store NVS-4223 -->
          <Step cmd="PosOffersClearMessage" />
          <Step cmd="PosRecallNextOrder 'RecallByPreview'" /> <!-- UberEats Order - Redirect to Recall Screen -->
          <Step cmd="PosShowScreen '9998'" labelTrue="END" /> 		
          
          <Step label="GET_MOBILE_ORDER" cmd="PosBackToPreviousScreen" /> 
          <Step cmd="PosDoTotal" /> 
          <Step cmd="PosBackToPreviousScreen" />	<!-- don't remove promotions before store NVS-4223 --> 
          <Step cmd="PosDoStore" /> 
          <Step cmd="PosOffersClearMessage" /> 
          <Step cmd="PosShowMobileRecallScreen" /> 
          <Step cmd="PosSetSessionProperty 'KeepSelectedCODOnVoidSale' 'true'" />
          <Step cmd="PosGetMobileOrder" labelTrue="END" labelFalse="END" /> 		  
          
          <Step label="CONTINUE_MOBILE" cmd="PosCheckSessionProperty 'saleRecalled' 'true'" labelFalse="END" /> <!-- Regular Mobile Order -->
          <Step cmd="PosSetSessionProperty 'activatedCOD' '0' 'true'" />    
          <Step cmd="PosDoStore" />		<!-- don't remove promotions before store NVS-4223 -->
          <Step cmd="PosOffersClearMessage" />
          <Step cmd="PosShowScreen '_baseScreenId'" /> <!-- Mobile Order - Redirect to base screen -->
          <Step label="END" />
     </Workflow>
     <Workflow name="WF_Required">
          <Step cmd="PosShowMessage  'MSG_NOT_YET'" />
     </Workflow>
     <Workflow name="WF_SynchDateTime">
          <Step cmd="PosSynchDateTime" labelTrue="MESSAGE_OK" labelFalse="MESSAGE_ERROR" />
          <Step label="MESSAGE_ERROR" cmd="PosShowMessage  'MSG_WFL_CANNOT_UPDATE'" labelTrue="END" />
          <Step label="MESSAGE_OK" cmd="PosShowMessage  'MSG_WFL_UPDATED'" labelTrue="END" />
          <Step label="END" />
     </Workflow>
     <Workflow name="WF_TimePunch">
          <Step cmd="PosNotATransactionInProgress" />
          <Step cmd="PosTimePunchJS" />
          <Step cmd="PosCreateReport  'TIMEPUNCH' 'ReportSingleTimePunch#USRestaurantOpsReports' 'PREVIEW|SAVE'" />
     </Workflow>
     <Workflow name="WF_OtherPayments" parameters="$TenderType">
          <Step cmd="PosDoSkim  'N/A' $TenderType 'false' 'false' 'PETTY_CASH'" />
          <Step cmd="PosCreateReport  'PMIX|CASH' 'ReportOtherPayments#USRestaurantOpsReports' 'NOPREVIEW' '_swPettyLimit'" />
          <Step cmd="PosShowScreen  '_baseScreenId'" />
     </Workflow>
     <Workflow name="WF_HDoGrillEnd" parameters="$PressedButton $SaleType $ScreenNumber">
          <Step cmd="PosDoGrillEnd $PressedButton" />
          <Step cmd="PosDoTotalJS $SaleType $ScreenNumber '51' 'NOPREVIEW|SAVE' ''" />
     </Workflow>
     <Workflow name="WF_CancelSpecialTrn">
          <Step cmd="PosCancelSpecialTrn" />
          <Step cmd="eSocket_preSwipeCancelJS" />
		  <Step cmd="PosDisplayLaneOpenMessage" />
          <Step cmd="PosShowScreen  '_baseScreenId'" />
     </Workflow>
     <Workflow name="WF_DoClearGrill">
          <Step cmd="PosClearGrill" />
     </Workflow>
     <Workflow name="WF_DisplayText" parameters="$Message $Destination">
          <Step cmd="PosDisplayText  $Message $Destination" />
     </Workflow>
          <!-- Show Prices --> 
          <!-- End Show Prices --> 
     <Workflow name="WF_HideButtonIfMatchPODandNotEverest" parameters="$POD $ButtonNumber">
		<Step cmd="PosIsAdaptorLoadedJS  'ESocket'" labelTrue="SHOW" labelFalse="CHECK2" />
		<Step label="CHECK2" cmd="PosCheckParameter  'Cashless3' 'Active' 'true'" labelTrue="SHOW" labelFalse="HIDE" />
          <Step label="SHOW" cmd="PosChangeButtonProperties  $ButtonNumber 'visible|true'" labelTrue="EXIT" />
          <Step label="HIDE" cmd="PosChangeButtonProperties  $ButtonNumber 'visible|false'" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_DoLoadImage" parameters="$ButtonNumber $ProductCode">
          <Step cmd="PosLoadProductImage  $ButtonNumber $ProductCode" />
     </Workflow>
     <Workflow name="WF_DoRecallByPreviewFromTender"> 
          <Step cmd="PosSetSessionProperty 'activatedCOD' '0' 'true'" /> 
          <Step cmd="PosCheckCashDrawer" labelFalse="OPENED" /> 
          <Step cmd="PosCheckSessionProperty 'saleRecalled' 'true'" /> 
          <Step cmd="PosOffersBackFromTotal" />
	  <!-- NVS-6024 - [2ACCTest]: Recall by preview button available on tender screen is not working on DT Register - Felipe Ramas -->
          <!-- <Step cmd="PosBackFromTotalUndoOffer" /> -->
          <!-- <Step cmd="PosBackFromTotalUndoPromotion" /> -->
          <Step cmd="PosBackFromTotalUndoOffer" labelTrue="UNDO_PROMOTIONS" labelFalse="UNDO_PROMOTIONS" />
          <Step label="UNDO_PROMOTIONS" cmd="PosBackFromTotalUndoPromotion" labelTrue="DO_STORE" labelFalse="DO_STORE" />
          <Step label="DO_STORE" cmd="PosDoStore" /> 
          <Step cmd="PosOffersClearMessage" />
          <Step cmd="PosRecallNextOrder 'RecallByPreview'" /> 
          <Step cmd="PosShowScreen '9998'" labelTrue="END" /> 
          <Step label="OPENED" cmd="PosShowMessage 'MSG_BC_DRAWEROPENED'" /> 
          <Step label="END" /> 
     </Workflow> 
     <Workflow name="WF_HideButtonOnlyWhenAtWaste">
          <!-- First see if promo order is ever allowed-->
          <Step cmd="PosCheckParameter 'UserInterface' 'PromoItemAuthorityLevel' 'false'" labelTrue="HIDE_BUTTON" labelFalse="NEXT" />
          <!-- Do the old workflow logic -->
          <Step label="NEXT" cmd="PosCheckTransactionKind '2'" labelTrue="HIDE_BUTTON" />
          <Step label="HIDE_BUTTON" cmd="PosChangeButtonProperties '0' 'visible|false'" labelTrue="EXIT" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_HideButtonIfNotScroll">
          <Step cmd="PosCheckShowScrollGrill" labelTrue="HIDE" labelFalse="SHOW" />
          <Step label="SHOW" cmd="PosChangeButtonProperties  '0' 'visible|true'" labelTrue="END" />
          <Step label="HIDE" cmd="PosChangeButtonProperties  '0' 'visible|false'" labelTrue="END" />
          <Step label="END" />
     </Workflow>
     <Workflow name="WF_HDoSalePromo" parameters="$ProductCode">
          <Step cmd="PosDoChoice  $ProductCode" labelFalse="EXIT" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_GiftCardBalance">
          <Step cmd="PosIsInSaleMode" />
          <Step cmd="PosGiftCardBalanceJS  'NOPREVIEW|SAVE'" />
     </Workflow>
     <Workflow name="WF_ChangeSaleTypeGoScreen" parameters="$SaleType $BkfScreenNumber $ScreenNumber">
          <Step cmd="PosIsInSaleMode  'false'" labelFalse="SHOW_MESSAGE" />
          <Step cmd="PosChangeButtonProperties  '1000' 'visible|true'" />
          <Step cmd="PosSetSaleType  $SaleType 'true'" />
          <Step cmd="PosIsBreakfastTime" labelFalse="LUNCH" />
          <Step cmd="PosShowScreen  $BkfScreenNumber" labelTrue="EXIT" />
          <Step label="LUNCH" cmd="PosShowScreen  $ScreenNumber" labelTrue="EXIT" />
          <Step label="SHOW_MESSAGE" cmd="PosShowMessage  'MSG_BC_NOT_READYORDER'" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_WaitingForNewDevelopment" parameters="$Message">
          <Step cmd="PosShowMessage  $Message" />
     </Workflow>
     <Workflow name="WAY_Authorized_SynchDateTime" parameters="$SessionCtxID $Level $User $Password $BusinessDate $Time">
          <Step cmd="WayGetAuthorization  $SessionCtxID $Level $User $Password" />
          <Step cmd="WaySynchDateTime  $SessionCtxID $BusinessDate $Time" />
     </Workflow>
     <Workflow name="WAY_GetPosList" parameters="$SessionCtxID">
          <Step cmd="WayDoGetPosList  $SessionCtxID" />
     </Workflow>
     <Workflow name="WF_DayClose">
		<Step cmd="PosRPSCheckAvailability" />
          <Step cmd="PosEndOfDayJS" />
          <Step cmd="PosCreateReport  'ALL' 'ReportEndOfDay#USCashReports' 'NOPREVIEW'" />
     </Workflow>
     <Workflow name="WF_DoGrillOperMulti" parameters="$Components $Oper">
          <Step cmd="PosCheckGrillPropertyMulti  'c' $Components" labelTrue="MODIFIED" labelFalse="ORIGINAL" />
          <Step label="MODIFIED" cmd="PosDoGrillOperMulti  'c' $Components" labelTrue="EXIT" />
          <Step label="ORIGINAL" cmd="PosDoGrillOperMulti  $Oper $Components" labelTrue="EXIT" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_BackFromTimeScreen">
          <Step cmd="PosProtectQuantity" />
          <Step cmd="PosBackToPreviousScreen" />
     </Workflow>
     <Workflow name="WF_DoRecallByPreview">
          <Step cmd="PosSizeSelection '-1'" /> 
		  <Step cmd="PosRefreshButtons" /> 
		  <Step cmd="PosNotATransactionInProgress 'false'" labelFalse="EXIT" />
          <Step cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="SALE" />
          <Step cmd="PosShowMenuPriceDialogJS" labelFalse="EXIT" />
          <Step label="SALE" cmd="PosCheckCashDrawer" labelFalse="OPENED" />
          <Step cmd="PosOffersClearMessage" />
          <Step cmd="PosRecallNextOrder 'RecallByPreview'" />
          <Step cmd="PosShowScreen '9998'" labelTrue="EXIT" /> 
          <Step label="OPENED" cmd="PosShowMessage 'MSG_BC_DRAWEROPENED'" />
          <Step label="EXIT" />
     </Workflow> 
     <Workflow name="WF_OnActivate_ModeCOD" parameters="$POD $workingMode $ButtonNumber">
          <Step cmd="CODDedicatedModeJS  'false'" />
          <Step cmd="PosCheckSessionProperty  'POD' $POD" labelFalse="HIDE" />
          <Step cmd="PosCheckSessionProperty  'workingMode' $workingMode" labelFalse="HIDE" />
          <Step cmd="PosChangeButtonProperties  $ButtonNumber 'visible|true'" labelTrue="EXIT" />
          <Step label="HIDE" cmd="PosChangeButtonProperties  $ButtonNumber 'visible|false'" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_SwapSalePanel">
          <Step cmd="PosCheckSessionProperty  'currentSalePanelPosition' 'WEST'" labelTrue="WEST" labelFalse="EAST" />
          <Step label="WEST" cmd="PosSetSessionProperty  'currentSalePanelPosition' 'EAST' 'true'" labelTrue="SWAP" />
          <Step label="EAST" cmd="PosSetSessionProperty  'currentSalePanelPosition' 'WEST' 'true'" labelTrue="SWAP" />
          <Step label="SWAP" cmd="PosSwapSalePanel  '_currentSalePanelPosition'" />
     </Workflow>
     <Workflow name="WAY_BOIREQUEST" parameters="$SessionCtxID $Token $ID $BusinessDate $NewCMU $TableVersion $Compressed">
          <Step cmd="WayBOBOIRequest  $SessionCtxID $Token $ID $BusinessDate $NewCMU $TableVersion $Compressed" />
          <Step cmd="WayBOBOIFormatResponse_3  $SessionCtxID 'request' $Token $ID $BusinessDate $NewCMU $TableVersion $Compressed" />
     </Workflow>
     <Workflow name="WF_DoTenderFromCalculator" parameters="$TenderID $Value">
          <Step cmd="PosFormatTenderValue" />
          <Step cmd="PosDoTenderJS  $TenderID $Value 'NOPREVIEW|SAVE'" />
     </Workflow>
     <Workflow name="WF_HSizeSelection" parameters="$Size">
          <Step cmd="PosSizeSelection  $Size" />
     </Workflow>
     <Workflow name="WF_HSelectProduct" parameters="$ProductCode">
          <Step cmd="PosSelectProduct  $ProductCode" />
     </Workflow>
     <!--Workflow name="WF_SizeSelection" parameters="$Size">
          <Step cmd="PosSizeSelection  $Size"/>
          <Step cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="EXIT"/>
          <Step cmd="PosReloadCurrentScreen"/>
          <Step cmd="PosRefreshFloatButtons"/>
          <Step cmd="PosShowPrice 'false'"/>
          <Step cmd="PosShowPrice 'true'"/>
          <Step label="EXIT"/>
     </Workflow-->
     <Workflow name="WF_HDoGrillStartSTORE" parameters="$ScreenNumber">
          <Step cmd="PosNotATransactionInProgress  'true'" labelTrue="GO_NOT_READY" labelFalse="INIT" />
          <Step label="GO_NOT_READY" cmd="PosShowMessage  'MSG_BC_NO_ORDER_IN_PROGRESS'" labelTrue="EXIT" />
          <Step label="INIT" cmd="PosShowScreen  '3051'" />
          <Step cmd="PosShowScreen '3051'" /> 
          <Step cmd="PosDoGrillStart  $ScreenNumber" labelTrue="EXIT" />
          <Step label="EXIT" />
     </Workflow>    
     <Workflow name="WF_HideButtonIfMatchRemPOD" parameters="$RemPOD $ButtonNumber">
          <Step cmd="PosCheckSessionProperty  'RemPOD' $RemPOD" labelTrue="HIDE" labelFalse="SHOW" />
          <Step label="SHOW" cmd="PosChangeButtonProperties  $ButtonNumber 'visible|true'" labelTrue="EXIT" />
          <Step label="HIDE" cmd="PosChangeButtonProperties  $ButtonNumber 'visible|false'" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_HGoManager" parameters="$ScreenNumber">
          <Step cmd="PosNotATransactionInProgress  'true'" labelTrue="GO_MGR" labelFalse="ORDR_IN_PROG" />
          <Step label="GO_MGR" cmd="PosShowScreen  $ScreenNumber" labelTrue="EXIT" />
          <Step label="ORDR_IN_PROG" cmd="PosShowMessage  'MSG_BC_SALEPROG'" labelTrue="EXIT" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_HBatteryStatus">
          <Step cmd="PosShowBatteryStatus" />
     </Workflow>
     <Workflow name="WF_HDoStore">
          <Step cmd="PosNotATransactionInProgress  'true'" labelTrue="NO_ORDER" labelFalse="DO_WORK" />
          <Step label="NO_ORDER" cmd="PosShowMessage  'MSG_BC_NO_ORDER_IN_PROGRESS'" labelTrue="EXIT" />
          <Step label="DO_WORK" cmd="PosDoStoreJS '10000001|3030,10000002|3007,10000003|3030,10000004|3030,10000005|3003'" labelTrue="EXIT" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_HDoTotalBySaleType" parameters="$SaleType $ScreenNumber">
          <Step cmd="PosDoTotalJS  $SaleType $ScreenNumber '51' 'NOPREVIEW|SAVE' '10000001|3030,10000002|3007,10000003|3030,10000004|3030,10000005|3003'" />
     </Workflow>    
     
     <Workflow name="WF_DoOperatorLogout">
        <Step cmd="PosCheckTransactionKind '1'" labelTrue="CONTINUE" labelFalse="NEXT" />
        <Step label="CONTINUE" cmd="PosCancelSpecialTrn" labelTrue="NEXT" labelFalse="END" />
        <Step label="NEXT" cmd="PosCheckSessionProperty 'bLockCashout' '1'" labelTrue="CASHOUT_BLOCKED" labelFalse="NO_TRF_IN_PROGRESS" />
        <Step label="NO_TRF_IN_PROGRESS" cmd="PosCheckCashDrawer" labelTrue="CHECK_POSTYPE" labelFalse="OPENED" />
        <Step label="CHECK_POSTYPE" cmd="PosCheckSessionProperty 'POD' 'DRIVE_THRU'" labelTrue="CHECK_DTMODE" labelFalse="LOGOUT_CASHIER" />
        <Step label="CHECK_DTMODE" cmd="PosCheckSessionProperty 'workingMode' 'orderTaker'" labelTrue="LOGOUT_ORDERTAKER" labelFalse="LOGOUT_CASHIER" />
        <Step label="LOGOUT_CASHIER" cmd="PosDoOperatorLogout" labelTrue="REPORT" />
        <Step label="LOGOUT_ORDERTAKER" cmd="PosDoOperatorLogout" />
         <Step label="REPORT" cmd="PosCreateReport 'ALL' 'ReportOperatorLogout#USCashReports' 'SAVE|NOPREVIEW'" labelTrue="END" />
        <Step label="OPENED" cmd="PosShowMessage 'MSG_BC_DRAWEROPENED'" labelTrue="END" />
        <Step label="CASHOUT_BLOCKED" cmd="PosShowMessage 'MSG_TRANSFER_ALREADY_IN_PROGRESS'" />
        <Step label="END" />
    </Workflow> 
     
     <Workflow name="WF_HDoTotal" parameters="$ScreenTender">
          <Step cmd="PosCheckSaleOpen" labelFalse="TENDER" />
          <Step cmd="PosDoTotal" />
          <Step cmd="PosCheckSessionProperty  'workingMode' 'orderTaker'" labelFalse="TENDER" />
          <Step cmd="PosShowScreen  '1000'" />
          <Step label="TENDER" cmd="PosShowScreen  $ScreenTender" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_SelectProduct" parameters="$ProductCode">
          <Step cmd="PosSelectProduct  $ProductCode" />
     </Workflow>
     <Workflow name="WF_DoDTOperatorLogin">
          <Step cmd="PosDoOperatorLoginJS  'DT' 'NOPREVIEW'" />
     </Workflow>
     <Workflow name="WF_ShowDiscountMenu" parameters="$ScreenNumber">
          <Step cmd="PosOffersIsDiscountAllowed_USCOE 'DISCOUNT' " labelTrue="DISCOUNTMENU" labelFalse="EXIT" />
          <Step label="DISCOUNTMENU" cmd="PosShowScreen $ScreenNumber" labelTrue="EXIT" labelFalse="EXIT" />
     </Workflow>
     <Workflow name="WF_DoDiscount" parameters="$DiscountID $DiscountType $DiscountInputMode $DiscountValue $Description">
          <Step cmd="PosOffersIsDiscountAllowed_USCOE 'DISCOUNT'" labelTrue="HAS_ELECTRONIC" labelFalse="EXIT" />
          <Step label="HAS_ELECTRONIC" cmd="PosHasElectronicTendersJS" labelTrue="ERR_MESSAGE2" labelFalse="COMPARE_VALUES" />
          <Step label="COMPARE_VALUES" cmd="PosCompareValues $DiscountID '0'" labelTrue="CONTINUE" labelFalse="CHECK_TAX" />
          <Step label="CHECK_TAX" cmd="PosTenderCondition 'NoTax'" labelFalse="CONTINUE" labelTrue="ERR_MESSAGE" />
          <Step label="CONTINUE" cmd="PosDoDiscountJS $DiscountID $DiscountType $DiscountInputMode $DiscountValue $Description 'NOPREVIEW|SAVE'" labelTrue="EXIT" />
          <Step label="ERR_MESSAGE" cmd="PosShowMessage 'MSG_BC_CREWMEAL_NOTALLOWED'" labelTrue="EXIT" labelFalse="EXIT" />
          <Step label="ERR_MESSAGE2" cmd="PosShowMessage 'MSG_BC_OPERATION_AFTERCASHLESS_NOTALLOWED'" labelTrue="EXIT" labelFalse="EXIT" />
          <Step label="EXIT" />
     </Workflow>
     <!-- nvs-39--> 
     <Workflow name="WF_DoOperatorLogin">
		<Step cmd="PosDoOperatorLoginJS 'ANY' 'NOPREVIEW'" />
		<Step cmd="PosCheckParameter 'PosType' 'IsMOT' 'true'" labelFalse="END" />
		<Step cmd="IsSPODModeJS" />
		<Step cmd="PosCheckSessionProperty 'POD' 'DT'" labelFalse="END" />
		<Step cmd="PosCreateCODRoutList" />
		<Step cmd="PosEnableCOD '0' '2'" />
		<Step cmd="PosEnableCOD '1' '2'" labelFalse="SAVEIT" />
		<Step label="SAVEIT" cmd="PosSaveCODRouting '0'" />
		<Step label="END" />
     </Workflow>
     <Workflow name="WF_OpenCashDrawers">
          <Step cmd="PosIsInSaleMode" />
          <Step cmd="PosOpenCashDrawer" />
     </Workflow>
     <Workflow name="WF_HDoChangeRemPOD" parameters="$RemPOD">
          <Step cmd="PosChangeRemPOD  $RemPOD" />
          <Step cmd="PosBackToPreviousScreen" />
     </Workflow>
     <Workflow name="WF_HandleCalculatorClick" parameters="$ButtonID">
          <Step cmd="PosHandleCalculatorButton  $ButtonID" />
     </Workflow>
     <Workflow name="WF_ActivateGiftCardButton" parameters="$Text">
          <Step cmd="CanSellGiftCardJS" labelTrue="END" labelFalse="HIDE_BUTTON" />
          <Step label="HIDE_BUTTON" cmd="PosChangeButtonProperties  '0' 'visible|false' $Text" />
          <Step label="END" />
     </Workflow>
     <Workflow name="WF_ChangePODFilter">
          <Step cmd="PODFilterJS  'true'" />
     </Workflow>
     <Workflow name="WF_DoPromoItem" parameters="$PromoType">
          <Step cmd="PosNotATransactionInProgress  'true'" labelFalse="PROMO" />
          <Step cmd="PosShowMessage  'MSG_BC_NO_ORDER_IN_PROGRESS'" labelTrue="END" />
          <Step label="PROMO" cmd="PosDoPromoItem  $PromoType" />
          <Step label="END" />
     </Workflow>
	<Workflow name="WAY_Authorized_Report_New_SOS" parameters="$SessionCtxID $Level $User $Password $ReportType $BusinessDate $Time $POD $POSList $ServiceList $JSName">
		<Step cmd="WayRPSCheckAvailability" />
		<Step cmd="WayGetAuthorization  $SessionCtxID $Level $User $Password" />
		<Step cmd="WayDoDetailedSOS $SessionCtxID 'DetailedSOS' $BusinessDate $POSList $ServiceList '' 'GenerateSegmentData@reports.nps'" />
		<Step cmd="WayDoReportConverttoNPSharpCallNew $SessionCtxID $ReportType $BusinessDate $Time $POD $POSList $ServiceList $JSName" />
	</Workflow>
	<Workflow name="WAY_Authorized_Report" parameters="$SessionCtxID $Level $User $Password $ReportType $BusinessDate $Time $POD $POSList $ServiceList $JSName">
          <Step cmd="WayGetAuthorization  $SessionCtxID $Level $User $Password" />
          <Step cmd="WayDoReportConverttoNPSharpCallNew   $SessionCtxID $ReportType $BusinessDate $Time $POD $POSList $ServiceList $JSName" />
     </Workflow>
     <Workflow name="WF_ChangeSaleType" parameters="$SaleType">
          <Step cmd="PosSetSaleType  $SaleType 'true'" />
     </Workflow>
     <Workflow name="WF_DoGrillOperQuali" parameters="$Oper $Bit">
          <Step cmd="PosDoGrillOper  'c'" />
          <Step cmd="PosDoGrillOper  $Oper $Bit" />
     </Workflow>
     <Workflow name="WF_ChangeItemFocus" parameters="$SelectedProductCode">
          <Step cmd="PosSaveSelectedItem  $SelectedProductCode" />
     </Workflow>
     <Workflow name="WF_HideButtonIfDoesntMatchCODProperties" parameters="$POD $workingMode $CODMode $ButtonNumber">
          <Step cmd="PosCheckSessionProperty  'POD' $POD" labelFalse="HIDE" />
          <Step cmd="PosCheckSessionProperty  'workingMode' $workingMode" labelFalse="HIDE" />
          <Step cmd="PosCheckSessionProperty  'dedicatedCOD' $CODMode" labelFalse="HIDE" />
          <Step cmd="PosChangeButtonProperties  $ButtonNumber 'visible|true'" labelTrue="EXIT" />
          <Step label="HIDE" cmd="PosChangeButtonProperties  $ButtonNumber 'visible|false'" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WAY_BOIDOWNLOAD" parameters="$SessionCtxID $Token $ID $Data64">
          <Step cmd="WayBOBOIDownload  $SessionCtxID $Token $ID $Data64" />
          <Step cmd="WayBOBOIFormatResponse_3  $SessionCtxID 'download' $Token $ID '' '' '' ''" />
     </Workflow>
     <Workflow name="WAY_Authorized_CashReport" parameters="$SessionCtxID $Level $User $Password $ReportType $BusinessDate $Time $POD $ServiceList $JSName $null">
          <Step cmd="WayGetAuthorization  $SessionCtxID $Level $User $Password" />
          <Step cmd="WayDoReport   $SessionCtxID $ReportType $BusinessDate $Time $POD $ServiceList $JSName $null" />
     </Workflow>
     <Workflow name="WF_ShowScreenWithPassword" parameters="$ScreenNumber">
          <Step cmd="PosShowScreenWithPassword  $ScreenNumber" />
     </Workflow>
     <Workflow name="WF_ResetTimePunch">
          <Step cmd="PosResetTimePunch" />
     </Workflow>
     <Workflow name="WAY_Authorized_HourlySalesReport" parameters="$SessionCtxID $Level $User $Password $BusinessDate $Time $POD $ServiceList $null">
          <Step cmd="WayGetAuthorization  $SessionCtxID $Level $User $Password" />
          <Step cmd="WayDoReport   $SessionCtxID 'CASH|HOURLYSALES' $BusinessDate $Time $POD $ServiceList 'ReportSaleHourByDate#USHourlySalesReports' $null" />
     </Workflow>
     <Workflow name="WF_HDoClearGrill">
          <Step cmd="PosClearGrill" />
          <Step cmd="PosRefreshButtons" />
     </Workflow>
     <Workflow name="WF_ChangeUserPassword" parameters="$Flags">
          <Step cmd="PosNotATransactionInProgress" />
          <Step cmd="PosChangeUserPasswordJS  $Flags" />
     </Workflow>
     <Workflow name="WF_ShowScreen" parameters="$ScreenNumber"> 
			<!-- Bugfix for NVS-9174-->
			<!-- <Step cmd="PosSizeSelection '-1'" />  -->
			<!-- <Step cmd="PosRefreshButtons" /> -->
			<!-- <Step cmd="PosReloadCurrentScreen" /> -->
			<Step cmd="PosIsInSaleMode '0'" labelFalse="SHOW" /><!--labelTrue="NEXT"-->
	<!-- <Step label="NEXT" cmd="PosSizeSelection '-1'" />  -->
	<!-- <Step cmd="PosRefreshButtons"/> -->
			<Step label="SHOW" cmd="PosShowScreen $ScreenNumber" /> 
	<!-- <Step cmd="PosRemoveSessionProperty 'selectedProductWithSize'" />  -->
     </Workflow>
	 
	 <Workflow name="WF_ShowScreenJS" parameters="$ScreenNumber"> 
			<Step cmd="PosIsInSaleMode '0'" labelTrue="NEXT" labelFalse="NEXT" />
			<Step label="NEXT" cmd="PosSizeSelection '-1'" /> 
			<Step label="SHOW" cmd="PosShowScreen $ScreenNumber" /> 
			<Step cmd="PosRemoveSessionProperty 'selectedProductWithSize'" /> 
     </Workflow>

     <Workflow name="WF_ReportSOS" parameters="$ServiceList $DataTypes">
          <Step cmd="PosParameterIsEmpty $ServiceList" />
          <Step cmd="PosReportSOSJS $DataTypes 'PREVIEW|CONSOLIDATED'" />
          <Step cmd="PosShowScreen  '905'" />
     </Workflow>
     <Workflow name="WF_DoNextOrder">
          <Step cmd="PosSetSessionProperty 'activatedCOD' '0' 'true'" />
          <Step cmd="PosDoNextOrderJS" />
     </Workflow>
     <Workflow name="WF_ShowButtonGrill" parameters="$Oper $ButtonNumber">
          <Step cmd="PosCheckGrillPropertyMulti 'c' '80000005' '-1'" labelTrue="HIDE" labelFalse="CONTINUE" />
          <Step label="CONTINUE" cmd="PosCheckGrillProperty $Oper" labelFalse="HIDE" />
          <Step cmd="PosCheckGrillProperty '0'" labelTrue="HIDE" labelFalse="NEXT" />
          <Step label="NEXT" cmd="PosChangeButtonProperties $ButtonNumber 'visible|true'" labelTrue="EXIT" />
          <Step label="HIDE" cmd="PosChangeButtonProperties $ButtonNumber 'visible|false'" labelTrue="EXIT" />
     </Workflow>
     <Workflow name="WF_ChangeTaxMode" parameters="$Mode">
          <Step cmd="PosHasElectronicTendersJS" labelTrue="ERR_MESSAGE2" labelFalse="TENDER_COND" />
          <Step label="TENDER_COND" cmd="PosTenderCondition 'EmpMeal'" labelFalse="CONTINUE" labelTrue="ERR_MESSAGE" />
          <Step label="CONTINUE" cmd="PosChangeTaxModeJS $Mode 'NOPREVIEW|SAVE'" labelTrue="EXIT" />
          <Step label="ERR_MESSAGE" cmd="PosShowMessage 'MSG_BC_NOTAX_NOTALLOWED'" labelTrue="EXIT" />
          <Step label="ERR_MESSAGE2" cmd="PosShowMessage 'MSG_BC_OPERATION_AFTERCASHLESS_NOTALLOWED'" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_PrintPreview" parameters="$change">
          <Step cmd="RepPreviewFilterJS  $change" />
     </Workflow>
     <Workflow name="WAY_PMIXReport" parameters="$SessionCtxID $BusinessDate $Time $POD $ServiceList $null">
          <Step cmd="WayDoReport   $SessionCtxID 'CASH|PMIX' $BusinessDate $Time $POD $ServiceList 'ReportPMixUPTByDate#USProductsReports' $null" />
     </Workflow>
     <Workflow name="WF_DoGrillOper" parameters="$Oper">
          <Step cmd="PosDoGrillOper  $Oper" />
     </Workflow>
     <Workflow name="WF_ShowCoupons" parameters="$ScreenNumber">
          <Step cmd="PosOffersIsDiscountAllowed_USCOE 'COUPON'" labelTrue="COUPONMENU" labelFalse="EXIT" />
          <Step label="COUPONMENU" cmd="CanReceiveCouponsJS" />
          <Step cmd="PosShowScreen  $ScreenNumber" />
          <Step cmd="PosRemoveSessionProperty  'selectedProductWithSize'" labelTrue="EXIT" labelFalse="EXIT" />
     </Workflow>
     <Workflow name="WF_HBackToPreviousFromTotal">
          <Step cmd="PosDoBackFromTotal" />
          <Step cmd="PosBackToPreviousScreen" />
     </Workflow>
     <Workflow name="WF_HMultiOrder">
          <Step cmd="PosMultiOrder" />
          <Step cmd="PosDisplayMultiOrderStatus '0' 'G1_MLTORDON_HH.png' 'G1_MLTORDOF_HH.png'" />
     </Workflow>
     <Workflow name="WF_HShowBtnMultiOrd" parameters="$ButtonNumber">
          <Step cmd="PosCheckSessionProperty 'RemPOD' 'DRIVE_THRU'" labelTrue="SHOW" labelFalse="HIDE" />
          <Step label="HIDE" cmd="PosChangeButtonProperties $ButtonNumber 'visible|false'" labelTrue="EXIT" labelFalse="EXIT" />
          <Step label="SHOW" cmd="PosChangeButtonProperties $ButtonNumber 'visible|true'" />
          <Step cmd="PosDisplayMultiOrderStatus $ButtonNumber 'G1_MLTORDON_HH.png' 'G1_MLTORDOF_HH.png'" />
          <Step label="EXIT" />
     </Workflow> 
     <Workflow name="WF_HApplyUpdate">
          <Step cmd="PosSynchDateTimeGet" />
          <Step cmd="PosSecurityUpdate" />
          <Step cmd="PosApplyUpdateJS" />
     </Workflow>    
     <Workflow name="WF_ChangeDTMode">
          <Step cmd="PosChangeDtWorkingModeJS" />
     </Workflow>
     <Workflow name="WF_DoTotalBySaleType" parameters="$SaleType $ScreenNumber"> 
	 		<!--NPS-5843-->
			<Step cmd="PosSizeSelection '-1'" /> 
			<Step cmd="PosRefreshButtons" />
			<Step cmd="PosReloadCurrentScreen" />
			<!--NPS-5843-->
          <!-- Show Prices -->
          <Step cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="ONSALE" />
          <Step cmd="PosSetSaleType $SaleType" />
          <Step cmd="PosShowPrice 'false'" />
          <Step cmd="PosShowPrice 'true'" labelTrue="EXIT" />
          <!-- End Show Prices -->
          <Step label="ONSALE" cmd="PosDoTryGrillEnd '3'" />
          <Step cmd="PosSetSessionProperty 'runPromotionOnTotal' 'true'" />
          <Step cmd="PosCheckSessionProperty 'POD' 'HOT'" labelTrue="HOT_TOTAL" labelFalse="NEXT" /> 
		<Step label="NEXT" cmd="PosCheckParameter 'OperationMode' 'smartReminder' 'true'" labelTrue="EOT_TOTAL" labelFalse="POS_TOTAL" />          
          <Step label="POS_TOTAL" cmd="PosDoTotalJS $SaleType $ScreenNumber '51' 'NOPREVIEW|SAVE' '10000001|6,10000002|9,10000003|6,10000004|6,10000005|9,10000101|6,10000201|6,10000301|6,10000401|6,10000501|6,10000601|6,10000701|9,10000801|9'" labelTrue="EXIT" /> 
          <Step label="EOT_TOTAL" cmd="PosDoTotalJS $SaleType $ScreenNumber '51' 'NOPREVIEW|SAVE' '10000001|309,10000002|312,10000003|309,10000004|309,10000005|312'" labelTrue="EXIT" />
          <Step label="HOT_TOTAL" cmd="PosDoTotalJS $SaleType $ScreenNumber '51' 'NOPREVIEW|SAVE' '10000001|1030,10000002|1060,10000003|1030,10000004|1030,10000005|1060'" /> 
          <Step label="EXIT" /> 
     </Workflow> 
     <Workflow name="WF_HideButtonWhenAtWasteOrRefund" parameters="$Text">
          <Step cmd="PosCheckTransactionKind  '1'" labelTrue="HIDE_BUTTON" labelFalse="TEST" />
          <Step label="TEST" cmd="PosCheckTransactionKind  '2'" labelTrue="HIDE_BUTTON" labelFalse="END" />
          <Step label="HIDE_BUTTON" cmd="PosChangeButtonProperties  '0' 'visible|false' $Text" labelTrue="END" />
          <Step label="END" />
     </Workflow>
     <Workflow name="WF_SwitchProduction">
          <Step cmd="PosSwitchProduction" />
     </Workflow>
     <Workflow name="WF_HDoVoidSale">
          <Step cmd="PosDoVoidSale" />
     </Workflow>
     <Workflow name="WF_PausePOS" parameters="$ScreenNumber">
          <Step label="TRANSACTION" cmd="PosNotATransactionInProgress" labelTrue="INFOLD" labelFalse="END" />
          <Step label="INFOLD" cmd="PosSetPauseMessage 'MSG_BC_LD_PAUSED' 'true'" labelTrue="SCREEN" labelFalse="OPENED" />
          <Step label="DRAWER" cmd="PosCheckCashDrawer" labelTrue="SCREEN" labelFalse="OPENED" />
          <Step label="SCREEN" cmd="PosShowScreen  $ScreenNumber" labelTrue="END" />
          <Step label="OPENED" cmd="PosShowMessage  'MSG_WFL_CANNOT_PAUSE'" />
          <Step label="END" />
     </Workflow>
     <Workflow name="WF_HideSalePanel">
          <Step cmd="PosChangeButtonProperties  '1000' 'visible|false'" />
          <Step cmd="PosChangeButtonProperties  '2000' 'visible|false'" />
     </Workflow>
     <Workflow name="WAY_OpenAllPos" parameters="$SessionCtxID $BusinessDate $timeout $isForced $source $JSName $isConditional">
          <Step cmd="WayBOOpenAllPos  $SessionCtxID $BusinessDate $timeout $isForced $source $JSName $isConditional" />
     </Workflow>
     <Workflow name="WAY_Close" parameters="$Message">
          <Step cmd="BOShowMessage  $Message" />
     </Workflow>
     <Workflow name="WF_Transfer" parameters="$Transf_Mode $Transf_TenderID $Transf_TaxID $Transf_Quantity $JSName">
          <Step cmd="PosTransfer  $Transf_Mode $Transf_TenderID $Transf_TaxID $Transf_Quantity" />
          <Step cmd="PosCreateReportConverttoNPSharpCall  'CASH' $JSName 'NOPREVIEW'" />
     </Workflow>
     <Workflow name="WF_SetDefaultPrinter">
          <Step cmd="PosSetDefaultPrinter" />
     </Workflow>
     <Workflow name="WF_DoRecallByList">
          <Step cmd="PosCheckCashDrawer" labelFalse="OPENED" />
          <Step cmd="PosOffersClearMessage" />
          <Step cmd="PosRecallNextOrder  'RecallByList'" />
          <Step cmd="PosDoTotal" />
          <Step cmd="PosShowScreen  '53'" labelTrue="END" />
          <Step label="OPENED" cmd="PosShowMessage  'MSG_BC_DRAWEROPENED'" />
          <Step label="END" />
     </Workflow>
     <Workflow name="WF_BackToBase">
          <Step cmd="PosIsBreakfastTime" labelFalse="LUNCH" />
          <Step cmd="PosShowScreen  '70'" labelTrue="EXIT" />
          <Step label="LUNCH" cmd="PosShowScreen  '100'" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_LoadPriceImage" parameters="$Size $ProductCode">
          <Step cmd="PosChangeButtonProperties  '0' 'extra|true'" />
          <Step cmd="PosGetPriceForButton  '0' $Size $ProductCode" />
     </Workflow>
     <Workflow name="WF_DoStore">
          <Step cmd="PosDoStoreJS" />
     </Workflow>
     <Workflow name="WAY_Authorized_CloseAllPos" parameters="$SessionCtxID $Level $User $Password $BusinessDate $timeout $isForced $source $JSName $isConditional">
          <Step cmd="WayGetAuthorization  $SessionCtxID $Level $User $Password" />
          <Step cmd="WayBOCloseAllPosConverttoNPSharpCall  $SessionCtxID $BusinessDate $timeout $isForced $source $JSName $isConditional" />
     </Workflow>
	 <Workflow name="WF_DoGrillStart" parameters="$ScreenNumber">
           <Step cmd="PosSizeSelection '-1'" /> 
	   <Step cmd="PosRefreshButtons" />
	   <Step cmd="PosReloadCurrentScreen" />
	   <Step cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="GO" />
           <Step cmd="PosShowMenuPriceDialogJS" labelFalse="EXIT" />
           <Step label="GO" cmd="PosNotATransactionInProgress 'true'" labelTrue="GO_NOT_READY" labelFalse="INIT" />
           <Step label="GO_NOT_READY" cmd="PosShowMessage 'MSG_BC_NO_ORDER_IN_PROGRESS'" labelTrue="EXIT" />
           <Step label="INIT" cmd="PosSetSessionProperty 'showGrillScreen' 'yes'" />
           <Step cmd="PosDoGrillStart $ScreenNumber" labelTrue="EXIT" />
           <Step label="EXIT" />
      </Workflow>
     <Workflow name="WF_DoubleCrewNext" parameters="$Direction">
          <Step cmd="PosCrewPanelMoveOrder  $Direction" />
     </Workflow>
     <Workflow name="WF_SetReportScope" parameters="$Flags $POD $ServiceList $ScreenNumber">
          <Step cmd="PosSetReportScope  $Flags $POD $ServiceList" />
          <Step cmd="PosShowScreen  $ScreenNumber" />
     </Workflow>
     <Workflow name="WF_ModeCOD" parameters="$ScreenNumber">
          <Step cmd="CODDedicatedModeJS  'true'" />
          <Step cmd="PosShowScreen  $ScreenNumber" />
     </Workflow>
     <!-- NVS-7549, 756 -->
	<Workflow name="WF_HideButtonIfMatchPOD" parameters="$POD $ButtonNumber $IsBillable">
		<Step cmd="PosChangeButtonProperties '0' 'visible|true'" />
		<Step cmd="PosCheckSessionProperty 'foreignTenderID' '-1'" labelFalse="HIDE_IT2" />
		<Step cmd="PosSetSessionProperty 'ShowBillable' $IsBillable" />
		<Step cmd="PosCheckSessionProperty 'ShowBillable' '1'" labelFalse="HIDE_IT" />
		<Step cmd="PosCheckParameter 'UserInterface' 'AllowDTBillable' 'true'" labelFalse="HIDE_IT" labelTrue="EXIT" />
		<Step label="HIDE_IT" cmd="HideButtonIfMatchPODJS $POD $ButtonNumber " labelTrue="EXIT" />
		<Step label="HIDE_IT2" cmd="PosChangeButtonProperties '0' 'visible|false'" />
		<Step label="EXIT" />
	</Workflow> 
   <Workflow name="WF_ChangeBaseScreen" parameters="$ListOfScreenIds $ListOfScreenNames">
          <Step cmd="PosChangeBaseScreen  $ListOfScreenIds $ListOfScreenNames" />
          <Step cmd="PosShowScreen  '_baseScreenId'" />
     </Workflow>
     <!-- Updated for NVS-23 -->
     <!--Workflow name="WF_BackToPreviousScreen">
          <Step cmd="PosDisplayText '' '1'" />
          <Step cmd="PosBackToPreviousScreen" />
          <Step cmd="PosShowGrillFloatScreen" />
	  <Step cmd="PosIsVACCurrentlySelectedJS" /> // NVS-988
     </Workflow>-->
     <Workflow name="WF_RunOSCommand" parameters="$OSCommand98 $OSCommandX">
          <Step cmd="PosVerifyOSName  'WIN_98'" labelTrue="ON_WIN98" labelFalse="ON_WINX" />
          <Step label="ON_WIN98" cmd="PosRunOSCommand  $OSCommand98" labelTrue="EXIT" />
          <Step label="ON_WINX" cmd="PosRunOSCommand  $OSCommandX" labelTrue="EXIT" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_ShowRegData">
          <Step cmd="PosShowRegistryInformation" />
     </Workflow>
     <Workflow name="WF_HDoBackFromTotal">
          <Step cmd="PosDoBackFromTotal" />
          <Step cmd="PosSetCOD '1'" />   
          <Step cmd="PosCheckSessionProperty  'view' ''" labelTrue="SHOWBASESCREEN" labelFalse="PRINT" />
          <Step label="PRINT" cmd="PosCreateReport  'CONSVIEW' 'Receipt#USReceiptReports' 'NOPREVIEW|SAVE' '_CASHLESS'" />
		  <Step cmd="PosCheckSessionProperty 'SecondCopyOfReceipt'" labelFalse="SHOWBASESCREEN" />
          <Step cmd="PosCreateReport  'CONSVIEW' 'Receipt#USReceiptReports' 'NOPREVIEW|SAVE' '_CASHLESS'" />
          <Step cmd="PosSetSessionProperty  'SecondCopyOfReceipt' 'false'" />
          <Step label="SHOWBASESCREEN" cmd="PosShowScreen  '_baseScreenId'" />
     </Workflow>
     <Workflow name="WF_DoBackFromTotal" parameters="$SaleTp">
          <Step cmd="PosOffersBackFromTotal" />
          <Step cmd="PosBackFromTotalUndoOffer" labelTrue="UNDO_PROMOTIONS" labelFalse="UNDO_PROMOTIONS" />
          <Step label="UNDO_PROMOTIONS" cmd="PosBackFromTotalUndoPromotion" labelTrue="DO_BACKFROMTOTAL" labelFalse="DO_BACKFROMTOTAL" />
          <Step label="DO_BACKFROMTOTAL" cmd="PosSetSessionProperty 'discountForPromoOrder' 'false'" />  // NVS-890
		  <Step cmd="SetVariableforModifyButtonClick" />
          <Step cmd="PosDoBackFromTotal" />
          <!-- Step cmd="PosSetCOD $SaleTp"/ NVS-1499 --> 
          <Step cmd="PosCheckSessionProperty 'view' ''" labelTrue="SHOWBASESCREEN" labelFalse="PRINT" />
           <Step label="PRINT" cmd="PosCreateReport 'VIEW' 'Receipt#USReceiptReports' 'NOPREVIEW|SAVE' '_CASHLESS'" />
		  <Step cmd="PosCheckSessionProperty 'SecondCopyOfReceipt' 'true'" labelFalse="SHOWBASESCREEN" />
           <Step cmd="PosCreateReport  'VIEW' 'Receipt#USReceiptReports' 'NOPREVIEW|SAVE' '_CASHLESS'" />
          <Step cmd="PosSetSessionProperty  'SecondCopyOfReceipt' 'false'" />
          <!-- SDE-2610 -->
        <!--<Step label="SHOWBASESCREEN" cmd="PosSetSessionProperty 'BackFromTotal' 'true'"/> -->
          
	  <Step label="SHOWBASESCREEN" /> 
	  <!-- NVS-5857 - msilva - Check mobile order Payment Options screen -->
	  <Step cmd="PosCheckDisplayMobileOrderPayment" labelTrue="EXIT" labelFalse="DISPLAYBASESCREEN" /> 
	  <Step label="DISPLAYBASESCREEN" cmd="PosShowScreen '_baseScreenId'" /> 
          <Step cmd="PosShowGrillFloatScreen" />
		  
	  <Step label="EXIT" /> 
     </Workflow>
     <Workflow name="WF_DoQuantum" parameters="$Quantity">
          <Step cmd="PosDoQuantum  $Quantity" />
     </Workflow>
     <Workflow name="WF_ShowManagerMenuDuet" parameters="$Level $SingleSignOn $ScreenNumber">
          <Step cmd="PosNotATransactionInProgress" />
          <Step cmd="PosGetAuthorizationJSUS  $Level $SingleSignOn" />
          <Step cmd="PosDisplayText  '' '2'" />
          <Step cmd="PosChangeButtonProperties  '1000' 'visible|true'" />
          <Step cmd="PosShowScreen  $ScreenNumber" />
          <Step cmd="PosDoQuantum  '-1'" />
          <Step cmd="PosRemoveSessionProperty  'selectedProductWithSize'" />
     </Workflow>
     <Workflow name="WF_ProductionReport" parameters="$ProductionNode $reportType $ScriptFile">
          <Step cmd="PosSpeedOfServiceReport  $ProductionNode $reportType $ScriptFile" />
     </Workflow>
     <Workflow name="WF_Shutdown" parameters="$ShutdownType $level $isForced">
          <Step cmd="PosShutdown  $ShutdownType $level $isForced" />
     </Workflow>
     <Workflow name="WF_SelectCurrentReportType" parameters="$ButtonIndex $ButtonProperty $Value">
          <Step cmd="PosSelectCurrentReportType  $ButtonIndex $ButtonProperty $Value" />
     </Workflow>
     <Workflow name="WF_DoRecallNextOrder">
         <!--NPS-5843-->
			<Step cmd="PosSizeSelection '-1'" /> 
			<Step cmd="PosRefreshButtons" />
			<Step cmd="PosReloadCurrentScreen" />
			<!--NPS-5843-->
			<Step cmd="PosDoRecallOrderJS" />
	 </Workflow>
     <Workflow name="WF_DisableChoice" parameters="$Message $PosLayout-Destination $Level $SingleSignOn">
          <Step cmd="PosNotATransactionInProgress  'true'" labelFalse="DISABLE" />
          <Step cmd="PosShowMessage  'MSG_BC_NO_ORDER_IN_PROGRESS'" labelTrue="EXIT" />
          <Step label="DISABLE" cmd="PosDisplayText  $Message $PosLayout-Destination" />
          <Step cmd="PosGetAuthorizationJSUS  $Level $SingleSignOn" />
        <Step cmd="PosDisableChoiceListJS" />
          <Step cmd="PosDisplayText  'drink logic override' '1'" />
          <Step cmd="PosSetSessionProperty  'bClearInfoArea' 'false'" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_ChangeSkimLimit" parameters="$TenderId">
          <Step cmd="PosChangeSkimLimit  $TenderId" />
     </Workflow>
     <Workflow name="WF_DoSaleSize" parameters="$Size $ProductCode $ScreenNumber">
		  <Step cmd="PosRefreshButtons" />
          <Step cmd="IfParameterEmptyGoScreenJS  $ScreenNumber" />
		  <Step cmd="PosSetSessionProperty 'persist' 'false'" />
		  <Step cmd="PosDoSaleSizeJS  $Size $ProductCode" />
		  <Step cmd="PosSizeSelectionJS '-1' 'false'" />
     </Workflow>
     <Workflow name="WF_ShowEmployeeMenuDuet" parameters="$ScreenNumber">
          <Step cmd="PosChangeButtonProperties  '1000' 'visible|true'" />
          <Step cmd="PosShowScreen  $ScreenNumber" />
     </Workflow>
     <Workflow name="WF_DoGrillEnd" parameters="$PressedButton">
          <Step cmd="PosDoGrillEnd $PressedButton" />
          <Step cmd="PosShowGrillFloatScreen" />
     </Workflow>
	 <Workflow name="WF_DoCYTGrillEnd" parameters="$PressedButton $ScreenTagIDNumber">
		  <Step cmd="PosDoGrillEnd $PressedButton" />       
		  <Step cmd="PosShowScreen $ScreenTagIDNumber" />
		   <Step cmd="PosShowGrillFloatScreen" /> 
	 </Workflow>
     <Workflow name="WF_ChooseKvs">
          <Step cmd="PosChooseService  'KVS' 'selectedKvs'" />
     </Workflow>
          <Workflow name="WF_HourlyReportConfigure">
          <Step cmd="PosShowScreen '2007'" />
     </Workflow>
     <Workflow name="WF_SosButtons" parameters="$ButtonNumber $IntervalNumval">
          <Step cmd="PosSOSButtonJS $ButtonNumber $IntervalNumber" />
     </Workflow>
     <Workflow name="WF_SOSScreenInit" parameters="$ButtonNumber $IntervalNumber">
          <Step cmd="PosSOSInitJS $ButtonNumber $IntervalNumber" />
     </Workflow>
     <Workflow name="WF_SOSSaveProperties" parameters="$ReturnToScreen $NumberOfKeys">
          <Step cmd="PosSOSSavePropertiesJS $ReturnToScreen $NumberOfKeys" />
     </Workflow>
     <Workflow name="WF_SOSCancelChanges" parameters="$ReturnToScreen $NumberOfKeys">
          <Step cmd="PosSOSCancelChangesJS $ReturnToScreen" />
     </Workflow>
     <Workflow name="WF_SOSSetAllToSame" parameters="$TimeAmount $NumberOfKeys $ListOfKeys">
          <Step cmd="PosSOSSetAllToSameJS $TimeAmount $NumberOfKeys $ListOfKeys" />
     </Workflow>
     <Workflow name="WF_SOSInitConfig" parameters="$NumberOfButtons">
          <Step cmd="PosSOSInitConfigJS $NumberOfButtons" />
     </Workflow>
     <Workflow name="WF_ShowTandemMode">
          <Step cmd="PosCheckSessionProperty 'tandemEnable' 'true'" labelFalse="DISABLE" />
          <Step cmd="PosChangeButtonProperties '0' 'bitmap|tandemon.png'" labelTrue="EXIT" />
          <Step label="DISABLE" cmd="PosChangeButtonProperties '0' 'bitmap|tandemoff.png'" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_ToggleTandemMode">
          <Step cmd="ToggleTandemModeJS" />
     </Workflow>
     <Workflow name="WF_StartCODRout" parameters="$ScreenNumber">
       <Step cmd="PosCreateCODRoutList" labelFalse="ERROR" />
       <Step cmd="PosShowScreen $ScreenNumber" labelTrue="EXIT" labelFalse="EXIT" />
       <Step label="ERROR" cmd="PosShowMessage 'MSG_BC_ERRORNAOPTION' 'COD Routing'" />
       <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_ShowDedCOD">
            <Step cmd="PosSwitchDefaultCOD '0' '0'" labelTrue="REVERSE" labelFalse="CONTINUE" />
            <Step label="CONTINUE" cmd="PosChangeButtonProperties '0' 'visible|true'" labelTrue="EXIT" />
            <Step label="REVERSE" cmd="PosChangeButtonProperties '0' 'visible|reverse'" />
     </Workflow>    
     <Workflow name="WF_ExecDedCOD">
               <Step cmd="PosSwitchDefaultCOD '1' '0'" labelFalse="CONTINUE" />
               <Step label="CONTINUE" cmd="PosRefreshButtons" />
     </Workflow> 
     <Workflow name="WF_ShowDefaultCOD" parameters="$NbrCOD">
            <Step cmd="PosSwitchDefaultCOD '0' $NbrCOD" labelFalse="REVERSE" />
            <Step cmd="PosChangeButtonProperties '0' 'visible|true'" labelTrue="EXIT" />
            <Step label="REVERSE" cmd="PosChangeButtonProperties '0' 'visible|reverse'" />
     </Workflow>
     <Workflow name="WF_ExecDefaultCOD" parameters="$NbrCOD">
          <Step cmd="PosSwitchDefaultCOD '1' $NbrCOD" labelFalse="CONTINUE" />
          <Step label="CONTINUE" cmd="PosRefreshButtons" />
     </Workflow>
     <Workflow name="WF_GetDefCODRouting">
          <Step cmd="PosGetDefaultCODRouting" />
          <Step cmd="PosRefreshButtons" />
     </Workflow>
     <Workflow name="WF_SaveCODRouting" parameters="$Default">
          <Step cmd="PosSaveCODRouting $Default" />
          <Step cmd="PosBackToPreviousScreen" />
     </Workflow>
     <Workflow name="WF_ShowEnableCOD" parameters="$NbrCOD $BMP1 $BMP2">
          <Step cmd="PosEnableCOD '0' $NbrCOD" labelFalse="ENABLE" />
          <Step cmd="PosChangeButtonProperties '0' $BMP1" labelTrue="EXIT" />
          <Step label="ENABLE" cmd="PosChangeButtonProperties '0' $BMP2" />
     </Workflow>
     <Workflow name="WF_EnableCOD" parameters="$NbrCOD $BMP1 $BMP2">
          <Step cmd="PosEnableCOD '1' $NbrCOD" labelFalse="ENABLE" />
          <Step cmd="PosChangeButtonProperties '0' $BMP1" labelTrue="EXIT" />
          <Step label="ENABLE" cmd="PosChangeButtonProperties '0' $BMP2" />
     </Workflow>
     <!-- SS6.5 Version 
     <Workflow name="WF_CancelCOD">
          <Step cmd="PosReleaseCOD"/>
          <Step cmd="PosSetSessionProperty 'activatedCOD' '0' 'true'"/>
          <Step cmd="PosShowScreen '_baseScreenId'"/>
     </Workflow> -->
     <!-- SS6.5 SP1 Modification - NVS82 -->
	<Workflow name="WF_CancelCOD">
		<!-- NPS-8176 -->
		<Step cmd="PosCheckSessionProperty 'dedicatedCOD' 'false'" />
		<Step cmd="PosCheckSessionProperty 'workingMode' 'orderTaker|both'" />
		<Step cmd="PosCheckSessionProperty 'activatedCOD' '0' 'true'" labelTrue="SHOW_ERROR_MESSAGE2" labelFalse="CHECK_MUTIORDER" />
		<Step label="CHECK_MUTIORDER" cmd="PosCheckSessionProperty 'bMultiOrder' 'true'" labelTrue="SHOW_ERROR_MESSAGE" labelFalse="RELEASE_COD" />
		<Step label="SHOW_ERROR_MESSAGE" cmd="PosShowMessage 'MSG_BC_ERRORRESETCOD'" labelTrue="EXIT" />
		<Step label="SHOW_ERROR_MESSAGE2" cmd="PosShowMessage 'MSG_BC_ERRORRESETCOD2'" labelTrue="EXIT" />
		<Step label="RELEASE_COD" cmd="PosShareCODJS" />
        <Step cmd="PosSetSessionProperty 'activatedCOD' '0' 'true'" />
		<Step cmd="PosSetSessionProperty 'lastSelectedCOD' '0' 'true'" />
        <Step cmd="PosShowScreen '_baseScreenId'" />
	</Workflow> 
     <Workflow name="WF_DoGrillOperPlain" parameters="$Components $Oper">
          <Step cmd="PosSetSessionProperty 'isPlain' 'true'" />
          <Step cmd="PosCheckGrillPropertyMulti 'c' $Components" labelTrue="MODIFIED" labelFalse="ORIGINAL" />
          <Step label="MODIFIED" cmd="PosDoGrillOperMulti 'c' $Components" labelTrue="END" />
          <Step label="ORIGINAL" />
		  <!--cmd="PosClearGrill"/>-->
          <Step cmd="PosDoGrillOperMulti $Oper $Components" />
     </Workflow>
     <Workflow name="WF_HideButtonIfNoComponents2" parameters="$ProductCode $Components $ButtonNumber $propMod $propOrig">
          <Step cmd="PosCheckGrillPropertyMulti 'c' '80000005' '-1'" labelTrue="HIDE" labelFalse="CONTINUE" />
          <Step label="CONTINUE" cmd="PosCheckProdComponents $ProductCode $Components" labelFalse="HIDE" />
          <Step cmd="PosCheckGrillPropertyMulti 'c' $Components" labelTrue="MODIFIED" labelFalse="ORIGINAL" />
          <Step label="MODIFIED" cmd="PosChangeButtonProperties $ButtonNumber $propMod" labelTrue="SHOW" />
          <Step label="ORIGINAL" cmd="PosChangeButtonProperties $ButtonNumber $propOrig" labelTrue="SHOW" />
          <Step label="SHOW" cmd="PosChangeButtonProperties $ButtonNumber 'visible|true'" labelTrue="EXIT" />
          <Step label="HIDE" cmd="PosChangeButtonProperties $ButtonNumber 'visible|false'" labelTrue="EXIT" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_ToggleRunnerBox" parameters="$Param1 $Param2">
          <Step cmd="PosCheckParameter 'OperationMode' 'runnerBoxActive' 'true'" labelTrue="TOGGLE" labelFalse="TEST2" />
          <Step label="TEST2" cmd="PosCheckParameter 'OperationMode' 'runnerBoxActive' 'SINGLEDISPLAY'" labelTrue="TOGGLE" labelFalse="TEST3" />
          <Step label="TEST3" cmd="PosCheckParameter 'OperationMode' 'runnerBoxActive' 'DUALDISPLAY'" labelTrue="TOGGLE" labelFalse="ERROR" />
          <Step label="ERROR" cmd="PosShowMessage 'MSG_BC_ERRORNAOPTION' 'Runner Box'" labelTrue="EXIT" labelFalse="EXIT" />
          <Step label="TOGGLE" cmd="PosToggleRunnerBox" />
          <Step cmd="POSVerifyRunnerBoxJS $Param1 $Param2" labelTrue="EXIT" labelFalse="EXIT" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_VerifyRunnerBox" parameters="$Param1 $Param2">
          <Step cmd="POSVerifyRunnerBoxJS $Param1 $Param2" />
     </Workflow>    
     <Workflow name="WF_RemoteDrawerChange">
          <Step cmd="PosGetAuthorizationJSUS 'manager' 'false'" />
          <Step label="START" cmd="PosChooseRemotePOS '0' 'MSG_BC_REMOTEDRWCHANGE' 'MSG_BC_CONFREMDRWCHANGE'" labelFalse="CHECK_CONT" />
          <Step cmd="PosDoRemoteDrawerChange '_SELECTED_REMPOS'" labelTrue="REPORT" labelFalse="ERROR" />
          <Step label="REPORT" cmd="PosCreateReport 'ALL' 'ReportRemoteDrawerChange#USCashReports' 'CONSOLIDATED|NOPREVIEW' '_reportRemDrwChg' '' '_SELECTED_REMPOS' " labelTrue="START" labelFalse="START" />
          <Step label="ERROR" cmd="PosShowMessage 'MSG_WFL_REMOTDRWCHANGEERROR'" />
          <Step label="CHECK_CONT" cmd="PosCheckSessionProperty 'SELECTED_REMPOS' 'NONE'" labelFalse="START" />
	  <Step cmd="PosShowScreen '_baseScreenId'" />
     </Workflow>
     <Workflow name="WF_DoRemoteOperatorLogout">
          <Step cmd="PosCheckCashDrawer" />
          <Step cmd="PosDoOperatorLogout 'true'" />
     </Workflow>
     <Workflow name="WF_DoDetachAuthorized">
          <Step cmd="PosGetAuthorizationJSUS 'manager' 'false'" />
          <Step cmd="PosDetachJS 'false'" />
     </Workflow>
     <Workflow name="WF_DoDetach">
          <Step cmd="PosDetachJS 'false'" />
     </Workflow>
     <Workflow name="WF_DoRemoteDetach">
          <Step cmd="PosDetachJS 'true' ''" />
     </Workflow>
     <Workflow name="WF_ShowButtonRecallByList" parameters="$POD $workingMode $ButtonNumber">
          <Step cmd="ShowButtonRecallByListJS $POD $workingMode $ButtonNumber" />
          <Step cmd="PosCheckParameter 'PosType' 'IsMOT' 'true'" labelFalse="END" />
          <Step label="HIDE" cmd="PosChangeButtonProperties $ButtonNumber 'visible|false'" />
          <Step label="END" />
     </Workflow>
     <Workflow name="WF_ShowButtonToPOD" parameters="$ButtonNumber $bitmapDT $bitmapdnDT $bitmapWT $bitmapdnWT $bitmapFC $bitmapdnFC">
          <Step cmd="ShowButtonToPOD $ButtonNumber $bitmapDT $bitmapdnDT $bitmapWT $bitmapdnWT $bitmapFC $bitmapdnFC" />
     </Workflow>
     <Workflow name="WF_ForcedReleaseCOD" parameters="$COD">
          <Step cmd="PosForcedReleaseCOD $COD" />
     </Workflow>
     <Workflow name="WAY_Authorized_RemovePOS" parameters="$SessionCtxID $Level $User $Password $POSList">
          <Step cmd="WayGetAuthorization $SessionCtxID $Level $User $Password" />
          <Step label="GO" cmd="WayBORemovePOS $SessionCtxID $POSList" />
     </Workflow>    
     <Workflow name="WF_DoRemovePOS">
          <Step cmd="PosRemovePOS" />
     </Workflow>
     <Workflow name="WF_ChangeBtnTitle" parameters="$Msg">
       <Step cmd="PosChangeBtnTitleJS '0' $Msg '' '' ''" />
     </Workflow> 
	<!-- modified for NVS-766 -->
     <Workflow name="WF_HideButtonIfSingleCOD" parameters="$ButtonNumber">
		<Step cmd="PosCheckSessionProperty 'POD' 'DRIVE_THRU'" labelFalse="HIDE" /> 
		<Step cmd="PosIsSingleCODJS" labelTrue="CONTINUE" labelFalse="HIDE" />       <!-- NVS-1273 -->
		<Step label="CONTINUE" cmd="PosCheckParameter 'OperationMode' 'DTStoreMode' 'TANDEM'" labelFalse="EXIT" />
          <Step label="HIDE" cmd="PosChangeButtonProperties $ButtonNumber 'visible|false'" />
          <Step label="EXIT" />
     </Workflow>    
	 <!-- NVS-5461 John Brancaleon - POS No Table Service Button -->
	<Workflow name="WF_POS_NO_TAGID" parameters="$TagId">
		<Step cmd="PosRemoveTagID" />
		<Step cmd="PosSetVariableTagID '1' $TagId" labelTrue="CONTINUE_NO_TAGID" labelFalse="CONTINUE_NO_TAGID" />
		<Step label="CONTINUE_NO_TAGID" cmd="PosAssociateTagIdJS $TagId" labelTrue="OK" labelFalse="EXIT" />
		<Step label="OK" cmd="PosHideFloatScreen" /> 
		<Step cmd="PosExecuteSavedWorkflow" /> 
		<Step cmd="PosCSOEnqueueWFExecutionJS 'WF_DoTotalBySaleType' '0' '53'" />
		<Step label="EXIT" />
	</Workflow>
     <Workflow name="WF_DoRecallByPreviewFcWt">
          <Step cmd="PosRecallByPreviewNotDTJS" />
     </Workflow>
          <Workflow name="WF_OpenProductionForced">
          <Step cmd="PosSignalDayOpened" />
     </Workflow>
     <Workflow name="WF_SetPromoAuthority">
          <Step cmd="SetPromoAuthorityJS" />
     </Workflow>
     <Workflow name="WF_SetDiscountAuthority">
          <Step cmd="SetDiscountAuthorityJS" />
     </Workflow>
     <Workflow name="WF_HSecurityUpdate"> 
          <Step cmd="PosSecurityUpdate" /> 
     </Workflow>
     <Workflow name="WF_HideCouponsIfInvalid" parameters="$ButtonNumber $TenderID">
          <Step cmd="PosHideCouponsIfInvalidJS $ButtonNumber $TenderID" />
     </Workflow>
     <Workflow name="WAY_LockSales" parameters="$SessionCtxID $OpType">
          <Step cmd="WayBOLockSales $SessionCtxID $OpType" />
     </Workflow>
     <Workflow name="WAY_RollBackList" parameters="$SessionCtxID">
          <Step cmd="WayBORollBackList $SessionCtxID" />
     </Workflow>
     <!-- Old WF_LockSales from before SS6.5 -->
     <!--<Workflow name="WF_LockSales" parameters="$ManifestDate $updtResult">
          <Step cmd="PosNotATransactionInProgress 'true'" labelTrue="LOCK_SALES" labelFalse="EXIT"/>
          <Step label="LOCK_SALES" cmd="PosSetSessionProperty 'bAUSaleDisable' 'true' 'true'"/>
          <Step cmd="PosLockSales 'true' 'MSG_BC_CFGROLLBACK_WAIT' $ManifestDate $updtResult"/>
          <Step label="EXIT"/>
     </Workflow>-->
     <Workflow name="WF_LockSales" parameters="$Message $TimeoutMessage $LockType"> 
          <Step cmd="PosNotATransactionInProgress 'true'" labelTrue="LOCK_SALES" labelFalse="EXIT" /> 
          <Step label="LOCK_SALES" cmd="PosSetSessionProperty 'bAUSaleDisable' 'true' 'true'" /> 
          <Step cmd="PosLockSales 'true' $Message $TimeoutMessage $LockType" /> 
          <Step label="EXIT" /> 
     </Workflow>
     <!-- Old WF_UnlockSales from before SS6.5 -->
     <!--<Workflow name="WF_UnlockSales" parameters="$ManifestDate $updtResult $Message">
          <Step cmd="PosCheckSessionProperty 'bAUSaleDisable' 'true'" labelFalse="EXIT"/>
          <Step cmd="PosSetSessionProperty 'bAUSaleDisable' 'false' 'true'"/>
          <Step cmd="PosLockSales 'false' $Message $ManifestDate $updtResult"/>
          <Step label="EXIT"/>
     </Workflow>-->
     <Workflow name="WF_UnlockSales" parameters="$Message $ManifestDate"> 
          <Step cmd="PosCheckSessionProperty 'bAUSaleDisable' 'true'" labelFalse="EXIT" /> 
          <Step cmd="PosSetSessionProperty 'bAUSaleDisable' 'false' 'true'" /> 
          <Step cmd="PosLockSales 'false' $Message $ManifestDate" /> 
          <Step label="EXIT" /> 
     </Workflow>
    <Workflow name="WF_RollBackApplyUpdate__REMOVE" parameters="$qtty">
        <Step cmd="PosGetRollBackAvailable $qtty" labelFalse="EXIT" />
        <Step cmd="PosSWLockSales '1'" labelTrue="LOCK_LOCAL" labelFalse="LOCK_ERROR" />
        <!-- If could lock other POS try to lock the local POS -->
        <Step label="LOCK_LOCAL" cmd="PosSetSessionProperty 'bAUSaleDisable' 'true' 'true'" />
        <Step cmd="PosShowRollbackConfirmationMessage" labelTrue="CONFIRMED1" labelFalse="UNLOCK_POS" />
        <Step label="CONFIRMED1" cmd="PosShowDblRollbackConfirmationMessage" labelTrue="CONFIRMED" labelFalse="UNLOCK_POS" />
        <Step label="CONFIRMED" cmd="PosLockSales 'true'" labelFalse="LOCK_ERROR" />
        <Step cmd="PosRollbackByDate" labelTrue="EXIT" labelFalse="ROLLBACK_ERROR" />
        <Step label="LOCK_ERROR" cmd="PosSWLockSales '0'" labelTrue="GO1" labelFalse="GO1" />
        <Step label="GO1" cmd="PosSetSessionProperty 'bAUSaleDisable' 'false' 'true'" />
        <Step cmd="PosLockSales 'false'" />
        <Step cmd="PosShowMessage 'MSG_BC_CFGROLLBACK_CANNOT_BLOCK'" labelTrue="EXIT" labelFalse="EXIT" />
        <Step label="UNLOCK_POS" cmd="PosSWLockSales '0'" labelTrue="GO2" labelFalse="UNLOCK_ERROR" />
        <Step label="GO2" cmd="PosSetSessionProperty 'bAUSaleDisable' 'false' 'true'" />
        <Step cmd="PosLockSales 'false'" labelTrue="EXIT" labelFalse="UNLOCK_ERROR" />
        <Step label="UNLOCK_ERROR" cmd="PosShowMessage 'MSG_BC_CFGROLLBACK_CANNOT_UNBLOCK'" labelTrue="EXIT" labelFalse="EXIT" />
        <Step cmd="PosSetSessionProperty 'bAUSaleDisable' 'false' 'true'" />
        <Step cmd="PosLockSales 'false'" labelTrue="EXIT" labelFalse="EXIT" />
        <Step label="ROLLBACK_ERROR" cmd="PosSWLockSales '0'" labelTrue="GO3" labelFalse="GO3" />
        <Step label="GO3" cmd="PosSetSessionProperty 'bAUSaleDisable' 'false' 'true'" />
        <Step cmd="PosLockSales 'false' 'MSG_BC_CFGROLLBACK_WAIT' '' 'MSG_BC_CFGROLLBACK_LOCKTIMEOUT'" />
        <Step cmd="PosShowMessageWithManifestDate 'MSG_BC_CFGROLLBACK_UNCHANGED'" labelTrue="EXIT" labelFalse="EXIT" />
        <Step label="EXIT" />
    </Workflow>
     <Workflow name="WF_ConfirmedShutdown" parameters="$ShutdownType $level $isForced">
          <Step cmd="PosShowConfirmationMessage 'MSG_BC_CFGROLLBACK_WARNING' 'MSG_YES' 'MSG_CANCEL'" labelTrue="CONFIRMED" labelFalse="EXIT" />
          <Step label="CONFIRMED" cmd="PosShutdown $ShutdownType $level $isForced" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_DoKVSDetach">
          <Step cmd="PosDetachKVSJS" />
     </Workflow>
     <Workflow name="WF_GetLastHHOTOrderId">
          <Step cmd="PosGetLastHHOTOrderIDJS" />
     </Workflow> 
     <Workflow name="WF_OnActivate_DayPartButton" parameters="$ButtonNumber">
          <Step cmd="PosCheckParameter 'UserInterface' 'EnableCOCButtons' 'true'" labelFalse="HIDE" />
          <Step label="SHOW" cmd="PosChangeButtonProperties $ButtonNumber 'visible|true'" labelTrue="DODAYPART" />
          <Step label="HIDE" cmd="PosChangeButtonProperties $ButtonNumber 'visible|false'" labelTrue="END" />
          <Step label="DODAYPART" cmd="PosGetDayPart" labelFalse="END" />
          <Step cmd="PosCheckSessionProperty 'CONFIGURED_DAYPART' '-1'" labelTrue="CHANGE" labelFalse="RESET" />
          <Step label="CHANGE" cmd="PosChangeButtonProperties 0 'bitmap|daypart_tran.png' 'bitmapdn|daypart_tran_i.png' 'title|Time of day\n(Automatic)'" labelTrue="END" labelFalse="END" />
          <Step label="RESET" cmd="PosChangeButtonProperties 0 'bitmap|daypart_user.png' 'bitmapdn|daypart_user_i.png' 'title|Time of day\n(User defined)'" labelTrue="END" labelFalse="END" />
          <Step label="END" />
     </Workflow>    
     <Workflow name="WF_DayPartChoose">
          <Step cmd="PosGetDayPart" labelFalse="ERROR" />
          <Step cmd="PosChooseDayPart 'MSG_BC_DAYPART_TITLE' 'MSG_BC_DAYPART_CONF'" labelFalse="END" />
          <Step cmd="PosSetDayPart '_CONFIGURED_DAYPART'" labelFalse="ERROR" />
          <Step cmd="PosCheckSessionProperty 'CONFIGURED_DAYPART' '-1'" labelTrue="CHANGE" labelFalse="RESET" />
          <Step label="CHANGE" cmd="PosChangeButtonProperties 0 'bitmap|daypart_tran.png' 'bitmapdn|daypart_tran_i.png' 'title|Time of day\n(Automatic)'" labelTrue="END" labelFalse="END" />
          <Step label="RESET" cmd="PosChangeButtonProperties 0 'bitmap|daypart_user.png' 'bitmapdn|daypart_user_i.png' 'title|Time of day\n(User defined)'" labelTrue="END" labelFalse="END" />
          <Step label="ERROR" cmd="PosShowMessage 'MSG_BC_DAYPART_ERROR'" />
          <Step label="END" />
     </Workflow>
     <Workflow name="WF_HideCOCButtons" parameters="$ButtonNumber">
          <Step cmd="PosCheckParameter 'UserInterface' 'EnableCOCButtons' 'true'" labelFalse="HIDE" />
          <Step label="SHOW" cmd="PosChangeButtonProperties $ButtonNumber 'visible|true'" labelTrue="EXIT" />
          <Step label="HIDE" cmd="PosChangeButtonProperties $ButtonNumber 'visible|false'" labelTrue="EXIT" />
          <Step label="EXIT" />
     </Workflow> 
     <Workflow name="WF_OutageUpdate">
          <Step cmd="PosOutageUpdate 'MSG_BC_OUTAGE_TITLE' 'MSG_BC_OUTAGE_CONF'" labelTrue="END" labelFalse="ERROR" />
          <Step label="ERROR" cmd="PosShowMessage 'MSG_BC_OUTAGE_ERROR'" />
          <Step label="END" />
     </Workflow>
     <Workflow name="WF_HideButtonIfNotRecalledByPOD" parameters="$POD $ButtonNumber">
          <Step cmd="PosCheckSessionProperty 'POD' $POD" labelFalse="HIDE" />
          <Step cmd="PosCheckSessionProperty 'saleRecalled' 'true'" labelFalse="HIDE" />
          <Step cmd="PosChangeButtonProperties $ButtonNumber 'visible|true'" labelTrue="EXIT" />
          <Step label="HIDE" cmd="PosChangeButtonProperties  $ButtonNumber 'visible|false'" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_ShowSingleCOD" parameters="$ButtonNumber $NbrCOD $BMP1 $BMP2">
	      <Step cmd="PosCheckParameter 'OperationMode' 'DTStoreMode' 'REGULAR|TANDEM_SPEAKER'" labelTrue="IS_DDTSUPPORT" labelFalse="DISABLE" />
		  <Step label="IS_DDTSUPPORT" cmd="PosCheckParameter 'UserInterface' 'DDTSupport' 'false'" labelTrue="NEXT" labelFalse="DISABLE" />
		  <Step label="NEXT" />  <!-- REMOVE STEP SKIP MESSAGE  -->	  
          <Step cmd="PosCreateCODRoutList" />
          <Step cmd="PosEnableCOD '0' $NbrCOD" labelFalse="DISABLE" />
          <Step cmd="PosChangeButtonProperties '0' $BMP1" labelTrue="EXIT" />
          <Step label="DISABLE" cmd="PosChangeButtonProperties '0' $BMP2" />
		  <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_EnableCODSingleLane" parameters="$NbrCOD $BMP1 $BMP2 $Default">
          <Step cmd="PosCheckParameter 'OperationMode' 'DTStoreMode' 'REGULAR|TANDEM_SPEAKER'" labelTrue="IS_DDTSUPPORT" labelFalse="ERROR" />
		  <Step label="IS_DDTSUPPORT" cmd="PosCheckParameter 'UserInterface' 'DDTSupport' 'false'" labelTrue="NEXT" labelFalse="ERROR" />
		  <Step label="NEXT" />
          <Step cmd="PosEnableCOD '1' $NbrCOD" labelFalse="DISABLE" />
          <Step cmd="PosChangeButtonProperties '0' $BMP1" labelTrue="SAVE" labelFalse="DISABLE" />
          <Step label="SAVE" />
          <Step cmd="PosSaveCODRouting $Default" labelTrue="EXIT" labelFalse="EXIT" />
          <Step label="ERROR" cmd="PosShowMessage 'MSG_BC_ERRORNOCOD'" />       
          <Step label="DISABLE" cmd="PosChangeButtonProperties '0' $BMP2" />
		  <Step label="EXIT" />          
     </Workflow>
     <!-- NVS-7549, 756 -->
     <Workflow name="WF_HideCrewTaxExemptButton" parameters="$ButtonNumber">
		<Step cmd="PosCheckSessionProperty 'foreignTenderID' '-1'" labelFalse="HIDE" />
          <Step cmd="PosCheckParameter 'UserInterface' 'ShowCrewTaxExemptButton' 'true'" labelFalse="HIDE" />
          <Step label="SHOW" cmd="PosChangeButtonProperties $ButtonNumber 'visible|true'" labelTrue="EXIT" />
          <Step label="HIDE" cmd="PosChangeButtonProperties $ButtonNumber 'visible|false'" labelTrue="EXIT" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_SetPromoOrderAuthority">
          <Step cmd="SetPromoOrderAuthorityJS" />
     </Workflow>
     <Workflow name="WF_SetPromoItemAuthority">
          <Step cmd="SetPromoItemAuthorityJS" />
     </Workflow>
     <!-- SS6.5 -->
     <Workflow name="WF_HideSetPromoItemAuthority">
          <Step cmd="PosCheckParameter 'UserInterface' 'PromoItemAuthorityLevel' 'false'" />
          <Step cmd="PosChangeButtonProperties '0' 'visible|false'" />
     </Workflow>
     <Workflow name="WF_HideSetPromoOrderAuthority">
          <Step cmd="PosCheckParameter 'UserInterface' 'PromoOrderAuthorityLevel' 'false'" />
          <Step cmd="PosChangeButtonProperties '0' 'visible|false'" />
     </Workflow>
     <!-- NVS-7549, 756 -->
     <Workflow name="WF_HideDiscountButton">
		<Step cmd="PosChangeButtonProperties '0' 'visible|true'" />
		<Step cmd="PosCheckSessionProperty 'foreignTenderID' '-1'" labelFalse="HIDE_IT" />
          <Step cmd="PosCheckParameter 'UserInterface' 'DiscountAuthorityLevel' 'false'" labelFalse="EXIT" />
        <Step label="HIDE_IT" cmd="PosChangeButtonProperties '0' 'visible|false'" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_HideSetDiscountAuthority">
          <Step cmd="PosCheckParameter 'UserInterface' 'DiscountAuthorityLevel' 'false'" />
          <Step cmd="PosChangeButtonProperties '0' 'visible|false'" />
     </Workflow>
     <Workflow name="WF_MOTShowTandemMode">
          <Step cmd="PosCheckCurrentPODTypeJS 'FC' " labelTrue="HIDE" labelFalse="NEXT" />
		  <Step label="NEXT" />
          <Step cmd="PosCheckParameter 'PosType' 'IsMOT' 'true'" labelFalse="HIDE" />
          <Step cmd="PosCheckParameter 'OperationMode' 'DTStoreMode' 'TANDEM|TANDEM_SPEAKER|PARALLEL'" labelFalse="HIDE" />
          <Step cmd="PosCheckSessionProperty 'tandemEnable' 'true'" labelFalse="DISABLE" />
          <Step cmd="PosChangeButtonProperties '0' 'bitmap|tandemon.png'" labelTrue="EXIT" />
          <Step label="DISABLE" cmd="PosChangeButtonProperties '0' 'bitmap|tandemoff.png'" labelTrue="EXIT" />
          <Step label="HIDE" cmd="PosChangeButtonProperties '0' 'visible|false'" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_HideManagerDTOptions">
          <Step cmd="IsSPODModeJS" labelFalse="EXIT" />
          <Step cmd="PosChangeButtonProperties '0' 'visible|false'" />
          <Step label="EXIT" />
     </Workflow>    
     <Workflow name="WF_GoForwardApplyUpdate"> 
                 <Step cmd="PosGoForwardApplyUpdate" /> 
     </Workflow>
     <!-- SS6.5 Service Pack 1 - New Workflows-->
     <Workflow name="WF_HideCoinChanger">
          <Step cmd="PosIsAdaptorLoadedJS 'Telequipt'" labelTrue="EXIT" labelFalse="CONTINUE" />
          <Step label="CONTINUE" cmd="PosChangeButtonProperties '0' 'visible|false'" />
          <Step label="EXIT" />
     </Workflow>
     <!-- Workflows updated due to the new ERC screen numbers -->
     <Workflow name="WF_HandleRecallScreen" parameters="$Action">
          <Step cmd="PosSetSessionProperty 'checkChoicesOnRecall' '10000001|309,10000002|312,10000003|309,10000004|309,10000005|9'" />
          <Step cmd="PosHandleRecallScreen $Action" />
		  <Step cmd="PosApplySmartGrillLogic" /><!-- NVS-6759, Apply Smart Grill Logic on recalled Kiosk orders -->
     </Workflow>

     <!-- Floating Grill - New Workflows -->
     <Workflow name="WF_SetInitFloatGrillOper" parameters="$Oper $Bit $ID">
          <Step cmd="PosSetFloatGrillOper $Oper $Bit" />
          <Step cmd="PosSetSessionProperty 'OPERFLOATGRILL' $ID" />
     </Workflow>
	 <Workflow name="WF_SetButtonFloatGrillOper" parameters="$ID $Action $Image"> 
		 <Step cmd="PosSetCYTGrillOperImage $Action $Image" /> 
		 <Step cmd="PosCheckSessionProperty 'OPERFLOATGRILL' $ID" labelFalse="RELOAD" /> 
		 <Step cmd="PosChangeButtonProperties '0' 'invert|true' 'TRUE'" labelTrue="EXIT" /> 
		 <Step label="RELOAD" /> 
		 <Step cmd="PosChangeButtonProperties '0' 'invert|false' 'TRUE'" /> 
		 <Step label="EXIT" /> 
	 </Workflow> 
     <Workflow name="WF_SetFloatGrillOper" parameters="$Oper $Bit $ID">
          <Step cmd="PosSetFloatGrillOper $Oper $Bit" />
          <Step cmd="PosSetSessionProperty 'OPERFLOATGRILL' $ID" />
          <Step cmd="PosRefreshFloatButtons" />
          <Step cmd="PosRefreshButtons" /> <!-- CYT grill screen is not a floating screen, its buttons need to be refreshed --> 
          <Step cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="EXIT" />
          <Step cmd="PosShowPrice 'true'" />
          <Step label="EXIT" />
     </Workflow>
	 <Workflow name="WF_SetButtonCYTGrillOper" parameters="$ID $Action $Image"> 
          <Step cmd="PosSetCYTGrillOperImage $Action $Image" /> 
          <Step cmd="PosCheckSessionProperty 'OPERFLOATGRILL' $ID" labelFalse="RELOAD" /> 
          <Step cmd="PosChangeButtonProperties '0' 'invert|true'" labelTrue="EXIT" /> 
          <Step label="RELOAD" /> 
          <Step cmd="PosChangeButtonProperties '0' 'invert|false'" /> 
          <Step label="EXIT" /> 
     </Workflow>
     <Workflow name="WF_ExecFloatGrillOper" parameters="$productCode">
          <Step cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="SALE" />
          <Step cmd="PosShowMenuPriceDialogJS" labelFalse="EXIT" />
          <Step label="SALE" cmd="PosSetSessionProperty 'showGrillScreen' 'no'" />
          <Step cmd="PosDoTryGrillStart" labelFalse="EXIT" />
          <Step cmd="PosExecFloatGrillOper $productCode" />
          <Step cmd="PosReloadFloatGrillList" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_ExecFloatGrillOperPlain" parameters="$Components $Oper $DEFAULTID $DefaultOper">
          <Step cmd="onCheckforFaceToFaceTandem" labelTrue="GO" labelFalse="CODCHECK" /> 
          <!-- Check COD selected -->
          <Step label="CODCHECK" cmd="PosIsCODSelectedJS" labelTrue="GO" labelFalse="END" />	 
          <Step label="END" cmd="PosShowMessage 'MSG_BC_SELECTCOD'" labelTrue="EXIT" />
          <Step label="GO" cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="SALE" />
          <Step cmd="PosShowMenuPriceDialogJS" labelFalse="EXIT_1" />
          <Step label="SALE" cmd="PosCanExecFloatGrillOperMulti 'e' $Components" labelFalse="GRILLINV" />
          <Step cmd="PosSetSessionProperty 'showGrillScreen' 'no'" />
          <Step cmd="PosDoTryGrillStart" labelFalse="EXIT_1" />
          <Step cmd="PosCheckGrillPropertyMulti 'c' $Components" labelTrue="MODIFIED" labelFalse="ORIGINAL" />
          <Step label="MODIFIED" cmd="PosDoGrillOperMulti 'c' $Components" labelTrue="SEL_DEFAULT" labelFalse="SEL_DEFAULT" />
          <Step label="ORIGINAL" cmd="PosClearGrill" />
          <Step cmd="PosDoGrillOperMulti $Oper $Components" labelTrue="SEL_DEFAULT" labelFalse="SEL_DEFAULT" />
          <Step label="GRILLINV" cmd="PosShowMessage 'MSG_BC_GRILLINV'" />
          <Step label="SEL_DEFAULT" />
          <Step cmd="PosSetSessionProperty 'OPERFLOATGRILL' $DEFAULTID" />
          <Step cmd="PosSetFloatGrillOper $DefaultOper" />
          <Step cmd="PosReloadFloatGrillList" />
          <Step label="EXIT_1" />
          <Step cmd="PosRefreshFloatButtons" />
     </Workflow>
     <Workflow name="WF_ExecFloatGrillOperClear" parameters="$ID $Oper">
     	  <Step cmd="onCheckforFaceToFaceTandem" labelTrue="GO" labelFalse="CODCHECK" /> 
          <!-- Check COD selected -->
          <Step label="CODCHECK" cmd="PosIsCODSelectedJS" labelTrue="GO" labelFalse="END" />		 
          <Step label="END" cmd="PosShowMessage 'MSG_BC_SELECTCOD'" labelTrue="EXIT" />
          <Step label="GO" cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="SALE" />
          <Step cmd="PosShowMenuPriceDialogJS" labelFalse="EXIT" />
          <Step label="SALE" cmd="PosSetSessionProperty 'showGrillScreen' 'no'" />
          <Step cmd="PosDoTryGrillStart" labelFalse="EXIT" />
          <Step cmd="PosClearGrill" />
          <Step cmd="PosSetFloatGrillOper $Oper" />
          <Step cmd="PosSetSessionProperty 'OPERFLOATGRILL' $ID" />
          <Step cmd="PosReloadFloatGrillList" />
          <Step cmd="PosRefreshFloatButtons" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_HideFloatScreen">
          <Step cmd="PosHideFloatScreen" />
          <Step cmd="PosRefreshButtons" />
	  <Step cmd="PosShowGrillFloatScreen" />
     </Workflow>
     <Workflow name="WF_ExecFloatGrillOperMulti" parameters="$Components $Oper $DEFAULTID $DefaultOper">
     	  <Step cmd="onCheckforFaceToFaceTandem" labelTrue="GO" labelFalse="CODCHECK" /> 
          <!-- Check COD selected -->
          <Step label="CODCHECK" cmd="PosIsCODSelectedJS" labelTrue="GO" labelFalse="END" />	
          <Step label="END" cmd="PosShowMessage 'MSG_BC_SELECTCOD'" labelTrue="EXIT" />
          <Step label="GO" cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="SALE" />
          <Step cmd="PosShowMenuPriceDialogJS" labelFalse="EXIT_1" />
          <Step label="SALE" cmd="PosCanExecFloatGrillOperMulti 'e' $Components" labelFalse="GRILLINV" />
          <Step cmd="PosSetSessionProperty 'showGrillScreen' 'no'" />
          <Step cmd="PosDoTryGrillStart" labelFalse="EXIT_1" />
          <Step cmd="PosCheckGrillPropertyMulti 'c' $Components" labelTrue="MODIFIED" labelFalse="ORIGINAL" />
          <Step label="MODIFIED" cmd="PosDoGrillOperMulti 'c' $Components" labelTrue="SEL_DEFAULT" labelFalse="SEL_DEFAULT" />
          <Step label="ORIGINAL" cmd="PosDoGrillOperMulti $Oper $Components" labelTrue="SEL_DEFAULT" labelFalse="SEL_DEFAULT" />
          <Step label="GRILLINV" cmd="PosShowMessage 'MSG_BC_GRILLINV'" />
          <Step label="SEL_DEFAULT" />
          <Step cmd="PosSetSessionProperty 'OPERFLOATGRILL' $DEFAULTID" />
          <Step cmd="PosSetFloatGrillOper $DefaultOper" />
          <Step cmd="PosReloadFloatGrillList" />
          <Step label="EXIT_1" />
          <Step cmd="PosRefreshFloatButtons" />
     </Workflow>
     <!-- Floating Grill - Updated Workflows -->
     <Workflow name="WF_DoVoidLine">
          <Step cmd="PosDoTryGrillEnd '3'" />
          <Step cmd="PosNotATransactionInProgress 'true'" labelFalse="VOIDLINE" />
          <Step cmd="PosShowMessage 'MSG_BC_NO_ORDER_IN_PROGRESS'" labelTrue="END" />
          <Step label="VOIDLINE" cmd="PosDoVoidLine" />
          <Step label="END" />
     </Workflow>
     <Workflow name="WF_DoSelIndex" parameters="$Index $ForceFloat">
          <Step cmd="PosDoSelIndex $Index $ForceFloat" />
          <Step cmd="PosSetFloatGrillEvmComponents" />
     </Workflow>
     <Workflow name="WF_BackToPreviousScreen">
          <Step cmd="PosBackToPreviousScreen" />
          <Step cmd="PosShowGrillFloatScreen" />
     </Workflow>

     <!-- Floating Panel Additional Sales - New Workflows -->
     <Workflow name="WF_ShowFloatScreen" parameters="$ScreenNumber">
          <Step cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="SHOW" />
          <Step cmd="PosSizeSelection '-1'" />
          <Step cmd="PosReloadCurrentScreen" />
          <Step cmd="PosShowPrice 'false'" />
          <Step cmd="PosShowPrice 'true'" />
          <Step label="SHOW" cmd="PosShowFloatScreen $ScreenNumber" />
     </Workflow>
     <Workflow name="WF_ShowPrice" parameters="$floatScreen">
          <Step cmd="PosShowPrice 'true'" />
          <Step cmd="PosShowPrice 'false'" />
          <Step label="EXIT" /> <!-- BR faltava essa linha -->
     </Workflow>
     <Workflow name="WF_SetShowPrice">
          <Step cmd="PosSetShowPrice" />
          <Step cmd="PosSizeSelection '-1'" />
          <!-- <Step cmd="PosCheckSessionProperty 'ISPRICEON' 'FALSE'" labelFalse="EXIT"/> -->
          <Step cmd="PosReloadCurrentScreen" />
          <Step cmd="PosRefreshFloatButtons" />
     </Workflow>
     <Workflow name="WF_SetShowPriceButton">
          <Step cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="SHOWOFF" />
          <Step cmd="PosChangeButtonProperties '0' 'invert|true'" labelTrue="EXIT" />
          <Step label="SHOWOFF" cmd="PosChangeButtonProperties '0' 'invert|false'" />
     </Workflow>
     <Workflow name="WF_ActivateSelection" parameters="$Size $IsFloat"> <!-- SQC-335 e coloquei no Test Release NPS-4874 -->
          <Step cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="CLEAR" />
          <Step cmd="PosShowPricesSizeSelectionJS $Size $IsFloat" labelTrue="EXIT" /> <!-- SQC-335 e coloquei no Test Release NPS-4874 -->
          <Step label="CLEAR" />
		  <Step cmd="PosCheckIsSizeJS $Size" />
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_ShowManagerMenu" parameters="$Level $SingleSignOn $ScreenNumber">
          <!-- Show Prices -->
          <Step cmd="PosSizeSelection '-1'" /> 
		  <Step cmd="PosRefreshButtons" />
		  <Step cmd="PosReloadCurrentScreen" />
		  <Step cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="SHOW" />
          <Step cmd="PosShowMenuPriceDialogJS" labelfalse="EXIT" />
          <!-- End Show Prices -->
          <Step label="SHOW" cmd="PosNotATransactionInProgress" />
          <Step cmd="PosGetAuthorizationJSUS $Level $SingleSignOn" />
          <Step cmd="PosDisplayText '' '2'" />
          <Step cmd="PosShowScreen $ScreenNumber" />
          <Step cmd="PosDoQuantum '-1'" />
          <Step cmd="PosRemoveSessionProperty 'selectedProductWithSize'" />
          <Step label="EXIT" />
     </Workflow>         

     <!-- Simplified EVM - Sandwich to Meal - New Workflow -->
     <Workflow name="WF_UpgradeSize" parameters="$SizeUpgrade">
          <Step cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="GO" />
          <Step cmd="PosShowMenuPriceDialogJS" labelFalse="EXIT" />
          <Step label="GO" cmd="PosDoTryGrillEnd '3'" />
          <Step cmd="PosChangeSizeSelection $SizeUpgrade '2'" />
          <Step cmd="PosSolveLineChoices" />
     </Workflow>
     <Workflow name="WF_BreakValueMeal">
		<!--NPS-5843-->
		<Step cmd="PosSizeSelection '-1'" /> 
		<Step cmd="PosRefreshButtons" />
		<Step cmd="PosReloadCurrentScreen" />
		<!--NPS-5843-->
     	  <Step cmd="onCheckforFaceToFaceTandem" labelTrue="GO" labelFalse="CODCHECK" /> 
          <!-- Check COD selected -->
          <Step label="CODCHECK" cmd="PosIsCODSelectedJS" labelTrue="GO" labelFalse="END" />		 
          <Step label="END" cmd="PosShowMessage 'MSG_BC_SELECTCOD'" labelTrue="EXIT" />
          <Step label="GO" cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="BREAKMEAL" />
          <Step cmd="PosShowMenuPriceDialogJS" labelFalse="EXIT" />
          <Step label="BREAKMEAL" cmd="PosDoTryGrillEnd '3'" />
          <Step cmd="PosEndSmartReminder" />
          <Step cmd="PosBreakValueMeal" />
     </Workflow>
     <Workflow name="WF_ShowSubstFloatScreen" parameters="$ScreenNumber">
          <Step cmd="PosDoTryGrillEnd '3'" />
          <Step cmd="PosShowSubstList $ScreenNumber" />
     </Workflow>
     <Workflow name="WF_SubstituteProduct" parameters="$productCode">
          <Step cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="GO" />
          <Step cmd="PosShowMenuPriceDialogJS" labelFalse="EXIT" />
          <Step label="GO" cmd="PosConvertProduct $productCode" labelTrue="CLOSE" labelFalse="ERROR" />
          <Step label="CLOSE" />
          <Step cmd="PosShowGrillFloatScreen" labelTrue="END" />
          <Step label="ERROR" cmd="PosShowMessage 'MSG_BC_SUSBTITUTION_NOT_POSSIBLE'" />
          <Step label="END" />
     </Workflow>
          <!-- BR SDO-1316 -->
     <Workflow name="WF_ExecFastFloatGrillOper" parameters="$productCode $baseCode">
     	  <Step cmd="onCheckforFaceToFaceTandem" labelTrue="GO" labelFalse="CODCHECK" /> 
          <!-- Check COD selected -->
          <Step label="CODCHECK" cmd="PosIsCODSelectedJS" labelTrue="GO" labelFalse="END" />		 
          <Step label="END" cmd="PosShowMessage 'MSG_BC_SELECTCOD'" labelTrue="EXIT" />
          <Step label="GO" cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="SALE" />
          <Step cmd="PosShowMenuPriceDialogJS" labelFalse="EXIT" />
          <Step label="SALE" cmd="PosSetSessionProperty 'showGrillScreen' 'no'" />
          <Step cmd="PosDoTryGrillEnd '3'" />
          <Step cmd="PosDoTryGrillStart" labelFalse="EXIT" />
      <Step cmd="PosExecFloatGrillOper $productCode $baseCode" labelFalse="CANCEL" /> 
      <Step cmd="PosDoTryGrillEnd '3'" labelTrue="EXIT" /> 
      <Step label="CANCEL" cmd="PosDoTryGrillEnd '2'" /> 
          <Step label="EXIT" />
          <Step cmd="PosRefreshFloatButtons" />
     </Workflow>
     <!--SDO-1321 e SDO-1329 -->
     <Workflow name="WF_HideInvertFloatGrillButton" parameters="$ProductCode $Components $ButtonNumber $propMod $propOrig $IsFloat">
          <Step cmd="PosCanExecFloatGrillOperMulti 'e' $Components" labelFalse="HIDE" />
          <Step cmd="PosCanExecFloatGrillOperMulti 'c' $Components" labelTrue="MODIFIED" labelFalse="ORIGINAL" />
          <Step label="MODIFIED" cmd="PosChangeButtonProperties $ButtonNumber $propMod $IsFloat" labelTrue="SHOW" />
          <Step label="ORIGINAL" cmd="PosChangeButtonProperties $ButtonNumber $propOrig $IsFloat" labelTrue="SHOW" />
          <Step label="SHOW" cmd="PosChangeButtonProperties $ButtonNumber 'visible|true' $IsFloat" labelTrue="EXIT" />
          <Step label="HIDE" cmd="PosChangeButtonProperties $ButtonNumber 'visible|false' $IsFloat" labelTrue="EXIT" />
          <Step label="EXIT" />
     </Workflow> 
     <!--END SDO-1321 e SDO-1329 -->
     <Workflow name="WF_DoSaleFloatPriceInput" parameters="$ProductCode">
      <Step cmd="PosDoSale $ProductCode '' 'true'" />
    </Workflow>
    <!-- Floating Panel Additional Sales with Show Prices check logic - New Workflows -->
     <Workflow name="WF_ShowFloatScreenEx" parameters="$ScreenNumber">
		<!--NPS-5843-->
		<Step cmd="PosSizeSelection '-1'" /> 
		<Step cmd="PosRefreshButtons" />
		<Step cmd="PosReloadCurrentScreen" />
		<Step cmd="PosSetSessionProperty 'PromoOrderInProgress' 'false'" /> <!-- NVS-9378, quit promo order mode -->
		<!--NPS-5843-->
     	  <Step cmd="onCheckforFaceToFaceTandem" labelTrue="GO" labelFalse="CODCHECK" /> 
          <!-- Check COD selected -->
          <Step label="CODCHECK" cmd="PosIsCODSelectedJS" labelTrue="GO" labelFalse="END" />	
          <Step label="END" cmd="PosShowMessage 'MSG_BC_SELECTCOD'" labelTrue="EXIT" />
          <Step label="GO" cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="SHOW" />
          <Step cmd="PosShowMenuPriceDialogJS" labelFalse="EXIT" />
          <Step label="SHOW" cmd="PosShowFloatScreen $ScreenNumber" />
     </Workflow>

     <!-- ShowScreen with ShowPrices logic check -->
     <Workflow name="WF_ShowScreenEx" parameters="$ScreenNumber">
		<Step cmd="PosSizeSelection '-1'" />
		<Step cmd="PosRefreshButtons" /> 
		<Step cmd="PosReloadCurrentScreen" />
          <Step cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="SHOW" />
          <Step cmd="PosShowMenuPriceDialogJS" labelFalse="EXIT" />
          <!-- <Step cmd="PosSizeSelection '-1'" /> -->
          <Step label="SHOW" cmd="PosShowScreen $ScreenNumber" />
          <!-- <Step cmd="PosRemoveSessionProperty 'selectedProductWithSize'" /> -->
     </Workflow>

     <!-- Simplified EVM with Show Prices check logic - Substitute Choice - New Workflows -->
     <Workflow name="WF_ShowSubstFloatScreenEx" parameters="$ScreenNumber">
		<!--NPS-5843-->
		<Step cmd="PosSizeSelection '-1'" /> 
		<Step cmd="PosRefreshButtons" />
		<Step cmd="PosReloadCurrentScreen" />
		<!--NPS-5843-->
          <Step cmd="PosIsCurrentSelectedValueMealJS" labelTrue="CODCHECK" labelFalse="CONTINUE" />
		  <Step label="CONTINUE" />
		  <Step cmd="PosShowMessage 'MSG_SL_SIDE_CHOICE'" labelTrue="EXIT" />
     	  <Step cmd="onCheckforFaceToFaceTandem" labelTrue="GO" labelFalse="CODCHECK" /> 
          <!-- Check COD selected -->
          <Step label="CODCHECK" cmd="PosIsCODSelectedJS" labelTrue="GO" labelFalse="END" />		  
          <Step label="END" cmd="PosShowMessage  'MSG_BC_SELECTCOD'" labelTrue="EXIT" />
          <Step label="GO" cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="CHOICE" />
          <Step cmd="PosShowMenuPriceDialogJS" labelFalse="EXIT" />
          <Step label="CHOICE" cmd="PosDoTryGrillEnd  '3'" />
          <Step cmd="PosEndSmartReminder" />
          <Step cmd="PosShowSubstList  $ScreenNumber" />
		  <Step label="EXIT" />
     </Workflow>

     <Workflow name="WF_DoClearChoiceEx">
		  	<!--NPS-5843-->
			<Step cmd="PosSizeSelectionJS '-1' 'false'" />
			<Step cmd="PosSizeSelection '-1'" /> 
			<Step cmd="PosRefreshButtons" />
			<Step cmd="PosReloadCurrentScreen" />
			<!--NPS-5843-->
          <!-- Show Prices -->
          <Step cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="CLEARCHOICE" />
          <Step cmd="PosShowMenuPriceDialogJS" labelFalse="EXIT" />
          <!-- Show Prices -->
          <Step label="CLEARCHOICE" cmd="PosNotATransactionInProgress 'true'" labelFalse="CLEAR1" />
          <Step cmd="PosShowMessage 'MSG_BC_NO_ORDER_IN_PROGRESS'" labelTrue="EXIT" />
          <Step label="CLEAR1" cmd="PosDoTryGrillEnd '3'" />
          <Step cmd="PosEndSmartReminder" />
          <Step cmd="PosClearChoice" />
          <Step label="EXIT" />
     </Workflow>

     <!-- Floating Grill with Show Prices check - Updated Workflows -->
     <Workflow name="WF_DoVoidLineEx">
		<!--NPS-5843-->
		<Step cmd="PosSizeSelection '-1'" /> 
		<Step cmd="PosRefreshButtons" />
		<Step cmd="PosReloadCurrentScreen" />
		<!--NPS-5843-->
     	  <Step cmd="onCheckforFaceToFaceTandem" labelTrue="GO" labelFalse="CODCHECK" /> 
          <!-- Check COD selected -->
          <Step label="CODCHECK" cmd="PosIsCODSelectedJS" labelTrue="GO" labelFalse="END" />
          <Step label="END" cmd="PosShowMessage 'MSG_BC_SELECTCOD'" labelTrue="EXIT" />
          <Step label="GO" cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="VOID" />
          <Step cmd="PosShowMenuPriceDialogJS" labelFalse="EXIT" />
          <Step label="VOID" cmd="PosDoTryGrillEnd '3'" />
          <Step cmd="PosEndSmartReminder" />
          <Step cmd="PosNotATransactionInProgress 'true'" labelFalse="VOIDLINE" />
          <Step cmd="PosShowMessage 'MSG_BC_NO_ORDER_IN_PROGRESS'" labelTrue="EXIT" />
          <Step label="VOIDLINE" cmd="PosGetTagIDSaleChangeJSUS" />
		  <Step cmd="PosDoVoidLine" /> 
		  <Step cmd="PosSetTagIDSaleChangeJSUS" />
          <Step label="EXIT" />
     </Workflow>

     <!-- This one has ShowPrices check logic -->
     <Workflow name="WF_DoPromoItemEx" parameters="$PromoType">
     	  <Step cmd="onCheckforFaceToFaceTandem" labelTrue="GO" labelFalse="CODCHECK" /> 
          <!-- Check COD selected -->
          <Step label="CODCHECK" cmd="PosIsCODSelectedJS" labelTrue="GO" labelFalse="END" />		 
          <Step label="END" cmd="PosShowMessage 'MSG_BC_SELECTCOD'" labelTrue="EXIT" />
          <Step label="GO" cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="DOPROMO" />
          <Step cmd="PosShowMenuPriceDialogJS" labelFalse="EXIT" />
          <Step label="DOPROMO" cmd="PosNotATransactionInProgress 'true'" labelFalse="PROMO" />
          <Step cmd="PosShowMessage 'MSG_BC_NO_ORDER_IN_PROGRESS'" labelTrue="EXIT" />
          <Step label="PROMO" cmd="PosDoTryGrillEnd '3'" />
          <Step cmd="PosEndSmartReminder" />
          <Step cmd="PosDoPromoItem $PromoType" />		  
		  <!--NVS-8844-->
		  <Step cmd="PosPreparePromoScreen" />
		  <!--NVS-8844-->		  
          <Step label="EXIT" />
     </Workflow>
     <Workflow name="WF_ChooseVolume_1">
          <Step cmd="PosChooseVolume" /> <!-- Displays a list of available volumes -->
     </Workflow>
     <Workflow name="WF_ChooseVolume_2" parameters="$name">
          <Step cmd="PosChooseVolume $name" /> <!-- Changes the volume to the one specified in the $name parameter -->
     </Workflow>
     <Workflow name="WF_ResetQueueStates">
          <Step cmd="PosResetQueueStates" />
     </Workflow>
     <!-- Floating Panel Additional Sales - New Workflows - ScreenNumber1 = Main Screen and ScreenNumber2 = Float Screen -->
     <Workflow name="WF_ShowScreens" parameters="$MainScreen $FloatScreen">
	 <!--NPS-5843-->
		<Step cmd="PosSizeSelection '-1'" /> 
		<Step cmd="PosRefreshButtons" />
		<Step cmd="PosReloadCurrentScreen" />
		<!--NPS-5843-->
	<Step cmd="PosIsInSaleMode '0'" labelFalse="SHOW" /><!--labelTrue="NEXT"-->
	<!-- <Step label="NEXT" cmd="PosSizeSelection '-1'" /> -->
	<Step label="SHOW" cmd="PosShowScreen $MainScreen" />
          <Step cmd="PosShowFloatScreen $FloatScreen" />
          <Step cmd="PosRemoveSessionProperty 'selectedProductWithSize'" />
     </Workflow>
    <!--        NVS-23 - When Soft Bump Bar screen is accessed again, after selecting KVS, register's status bar displays KVS service number instead of KVS name, and persists -->
     <Workflow name="WF_BackFromSoftBumpBarScreen">
          <Step cmd="PosDisplayText  '' '1'" />
          <Step cmd="PosBackToPreviousScreen" />
          <Step cmd="PosShowGrillFloatScreen" />
     </Workflow>
      <Workflow name="WAY_Authorized_Business_Update_Report" parameters="$SessionCtxID $Level $User $Password $RptType">
         <Step cmd="WayGetAuthorization $SessionCtxID $Level $User $Password" />
         <Step cmd="WayBUDataReport $SessionCtxID $RptType" />
     </Workflow>
         <Workflow name="WF_LockCashout" parameters="$LockType $Persist">
        <Step cmd="PosCashoutLock $LockType $Persist" />
    </Workflow>
    <Workflow name="WF_CashTransferIn">
        <Step cmd="PosDoRemoteTransferIn " />
    </Workflow>
    <Workflow name="WF_CashTransferOut">
        <Step cmd="PosDoRemoteTransferOut " />
    </Workflow>
    <Workflow name="WF_RemoteProvision" parameters="$POSid $Amount $Persist">
        <Step cmd="PosSetProvision $POSid $Amount $Persist" />
    </Workflow>
    <Workflow name="WF_GetCashInDrawer" parameters="$SetAmount">
        <Step cmd="PosGetCashInDrawer $AllowExcess $SetAmount" /> 
    </Workflow>
    <Workflow name="WF_GetProvision" parameters="$SetAmount">
        <Step cmd="PosGetProvision $SetAmount" />
    </Workflow>
     <Workflow name="WF_ExecFloatSolveOpenChoice" parameters="$productCode $index">
          <Step cmd="PosShowSmartReminderScreen $productCode" />
     </Workflow>
	<Workflow name="WF_ExecFloatChangeEVMBaseGrill" parameters="$productCode $index">
		<Step cmd="PosDoTryGrillEnd '7'" />
		<Step cmd="PosSelFloatGrillIndex $index" />
		<Step cmd="PosReloadFloatGrillList" />
		<Step cmd="PosRefreshFloatButtons" />
		<Step cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="EXIT" />
		<Step cmd="PosSizeSelection '-1'" />
		<Step cmd="PosReloadCurrentScreen" />
		<Step cmd="PosShowPrice 'false'" />
		<Step cmd="PosShowPrice 'true'" />		
		<Step label="EXIT" />
	</Workflow>
     <Workflow name="WF_DoSaleWithGrill" parameters="$ProductCode">
               <Step cmd="PosDoTryGrillEnd '3'" />
               <Step cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="SALE" />
               <Step cmd="PosShowMenuPriceDialogJS" labelFalse="EXIT" />
               <Step label="SALE" cmd="PosDoSaleJS $ProductCode" />`

          <Step cmd="PosSetSessionProperty 'showGrillScreen' 'no'" />
          <Step cmd="PosDoTryGrillStart" labelFalse="EXIT" />
          <Step cmd="PosExecFloatGrillOper $ProductCode" />
          <Step cmd="PosDoTryGrillEnd '3'" />
          <Step label="EXIT" />
     </Workflow>
     <!-- SS6.5 Service Pack 1 - New Workflows-->
     <Workflow name="WF_DoSaleChoice_Old" parameters="$productCode">
        <Step cmd="PosDoTryGrillEnd '3'" />
        <Step cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="SALE" />
        <Step cmd="PosShowMenuPriceDialogJS" labelFalse="EXIT" />
        <Step label="SALE" cmd="PosDoSaleJS $productCode" />`
       <Step label="EXIT" />
    </Workflow> 
     <Workflow name="WF_ApplyFee" parameters="$Id">
          <Step cmd="PosApplyFee_CSL $Id" />
     </Workflow> 
     <Workflow name="WAY_STLD" parameters="$SessionCtxID $Token $BusinessDate $NodeId $CheckPoint $JSName $RecordId $MaxEvents">
          <Step cmd="WayDoSTLD $SessionCtxID $Token $BusinessDate $NodeId $CheckPoint $JSName $RecordId $MaxEvents" />
     </Workflow>
     <Workflow name="WAY_MenuItem" parameters="$SessionCtxID $Token $Type $CheckPoint $JSName">
          <Step cmd="WayDoMenuItem $SessionCtxID $Token $Type $CheckPoint $JSName" />
     </Workflow>
     <Workflow name="WAY_DetailedSOS" parameters="$SessionCtxID $Token $BusinessDate $NodeId $ServiceList $CheckPoint $JSName">
          <Step cmd="WayDoDetailedSOS $SessionCtxID $Token $BusinessDate $NodeId $ServiceList $CheckPoint $JSName" />
     </Workflow>     
     <Workflow name="WAY_SecurityData" parameters="$SessionCtxID $Token $BusinessDate $NodeId $CheckPoint $JSName $RecordId">
          <Step cmd="WayDoSecurityData $SessionCtxID $Token $BusinessDate $NodeId $CheckPoint $JSName $RecordId" />
     </Workflow>
      <!-- SDO-2300 -->
     <Workflow name="WF_ApplyPlainGrill" parameters="$Oper $ID">
          <Step cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="SALE" />
          <Step cmd="PosShowMenuPriceDialogJS" labelFalse="EXIT" />
          <Step label="SALE" cmd="PosSetSessionProperty 'showGrillScreen' 'no'" />
          <Step cmd="PosDoTryGrillStart" labelFalse="EXIT" />
          <Step cmd="PosIsPlainGrill" labelTrue="MODIFIED" labelFalse="ORIGINAL" />
          <Step label="ORIGINAL" cmd="PosApplyPlainGrill" labelTrue="REFRESHBUTTONS" labelFalse="EXIT" />
          <Step label="MODIFIED" cmd="PosRemovePlainGrill" labelTrue="REFRESHBUTTONS" labelFalse="EXIT" />
          <Step label="REFRESHBUTTONS" />
          <Step cmd="PosSetFloatGrillOper $Oper" />
          <Step cmd="PosSetSessionProperty 'OPERFLOATGRILL' $ID" />
          <Step cmd="PosReloadFloatGrillList" />
          <Step cmd="PosRefreshFloatButtons" />
                    <Step label="EXIT" />
     </Workflow> 
     <Workflow name="WF_HideInvertFloatPlainGrillButton" parameters="$ButtonNumber $propMod $propOrig $IsFloat">
          <Step cmd="PosCanApplyPlainGrill" labelFalse="HIDE" />
          <Step cmd="PosIsPlainGrill" labelTrue="MODIFIED" labelFalse="ORIGINAL" />
          <Step label="MODIFIED" cmd="PosChangeButtonProperties $ButtonNumber $propMod $IsFloat" labelTrue="SHOW" />
          <Step label="ORIGINAL" cmd="PosChangeButtonProperties $ButtonNumber $propOrig $IsFloat" labelTrue="SHOW" />
          <Step label="SHOW" cmd="PosChangeButtonProperties $ButtonNumber 'visible|true' $IsFloat" labelTrue="EXIT" />
          <Step label="HIDE" cmd="PosChangeButtonProperties $ButtonNumber 'visible|false' $IsFloat" labelTrue="EXIT" />
          <Step label="EXIT" />
     </Workflow> 
      <Workflow name="WF_DTPEDFailover" parameters="$OSCommandX">
          <Step label="ON_WINX" cmd="PosRunOSCommand $OSCommandX" />
          <Step cmd="PosShutdown '91' 'this' 'false'" />
     </Workflow>
     <!-- For Apply 24 hour day change  -->
     <Workflow name="WF_ToggleDay">
          <Step cmd="PosChangeBusinessDayJS" />
     </Workflow>
     
     <Workflow name="WF_Outage">
          <Step cmd="PosProductOutage" />
     </Workflow>
     <Workflow name="WF_SetFamilyGroupPreFilterList">
          <Step cmd="PosSetFamilyGroupPreFilterList" />
     </Workflow>
     <Workflow name="WF_SetOutageListByFamilyGroup" parameters="$selectedItems">
          <Step cmd="PosSetOutageListByFamilyGroup $selectedItems" />
     </Workflow>
     <!-- <Workflow name="WF_SetSizeSelectionPreFilter">
          <Step cmd="PosSetSizeSelectionPreFilter" />
     </Workflow> -->
     <!-- <Workflow name="WF_SetOutageListBySizeSelection" parameters="$selectedItems">
          <Step cmd="PosSetOutageListBySizeSelection $selectedItems"/>
     </Workflow> -->
     <!-- <Workflow name="WF_SetProductCodePreFilter">
          <Step cmd="PosSetProductCodePreFilter" />
     </Workflow> -->
     <Workflow name="WF_SetProductPreFilter">
          <Step cmd="PosSetProductPreFilter" />
     </Workflow>
     <Workflow name="WF_SetOutageListByProductComponent" parameters="$selectedItems">
          <Step cmd="PosSetOutageListByProductComponent $selectedItems" />
     </Workflow>
     <Workflow name="WF_SetIngredientPreFilter">
          <Step cmd="PosSetIngredientPreFilter" />
     </Workflow>
     <Workflow name="WF_SelectOutageSecondList" parameters="$selectedItems">
          <Step cmd="PosSelectOutageSecondList $selectedItems" />
     </Workflow>
     <Workflow name="WF_SelectOutageThirdList" parameters="$selectedItems">
          <Step cmd="PosSelectOutageThirdList $selectedItems" />
     </Workflow>
	 <!-- NVS-5691 - msilva -->
     <Workflow name="WF_MoveAllOutageActProducts">
          <Step cmd="PosMoveAllOutageActProduct" />
     </Workflow>
     <Workflow name="WF_MoveSelectedOutageActProducts">
          <Step cmd="PosMoveSelectedOutageActProduct" />
     </Workflow>
     <Workflow name="WF_ClearAllOutageActProducts">
          <Step cmd="PosClearAllOutageActProduct" />
     </Workflow>
     <Workflow name="WF_ClearSelectOutageActProducts">
          <Step cmd="PosClearSelectOutageActProducts" />
     </Workflow>
	 <Workflow name="WF_OutageCancel"> 
		<Step cmd="PosShowConfirmationMessage 'MSG_OUTAGE_CONFIRM_CANCEL' 'MSG_OK' 'MSG_CANCEL'" labelTrue="CONFIRMED" labelFalse="EXIT" /> 
		<Step label="CONFIRMED" cmd="PosEndOutage" /> 
		<Step cmd="PosShowScreen '_baseScreenId'" /> 
		<Step label="EXIT" /> 
	</Workflow>
		<Workflow name="WF_KeyboardInputKey" parameters="$key">
			<Step cmd="PosKeyboardTextCommand $key ''" />
		</Workflow>
		<Workflow name="WF_OutageEnterKey">
			<Step cmd="PosKeyboardTextCommand '' 'Enter'" />
		</Workflow>
		<Workflow name="WF_OutageCancelKey">
			<Step cmd="PosKeyboardTextCommand '' 'Cancel'" />
		</Workflow>
		<Workflow name="WF_OutageClearKey">
			<Step cmd="PosKeyboardTextCommand '' 'Clear'" />
		</Workflow>
		<Workflow name="WF_BackspaceKey">
			<Step cmd="PosKeyboardTextCommand '' 'Backspace'" />
		</Workflow> 
		<Workflow name="WF_SetStationGroupPreFilterList" parameters="$button">
			<Step cmd="PosSetStationGroupPreFilterList $button 'false'" />
		</Workflow>
		<Workflow name="WF_SetOutageListByStationGroup" parameters="$selectedItems">
			<Step cmd="PosSetOutageListByStationGroup $selectedItems" />
		</Workflow>
		<Workflow name="WF_SetOutageListByStationButton" parameters="$StationGroup">
			<Step cmd="PosSetStationGroupPreFilterList $StationGroup 'true'" />
			<Step cmd="PosSetOutageListByStationGroup $StationGroup" />
		</Workflow>
		<Workflow name="WF_OutageSearchProducts">
			<Step cmd="PosOutageSearchProducts" />
		</Workflow>
		<Workflow name="WF_OutageProductsSelected" parameters="$selectedItems">
			<Step cmd="PosOutageProductsSelected $selectedItems" />
			<Step cmd="PosKeyboardTextCommand '' 'Cancel'" />
		</Workflow>
		<Workflow name="WF_OutageSort" parameters="$Sort">
			<Step cmd="PosOutageSort $Sort" />
		</Workflow>
     <Workflow name="WF_GenerateOutage">
          <Step cmd="PosGenerateOutage " labelTrue="END" labelFalse="ERROR" />
          <Step label="ERROR" cmd="PosShowMessage 'MSG_BC_OUTAGE_ERROR'" />
          <Step label="END" />
          <Step cmd="PosShowScreen '900'" />
     </Workflow>
     <Workflow name="WF_ToggleExactMatch" parameters="$productCode $match">
          <Step cmd="PosSetProductsByProductCode $productCode $match" />
</Workflow>
<!-- Show Price - Updated Workflows -->
<Workflow name="WF_SizeSelection" parameters="$Size $persist">
	 <Step cmd="PosSetSessionProperty 'persist' 'true'" />
     <Step cmd="PosSizeSelectionJS $Size $persist" />
     <Step cmd="PosReloadCurrentScreen" />
     <Step cmd="PosRefreshFloatButtons" />
     <!-- Show Prices -->
     <Step cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="EXIT" />
     <Step cmd="PosShowPrice 'false'" />
     <Step cmd="PosShowPrice 'true'" />
     <Step label="EXIT" />
</Workflow>
<Workflow name="WF_Activation">
     <Step cmd="PosProductActivation" />
</Workflow>
<Workflow name="WAY_ExecRemoteWf" parameters="$SessionCtxID $pos $wfName $timeout">
     <Step cmd="WayExecuteRemoteWF $SessionCtxID $pos $wfName 'Level=manager|ScreenNumber=900|SingleSignOn=false' $timeout" />
</Workflow>
<!-- NVS-471 -->
<Workflow name="WF_ShowWalkLineMode">
<Step cmd="PosCheckParameter 'POSType' 'POD' 'DRIVE_THRU' " labelFalse="HIDE" />
<Step cmd="PosCheckParameter 'PosType' 'IsMOT' 'true'" labelTRUE="HIDE" LableFalse="NEXT" />
<Step label="NEXT" />
<Step cmd="PosCheckParameter 'OperationMode' 'DTStoreMode' 'TANDEM_SPEAKER'" labelFalse="HIDE" />
<Step cmd="PosCheckParameter 'OperationMode' 'enableWalkLine' 'true'" labelFalse="HIDE" />
<Step cmd="PosCheckSessionProperty 'tandemBooth' '2'" labelFalse="HIDE" />
<Step cmd="PosCheckSessionProperty 'walkLineEnable' 'true'" labelFalse="DISABLE" />
<Step cmd="PosChangeButtonProperties '0' 'bitmap|walkthelineon.png'" labelTrue="EXIT" />
<Step label="DISABLE" cmd="PosChangeButtonProperties '0' 'bitmap|walkthelineoff.png'" labelTrue="EXIT" />
<Step label="HIDE" cmd="PosChangeButtonProperties '0' 'visible|false'" />
</Workflow> 
<Workflow name="WF_ToggleWalkLineMode">
<Step cmd="ToggleWalkLineModeJS" />
</Workflow> 
<!-- end of NVS-471 -->
	<!-- NVS-364 -->
	<Workflow name="WF_EndDaySWReport" parameters="$DataTypes $ReportScript $Flags $CustomParam $POD $ServiceList">
		<Step cmd="CreateEndDayReportSWJS  $DataTypes $ReportScript $Flags $CustomParam $POD $ServiceList" />
	</Workflow>
 	<Workflow name="WF_SetForeignCurrency" parameters="$TenderID $Buttons">
		<Step cmd="PosCheckSessionProperty 'foreignTenderID' '-1'" labelFalse="OFF" />
		<Step cmd="PosSetForeignCurrencyJS" />
		<Step cmd="PosChangeButtonProperties '0' 'title|Foreign Currency ON'" />
		<Step cmd="PosChangeButtonProperties '0' 'bitmap|G1_FOREIGN_CURRENCY_ON.png'" />
		<Step cmd="PosChangeButtonProperties '0' 'bitmapdn|G1_FOREIGN_CURRENCY_OFF.png'" />
		<Step cmd="PosRefreshSalePanel" />
		<Step cmd="PosRefreshButtons $Buttons" labelTrue="EXIT" />
		<Step label="OFF" />
		<Step cmd="PosSetForeignCurrency '-1'" labelFalse="CONTINUE" />
		<Step label="CONTINUE" />
		<Step cmd="PosChangeButtonProperties '0' 'bitmap|G1_FOREIGN_CURRENCY_OFF.png'" />
		<Step cmd="PosChangeButtonProperties '0' 'bitmapdn|G1_FOREIGN_CURRENCY_ON.png'" />
		<Step cmd="PosChangeButtonProperties '0' 'title|Foreign Currency OFF'" />
		<!--<Step cmd="ForeignCurrencyKeyPropertiesJS 'true'"/>-->
		<Step cmd="PosRefreshSalePanel" />
		<Step cmd="PosRefreshButtons $Buttons" labelTrue="EXIT" />
		<Step label="EXIT" />
	</Workflow>
	<Workflow name="WF_HideForeignCurrency">
		<Step cmd="PosCheckSessionProperty 'ForeignCurrencyID' '0'" labelTrue="HIDE" labelFalse="SHOW" />
		<Step label="HIDE" cmd="PosChangeButtonProperties '0' 'visible|false'" labelTrue="EXIT" />
		<Step label="SHOW" />
		<Step cmd="PosCheckSessionProperty 'foreignTenderID' '-1'" labelFalse="FOR_ON" labelTrue="FOR_OFF" />
		<Step label="FOR_ON" />
		<Step cmd="PosChangeButtonProperties '0' 'title|Foreign Currency ON'" labelTrue="MAKE_VISIBLE" />
		<Step cmd="PosChangeButtonProperties '0' 'bitmap|G1_FOREIGN_CURRENCY_ON.png'" />
		<Step label="FOR_OFF" />
		<Step cmd="PosChangeButtonProperties '0' 'title|Foreign Currency OFF'" />
		<Step cmd="PosChangeButtonProperties '0' 'bitmapdn|G1_FOREIGN_CURRENCY_ON.png'" />
		<Step Label="MAKE_VISIBLE" />
		<Step cmd="PosChangeButtonProperties '0' 'visible|true'" />
		<Step label="EXIT" />
	</Workflow>
	<Workflow name="WF_HideSpeedKeys">
		<Step cmd="PosCheckSessionProperty 'foreignTenderID' '-1'" labelTrue="SHOW" labelFalse="HIDE" />
		<Step label="HIDE" cmd="PosChangeButtonProperties '0' 'visible|false'" labelTrue="EXIT" />
		<Step label="SHOW" cmd="PosChangeButtonProperties '0' 'visible|true'" />
		<Step label="EXIT" />
	</Workflow>
     <Workflow name="WF_CheckIfEverestIsLoaded_2">
		<Step cmd="PosIsAdaptorLoadedJS  'ESocket'" labelTrue="NEXT" labelFalse="CHECK2" />
		<Step label="CHECK2" cmd="PosCheckParameter  'Cashless3' 'Active' 'true'" labelTrue="NEXT" labelFalse="HIDE" />
          <Step label="NEXT" cmd="PosCheckSessionProperty 'foreignTenderID' '-1'" labelFalse="HIDE" labelTrue="SHOW" />
		  <Step label="SHOW" cmd="PosChangeButtonProperties  '0' 'visible|true'" labelTrue="END" />
          <Step label="HIDE" cmd="PosChangeButtonProperties  '0' 'visible|false'" labelTrue="END" />
          <Step label="EXIT" />
     </Workflow>
	 <Workflow name="WAY_Authorized_OfflineSupport" parameters="$SessionCtxID $Level $User $Password">
        <Step cmd="WayGetAuthorization $SessionCtxID $Level $User $Password" />
		<Step cmd="WayOfflineSupport" />
	</Workflow>
	<Workflow name="WF_OfflineSupport">
		<Step cmd="PosOfflineSupport" />
	</Workflow> 
	
	<!-- NPS6544 -->
	<Workflow name="WF_SearchAndReprintReceipt"> 
		<Step cmd="PosSearchAndReprintReceiptJS" />
	</Workflow>
	
	<Workflow name="WF_Reload">
		<Step cmd="PosReload" />
	</Workflow> 

		<!-- Apply Update Redesign -->
		
		   <!--NPS-6539-->
	<Workflow name="WF_APPLYUPDATE_FORCED" parameters="$businessDay">
        <Step cmd="isApplyUpdateInProgress" labelTrue="ALREADY_INPROGRESS" labelFalse="CHECK_CHANGE_DAY" />
        <Step label="CHECK_CHANGE_DAY" cmd="isChangeDayInProgress" labelTrue="CHANGE_DAY" labelFalse="CHECK_PENDING_PACKAGES" />
        <Step label="CHECK_PENDING_PACKAGES" cmd="hasPendingPackageToApply $businessDay" labelFalse="NO_PACKAGE" />

        <Step cmd="sendApplyUpdateResponse '0'" labelFalse="ERROR" /> <!-- APPLYUPDATE_ERROR_NONE=0 -->
        <Step cmd="synchronizeFiles $businessDay" labelFalse="APPLY" /> <!-- supress error on forced -->
        <Step label="APPLY" cmd="applyPackageForced $businessDay" labelTrue="EXIT" />

        <Step label="ALREADY_INPROGRESS" cmd="sendApplyUpdateResponse '1'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_ALREADY_INPROGRESS=1 -->
        <Step label="CHANGE_DAY" cmd="sendApplyUpdateResponse '2'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_CHANGE_DAY_INPROGRESS=2 -->
        <Step label="NO_PACKAGE" cmd="sendApplyUpdateResponse '4'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_NO_PACKAGE=4 -->
        <Step label="ERROR" cmd="sendApplyUpdateResponse '5'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_GENERIC=5 -->
    </Workflow>

    <!--NPS-6539-->
    <Workflow name="WF_APPLYUPDATE_REGULAR" parameters="$businessDay">
        <Step cmd="isApplyUpdateInProgress" labelTrue="ALREADY_INPROGRESS" labelFalse="CHECK_STORE_CLOSED" />
        <Step label="CHECK_STORE_CLOSED" cmd="isBusinessDayClosed" labelFalse="STORE_NOT_CLOSED" />
        <Step cmd="isChangeDayInProgress" labelTrue="CHANGE_DAY" labelFalse="CHECK_MANDATORY_NODES" />
        <Step label="CHECK_MANDATORY_NODES" cmd="areAllMandatoryNodesOnline 'OFFLINE_NODES'" labelFalse="MANDATORY_NODES" />
        <Step cmd="hasPendingPackageToApply $businessDay" labelFalse="NO_PACKAGE" />

        <Step cmd="sendApplyUpdateResponse '0'" labelFalse="ERROR" /> <!-- APPLYUPDATE_ERROR_NONE=0 -->

        <Step cmd="merge $businessDay" />
        <Step cmd="synchronizeFiles $businessDay" />
        <Step cmd="applyPackage $businessDay '1'" labelTrue="EXIT" /> <!-- APPLYUPDATE_MODE_REGULAR=1 -->

        <Step label="ALREADY_INPROGRESS" cmd="sendApplyUpdateResponse '1'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_ALREADY_INPROGRESS=1 -->
        <Step label="CHANGE_DAY" cmd="sendApplyUpdateResponse '2'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_CHANGE_DAY_INPROGRESS=2 -->
        <Step label="MANDATORY_NODES" cmd="sendApplyUpdateResponse '3'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_OFFLINE_NODES=3 -->
        <Step label="NO_PACKAGE" cmd="sendApplyUpdateResponse '4'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_NO_PACKAGE=4 -->
        <Step label="ERROR" cmd="sendApplyUpdateResponse '5'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_GENERIC=5 -->
        <Step label="STORE_NOT_CLOSED" cmd="sendApplyUpdateResponse '6'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_STORE_NOT_CLOSED=6 -->
    </Workflow>

    <!--NPS-6539 - removed this workflow-->
    
	
    <!--NPS-6539-->
    <Workflow name="WF_StartApplyUpdate_GoForward" parameters="$businessDay">
        <Step cmd="isApplyUpdateInProgress" labelTrue="ALREADY_INPROGRESS" labelFalse="CHECK_TIME_LIMIT" />
        <Step label="CHECK_TIME_LIMIT" cmd="isGoForwardTimeLimitReached" labelTrue="TIMELIMIT_REACHED" labelFalse="CHECK_STORE_CLOSED" />
        <Step label="CHECK_STORE_CLOSED" cmd="isBusinessDayClosed" labelTrue="STORE_CLOSED" labelFalse="CHECK_CHANGE_DAY" />
        <Step label="CHECK_CHANGE_DAY" cmd="isChangeDayInProgress" labelTrue="CHANGE_DAY" labelFalse="CHECK_MANDATORY_NODES" />
        <Step label="CHECK_MANDATORY_NODES" cmd="areAllMandatoryNodesOnline 'OFFLINE_NODES'" labelFalse="MANDATORY_NODES" />
        <Step cmd="hasPendingPackageToApply $businessDay" labelFalse="NO_PACKAGE" />

        <Step cmd="sendApplyUpdateResponse '0'" labelFalse="ERROR" /> <!-- APPLYUPDATE_ERROR_NONE=0 -->

        <Step cmd="merge $businessDay" />
        <Step cmd="synchronizeFiles $businessDay" />
        <Step cmd="applyPackage $businessDay '3'" labelTrue="EXIT" /> <!-- APPLYUPDATE_MODE_GOFORWARD=3 -->

        <Step label="ALREADY_INPROGRESS" cmd="sendApplyUpdateResponse '1'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_ALREADY_INPROGRESS=1 -->
        <Step label="CHANGE_DAY" cmd="sendApplyUpdateResponse '2'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_CHANGE_DAY_INPROGRESS=2 -->
        <Step label="MANDATORY_NODES" cmd="sendApplyUpdateResponse '3'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_OFFLINE_NODES=3 -->
        <Step label="NO_PACKAGE" cmd="sendApplyUpdateResponse '4'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_NO_PACKAGE=4 -->
        <Step label="ERROR" cmd="sendApplyUpdateResponse '5'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_GENERIC=5 -->
        <Step label="STORE_CLOSED" cmd="sendApplyUpdateResponse '7'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_STORE_CLOSED=7 -->
        <Step label="TIMELIMIT_REACHED" cmd="sendApplyUpdateResponse '9'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_TIMELIMIT_REACHED=9 -->
    </Workflow>
    
    <!--NPS-6539-->
    <Workflow name="WF_APPLYUPDATE_GOFORWARD" parameters="$businessDay">
        <Step cmd="isApplyUpdateInProgress" labelTrue="ALREADY_INPROGRESS" labelFalse="CHECK_TIME_LIMIT" />
        <Step label="CHECK_TIME_LIMIT" cmd="isGoForwardTimeLimitReached" labelTrue="TIMELIMIT_REACHED" labelFalse="CHECK_STORE_CLOSED" />
        <Step label="CHECK_STORE_CLOSED" cmd="isBusinessDayClosed" labelTrue="STORE_CLOSED" labelFalse="CHECK_CHANGE_DAY" />
        <Step label="CHECK_CHANGE_DAY" cmd="isChangeDayInProgress" labelTrue="CHANGE_DAY" labelFalse="CHECK_MANDATORY_NODES" />
        <Step label="CHECK_MANDATORY_NODES" cmd="areAllMandatoryNodesOnline 'OFFLINE_NODES'" labelFalse="MANDATORY_NODES" />
        <Step cmd="hasPendingPackageToApply $businessDay" labelFalse="NO_PACKAGE" />

        <Step cmd="sendApplyUpdateResponse '0'" labelFalse="ERROR" /> <!-- APPLYUPDATE_ERROR_NONE=0 -->

        <Step cmd="merge $businessDay" />
        <Step cmd="synchronizeFiles $businessDay" />
        <Step cmd="applyPackage $businessDay '3'" labelTrue="EXIT" /> <!-- APPLYUPDATE_MODE_GOFORWARD=3 -->

        <Step label="ALREADY_INPROGRESS" cmd="sendApplyUpdateResponse '1'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_ALREADY_INPROGRESS=1 -->
        <Step label="CHANGE_DAY" cmd="sendApplyUpdateResponse '2'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_CHANGE_DAY_INPROGRESS=2 -->
        <Step label="MANDATORY_NODES" cmd="sendApplyUpdateResponse '3'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_OFFLINE_NODES=3 -->
        <Step label="NO_PACKAGE" cmd="sendApplyUpdateResponse '4'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_NO_PACKAGE=4 -->
        <Step label="ERROR" cmd="sendApplyUpdateResponse '5'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_GENERIC=5 -->
        <Step label="STORE_CLOSED" cmd="sendApplyUpdateResponse '7'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_STORE_CLOSED=7 -->
        <Step label="TIMELIMIT_REACHED" cmd="sendApplyUpdateResponse '9'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_TIMELIMIT_REACHED=9 -->
    </Workflow>

    <!--NPS-6539-->
	<Workflow name="WF_APPLYUPDATE_UNDO" parameters="$businessDay">
        <Step cmd="isApplyUpdateInProgress" labelTrue="ALREADY_INPROGRESS" labelFalse="CHECK_STORE_CLOSED" />
        <Step label="CHECK_STORE_CLOSED" cmd="isBusinessDayClosed" labelTrue="STORE_CLOSED" labelFalse="CHECK_CHANGE_DAY" />
        <Step label="CHECK_CHANGE_DAY" cmd="isChangeDayInProgress" labelTrue="CHANGE_DAY" labelFalse="CHECK_MANDATORY_NODES" />
        <Step label="CHECK_MANDATORY_NODES" cmd="areAllMandatoryNodesOnline 'OFFLINE_NODES'" labelFalse="MANDATORY_NODES" />
        <Step cmd="hasBackupAvailable $businessDay" labelFalse="NO_PACKAGE" />
        <Step cmd="sendApplyUpdateResponse '0'" labelFalse="ERROR" /> <!-- APPLYUPDATE_ERROR_NONE=0 -->
        <Step cmd="applyBackupPackage $businessDay" labelTrue="EXIT" />

        <Step label="ALREADY_INPROGRESS" cmd="sendApplyUpdateResponse '1'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_ALREADY_INPROGRESS=1 -->
        <Step label="CHANGE_DAY" cmd="sendApplyUpdateResponse '2'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_CHANGE_DAY_INPROGRESS=2 -->
        <Step label="MANDATORY_NODES" cmd="sendApplyUpdateResponse '3'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_OFFLINE_NODES=3 -->
        <Step label="NO_PACKAGE" cmd="sendApplyUpdateResponse '4'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_NO_PACKAGE=4 -->
        <Step label="ERROR" cmd="sendApplyUpdateResponse '5'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_GENERIC=5 -->
        <Step label="STORE_CLOSED" cmd="sendApplyUpdateResponse '7'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_STORE_CLOSED=7 -->
      <!--   <Step label="FAIL" cmd="failApplyUpdate"/> -->
    </Workflow>

    <!--NPS-6539-->
    <Workflow name="WF_APPLYUPDATE_RCT" parameters="$businessDay">
        <Step cmd="isApplyUpdateInProgress" labelTrue="ALREADY_INPROGRESS" labelFalse="CHECK_CHANGE_DAY" />
        <Step label="CHECK_CHANGE_DAY" cmd="isChangeDayInProgress" labelTrue="CHANGE_DAY" labelFalse="CHECK_MANDATORY_NODES" />
        <Step label="CHECK_MANDATORY_NODES" cmd="areAllMandatoryNodesOnline 'OFFLINE_NODES'" labelFalse="MANDATORY_NODES" />
        <Step cmd="hasPendingPackageToApply $businessDay" labelFalse="NO_PACKAGE" />

        <Step cmd="sendApplyUpdateResponse '0'" labelFalse="ERROR" /> <!-- APPLYUPDATE_ERROR_NONE=0 -->

        <Step cmd="merge $businessDay" />
        <Step cmd="synchronizeFiles $businessDay" />
        <Step cmd="applyPackage $businessDay '6'" labelTrue="EXIT" /> <!-- APPLYUPDATE_MODE_RCT=3 -->

        <Step label="ALREADY_INPROGRESS" cmd="sendApplyUpdateResponse '1'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_ALREADY_INPROGRESS=1 -->
        <Step label="CHANGE_DAY" cmd="sendApplyUpdateResponse '2'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_CHANGE_DAY_INPROGRESS=2 -->
        <Step label="MANDATORY_NODES" cmd="sendApplyUpdateResponse '3'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_OFFLINE_NODES=3 -->
        <Step label="NO_PACKAGE" cmd="sendApplyUpdateResponse '4'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_NO_PACKAGE=4 -->
        <Step label="ERROR" cmd="sendApplyUpdateResponse '5'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_GENERIC=5 -->
    </Workflow>

    <!--NPS-6539-->
    <Workflow name="WF_APPLYUPDATE_0XEA" parameters="$businessDay">
        <Step cmd="isApplyUpdateInProgress" labelTrue="ALREADY_INPROGRESS" labelFalse="CHECK_STORE_CLOSED" />
        <Step label="CHECK_STORE_CLOSED" cmd="isBusinessDayClosed" labelFalse="STORE_NOT_CLOSED" />
        <Step cmd="isChangeDayInProgress" labelTrue="CHANGE_DAY" labelFalse="CHECK_MANDATORY_NODES" />
        <Step label="CHECK_MANDATORY_NODES" cmd="areAllMandatoryNodesOnline 'OFFLINE_NODES'" labelFalse="MANDATORY_NODES" />
        <Step cmd="isApplyUpdateAborted $businessDay" labelFalse="CHECK_PENDING_PACKAGES" labelTrue="ALREADY_ABORTED" />
        <Step label="CHECK_PENDING_PACKAGES" cmd="hasPendingPackageToApply" labelFalse="POSPROC_RUN" />

        <Step cmd="saveISPUpdateStatusFile $businessDay" labelFalse="ERROR" />		
        <Step cmd="send0xEAResponse '0'" labelFalse="ERROR" /> <!-- APPLYUPDATE_ERROR_NONE=0 -->

        <Step cmd="merge $businessDay" labelFalse="ABORT" />
        <Step cmd="synchronizeFiles $businessDay" labelFalse="ABORT" />
        <Step cmd="applyPackage $businessDay '5'" labelFalse="ABORT" labelTrue="EXIT" /> <!-- APPLYUPDATE_MODE_0xEC=7 -->

	<!--NVS-1248 -Posprocessor steps when there is no RFM Package DKJ-->
	<!--NVS-3510 - Configuration package is not getting trigger at the time of store opening, ISP is getting CMU communication error on the next day store opening.-->
        <Step label="POSPROC_RUN" cmd="runPosProcessorApplyUpdateCommand" labelFalse="NO_PACKAGE_RESP" />
        <Step cmd="merge $businessDay" labelFalse="ABORT" />
        <Step cmd="synchronizeFiles $businessDay" labelFalse="ABORT" />
        <Step cmd="hasPendingPackageToApply" labelFalse="NO_PACKAGE_RESP" />
        <Step cmd="saveISPUpdateStatusFile $businessDay" labelFalse="ERROR" />		
        <Step cmd="send0xEAResponse '0'" labelFalse="ERROR" /> <!-- APPLYUPDATE_ERROR_NONE=0 -->		
        <Step cmd="applyPackage $businessDay '5'" labelFalse="ABORT" labelTrue="EXIT" /> <!-- APPLYUPDATE_MODE_0xEC=7 -->
    <!-- END -->

        <Step label="NO_PACKAGE_RESP" cmd="send0xEAResponse '4'" labelTrue="EXIT" labelFalse="EXIT" /> 
		<Step label="ERROR" cmd="send0xEAResponse '5'" labelTrue="ABORT" labelFalse="ABORT" /> <!-- APPLYUPDATE_ERROR_GENERIC=5 -->
		<Step label="ALREADY_INPROGRESS" cmd="send0xEAResponse '1'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_ALREADY_INPROGRESS=1 -->
        <Step label="CHANGE_DAY" cmd="send0xEAResponse '2'" labelTrue="ABORT" labelFalse="ABORT" /> <!-- APPLYUPDATE_ERROR_CHANGE_DAY_INPROGRESS=2 -->
        <Step label="MANDATORY_NODES" cmd="send0xEAResponse '3'" labelTrue="ABORT" labelFalse="ABORT" /> <!-- APPLYUPDATE_ERROR_OFFLINE_NODES=3 -->
        <Step label="STORE_NOT_CLOSED" cmd="send0xEAResponse '6'" labelTrue="ABORT" labelFalse="ABORT" /> <!-- APPLYUPDATE_ERROR_STORE_NOT_CLOSED=6 -->
        <Step label="ALREADY_ABORTED" cmd="send0xEAResponse '4'" labelTrue="EXIT" labelFalse="EXIT" /> <!-- APPLYUPDATE_ERROR_ABORTED=8 -->		
    </Workflow>

    <!--NPS-6539-->
    <Workflow name="WF_APPLYUPDATE_AFTER_APPLYUPDATE_0xEA" parameters="$businessDay">
        <Step cmd="executeAfterApplyUpdateTasks $businessDay" labelFalse="FAILED" />

        <Step label="AFTER_APPLY" cmd="hasPendingPackageToApply $businessDay" labelTrue="DONE" labelFalse="RUN_POSPROC" />
        <Step label="RUN_POSPROC" cmd="runPosProcessorApplyUpdateCommand" labelFalse="DONE" />

        <Step label="DONE" cmd="saveISPStatusFile 'DONE'" labelTrue="EXIT" />

        <Step label="ABORT" cmd="abortApplyUpdate" labelFalse="ISP_DONE" />
        <Step label="ISP_DONE" cmd="saveISPStatusFile 'DONE'" labelTrue="EXIT" />

        <Step label="FAILED" cmd="abortApplyUpdate" labelFalse="ISP_ERROR" />
        <Step label="ISP_ERROR" cmd="saveISPStatusFile 'ERROR'" />
    </Workflow> 
 
    <!--NPS-6539-->
	<Workflow name="WF_APPLYUPDATE_AFTER_APPLYUPDATE_REGULAR" parameters="$businessDay">
        <Step cmd="executeAfterApplyUpdateTasks $businessDay" />

        <Step cmd="hasPendingPackageToApply $businessDay" labelTrue="DONE" labelFalse="RUN_POSPROC" />
        <Step label="RUN_POSPROC" cmd="runPosProcessorApplyUpdateCommand" />
    </Workflow>

    <!--NPS-6539-->
	<Workflow name="WF_APPLYUPDATE_AFTER_APPLYUPDATE_UNDO" parameters="$businessDay">
        <Step cmd="executeAfterApplyUpdateTasks $businessDay" />
    </Workflow>

    <!--NPS-6539-->
	<Workflow name="WF_APPLYUPDATE_AFTER_APPLYUPDATE_GOFORWARD" parameters="$businessDay">
        <Step cmd="executeAfterApplyUpdateTasks $businessDay" />

        <Step cmd="hasPendingPackageToApply $businessDay" labelTrue="DONE" labelFalse="RUN_POSPROC" />
        <Step label="RUN_POSPROC" cmd="runPosProcessorApplyUpdateCommand" />
    </Workflow>

    <!--NPS-6539-->
	<Workflow name="WF_APPLYUPDATE_AFTER_APPLYUPDATE_FORCED" parameters="$businessDay">
        <Step cmd="executeAfterApplyUpdateTasks $businessDay" />
    </Workflow>

	    
	<Workflow name="WF_APPLYUPDATE_AFTER_APPLYUPDATE_RCT" parameters="$businessDay">
        <Step cmd="executeAfterApplyUpdateTasks $businessDay" />

        <Step cmd="hasPendingPackageToApply $businessDay" labelTrue="DONE" labelFalse="RUN_POSPROC" />
        <Step label="RUN_POSPROC" cmd="runPosProcessorApplyUpdateCommand" />
    </Workflow>
	
	<Workflow name="WF_APPLYUPDATE_AFTER_APPLYUPDATE_BACKOFFICE" parameters="$businessDay">
        <Step cmd="executeAfterApplyUpdateTasks $businessDay" labelFalse="FAILED" />

        <Step label="AFTER_APPLY" cmd="hasPendingPackageToApply $businessDay" labelTrue="DONE" labelFalse="RUN_POSPROC" />
        <Step label="RUN_POSPROC" cmd="runPosProcessorApplyUpdateCommand" labelFalse="DONE" />

        <Step label="DONE" cmd="saveISPStatusFile 'DONE'" labelTrue="EXIT" />

        <Step label="ABORT" cmd="abortApplyUpdate" labelFalse="ISP_DONE" />
        <Step label="ISP_DONE" cmd="saveISPStatusFile 'DONE'" labelTrue="EXIT" />

        <Step label="FAILED" cmd="abortApplyUpdate" labelFalse="ISP_ERROR" />
        <Step label="ISP_ERROR" cmd="saveISPStatusFile 'ERROR'" />
    </Workflow>
	
    <!--NPS-6539-->
	<Workflow name="WF_APPLYUPDATE_AFTER_ROLLBACK_0xEA" parameters="$businessDay">
        <Step cmd="executeAfterRollbackTasks $businessDay" labelTrue="ABORT" labelFalse="FAILED" />
        
        <Step label="ABORT" cmd="abortApplyUpdate" labelFalse="ISP_ABORT" />
        <Step label="ISP_ABORT" cmd="saveISPStatusFile 'DONE'" labelTrue="EXIT" />

        <Step label="FAILED" cmd="abortApplyUpdate" labelFalse="ISP_ERROR" />
        <Step label="ISP_ERROR" cmd="saveISPStatusFile 'ERROR'" />
    </Workflow>

    <!--NPS-6539-->
	<Workflow name="WF_APPLYUPDATE_AFTER_ROLLBACK_REGULAR" parameters="$businessDay">
        <Step cmd="executeAfterRollbackTasks $businessDay" />
    </Workflow>

    <!--NPS-6539-->
	<Workflow name="WF_APPLYUPDATE_AFTER_ROLLBACK_UNDO" parameters="$businessDay">
        <Step cmd="executeAfterRollbackTasks $businessDay" />
    </Workflow>

    <!--NPS-6539-->
	<Workflow name="WF_APPLYUPDATE_AFTER_ROLLBACK_GOFORWARD" parameters="$businessDay">
        <Step cmd="executeAfterRollbackTasks $businessDay" />
    </Workflow>

    <!--NPS-6539-->
	<Workflow name="WF_APPLYUPDATE_AFTER_ROLLBACK_FORCED" parameters="$businessDay">
        <Step cmd="executeAfterRollbackTasks $businessDay" />
    </Workflow>
	
	<Workflow name="WF_APPLYUPDATE_AFTER_ROLLBACK_RCT" parameters="$businessDay">
        <Step cmd="executeAfterRollbackTasks $businessDay" />
    </Workflow>
	
	<Workflow name="WF_APPLYUPDATE_AFTER_ROLLBACK_BACKOFFICE" parameters="$businessDay">
        	<Step cmd="executeAfterRollbackTasks $businessDay" />
    	</Workflow>

    <!--NPS-6539-->
	<Workflow name="WF_APPLYUPDATE_RECOVERY" parameters="$STO $AUTO">
        <Step cmd="isApplyUpdateInProgress" labelTrue="ALREADY_INPROGRESS" labelFalse="SEND_RESPONSE" />
        <Step label="SEND_RESPONSE" cmd="sendApplyUpdateResponse '0'" labelFalse="ERROR" /> <!-- APPLYUPDATE_ERROR_NONE=0 -->
        <Step cmd="applyUpdateRecovery $STO $AUTO" labelTrue="EXIT" />

        <Step label="ALREADY_INPROGRESS" cmd="sendApplyUpdateResponse '1'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_ALREADY_INPROGRESS=1 -->
        <Step label="ERROR" cmd="sendApplyUpdateResponse '5'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_GENERIC=5 -->
    </Workflow>

	<!-- Apply Update Redesign - solicitados pelos nos e Waystation -->
	
	 <!--NPS-6539-->
	<Workflow name="WAY_Authorized_StartApplyUpdate_NG" parameters="$SessionCtxID $Level $User $Password $applyUpdateMode $message">
		<Step cmd="WayGetAuthorization  $SessionCtxID $Level $User $Password" />
		<Step cmd="WayBOStartApplyUpdate  $SessionCtxID $applyUpdateMode $message" />
	</Workflow>
	<Workflow name="WAY_Authorized_StartApplyUpdate" parameters="$SessionCtxID $Level $User $Password $applyUpdateMode $message">
		<Step cmd="WayGetAuthorization  $SessionCtxID $Level $User $Password" />
		<Step cmd="WayBOStartApplyUpdate  $SessionCtxID $applyUpdateMode $message" />
	</Workflow>

    <!--NPS-6539-->
	<Workflow name="WF_StartApplyUpdate" parameters="$applyUpdateMode">
		<Step cmd="PosStartApplyUpdate $applyUpdateMode" />
	</Workflow>
	<Workflow name="WF_StartApplyUpdate_NG" parameters="$applyUpdateMode">
		<Step cmd="PosStartApplyUpdate $applyUpdateMode" />
	</Workflow>	

    <!--NPS-6539, NVS-1150, NVS-1241-->
	<Workflow name="WF_StartApplyUpdateUndo"> 
	 <Step cmd="PosCheckSessionProperty 'KPAROLLBACK_DONE' 'true'" labelTrue="check_again" labelFalse="CONFIRM" />
	 <Step label="check_again" cmd="PosShowConfirmationMessage 'MSG_BC_EMERGENCY_STOREWIDE_ROLLBACK_ONCE' 'OK' 'CANCEL'" labelTrue="APPLY" labelFalse="EXIT" />
	 <Step label="CONFIRM" cmd="PosShowConfirmationMessage 'MSG_BC_EMERGENCY_STOREWIDE_ROLLBACK_CONFIRM' 'OK' 'CANCEL'" labelFalse="EXIT" />
	 <Step label="APPLY" cmd="PosStartApplyUpdate '2'" labelFalse="ERROR1" labelTrue="NEXT" />
	 <Step label="NEXT" cmd="PosSetSessionProperty  'KPAROLLBACK_DONE' 'true' 'true' 'true'" labelTrue="EXIT" />
	 <Step label="ERROR1" cmd="PosShowMessage 'MSG_BC_CFGROLLBACK_UNCHANGED'" labelTrue="EXIT" />
	 <Step label="ERROR2" cmd="PosShowConfirmationMessage 'MSG_BC_EMERGENCY_STOREWIDE_ROLLBACK_ONCE' 'OK' 'CANCEL'" labelTrue="EXIT" />
	 <Step label="EXIT" />
	</Workflow>	    
	<Workflow name="WF_StartApplyUpdateUndo_NG"> 
	 <Step cmd="PosCheckSessionProperty 'KPAROLLBACK_DONE' 'true'" labelTrue="check_again" labelFalse="CONFIRM" />
	 <Step label="check_again" cmd="PosShowConfirmationMessage 'MSG_BC_EMERGENCY_STOREWIDE_ROLLBACK_ONCE' 'OK' 'CANCEL'" labelTrue="APPLY" labelFalse="EXIT" />
	 <Step label="CONFIRM" cmd="PosShowConfirmationMessage 'MSG_BC_EMERGENCY_STOREWIDE_ROLLBACK_CONFIRM' 'OK' 'CANCEL'" labelFalse="EXIT" />
	 <Step label="APPLY" cmd="PosStartApplyUpdate '2'" labelFalse="ERROR1" labelTrue="NEXT" />
	 <Step label="NEXT" cmd="PosSetSessionProperty  'KPAROLLBACK_DONE' 'true' 'true' 'true'" labelTrue="EXIT" />
	 <Step label="ERROR1" cmd="PosShowMessage 'MSG_BC_CFGROLLBACK_UNCHANGED'" labelTrue="EXIT" />
	 <Step label="ERROR2" cmd="PosShowConfirmationMessage 'MSG_BC_EMERGENCY_STOREWIDE_ROLLBACK_ONCE' 'OK' 'CANCEL'" labelTrue="EXIT" />
	 <Step label="EXIT" />
	</Workflow>	
	
    <!--NPS-6539-->
	<Workflow name="WF_APPLYUPDATE_BACKOFFICE" parameters="$businessDay">
		<Step cmd="isApplyUpdateInProgress" labelTrue="ALREADY_INPROGRESS" labelFalse="CHECK_STORE_CLOSED" />
		<Step label="CHECK_STORE_CLOSED" cmd="isBusinessDayClosed" labelFalse="STORE_NOT_CLOSED" />
		<Step cmd="isChangeDayInProgress" labelTrue="CHANGE_DAY" labelFalse="CHECK_MANDATORY_NODES" />
		<Step label="CHECK_MANDATORY_NODES" cmd="areAllMandatoryNodesOnline 'OFFLINE_NODES'" labelFalse="MANDATORY_NODES" />
		<Step cmd="isApplyUpdateAborted $businessDay" labelFalse="CHECK_PENDING_PACKAGES" labelTrue="ALREADY_ABORTED" />
		<Step label="CHECK_PENDING_PACKAGES" cmd="hasPendingPackageToApply $businessDay" labelFalse="POSPROC_RUN" /><!-- NVS-8940, eBOS apply update support -->
		<Step cmd="sendApplyUpdateResponse '0'" labelFalse="ERROR" /> <!-- APPLYUPDATE_ERROR_NONE=0 -->
		<Step cmd="merge $businessDay" labelFalse="ABORT" />
		<Step cmd="synchronizeFiles $businessDay" labelFalse="ABORT" />
		<Step cmd="applyPackage $businessDay '7'" labelFalse="ABORT" labelTrue="EXIT" /> <!-- APPLYUPDATE_MODE_BACKOFFICE=7 -->
		<Step label="POSPROC_RUN" cmd="runPosProcessorApplyUpdateCommand" labelFalse="NO_PACKAGE" />
		<Step cmd="merge $businessDay" labelFalse="ABORT" />
		<Step cmd="synchronizeFiles $businessDay" labelFalse="ABORT" />
		<Step cmd="hasPendingPackageToApply" labelFalse="NO_PACKAGE" />
		<Step cmd="saveISPUpdateStatusFile $businessDay" labelFalse="ERROR" /> 
		<Step cmd="sendApplyUpdateResponse '0'" labelFalse="ERROR" /> <!-- APPLYUPDATE_ERROR_NONE=0 --> 
		<Step cmd="applyPackage $businessDay '5'" labelFalse="ABORT" labelTrue="EXIT" /> <!-- APPLYUPDATE_MODE_0xEC=7 -->
		<Step label="ALREADY_INPROGRESS" cmd="sendApplyUpdateResponse '1'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_ALREADY_INPROGRESS=1 -->
		<Step label="CHANGE_DAY" cmd="sendApplyUpdateResponse '2'" labelTrue="ABORT" labelFalse="ABORT" /> <!-- APPLYUPDATE_ERROR_CHANGE_DAY_INPROGRESS=2 -->
		<Step label="MANDATORY_NODES" cmd="sendApplyUpdateResponse '3'" labelTrue="ABORT" labelFalse="ABORT" /> <!-- APPLYUPDATE_ERROR_OFFLINE_NODES=3 -->
		<Step label="NO_PACKAGE" cmd="sendApplyUpdateResponse '4'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_NO_PACKAGE=4 -->
		<Step label="ERROR" cmd="sendApplyUpdateResponse '5'" labelTrue="ABORT" labelFalse="ABORT" /> <!-- APPLYUPDATE_ERROR_GENERIC=5 -->
		<Step label="STORE_NOT_CLOSED" cmd="sendApplyUpdateResponse '6'" labelTrue="ABORT" labelFalse="ABORT" /> <!-- APPLYUPDATE_ERROR_STORE_NOT_CLOSED=6 -->
		<Step label="ALREADY_ABORTED" cmd="sendApplyUpdateResponse '8'" labelTrue="EXIT" /> <!-- APPLYUPDATE_ERROR_ABORTED=8 -->
		<Step label="ABORT" cmd="abortApplyUpdate" />
	</Workflow> 	

	<!-- SDO-3075 -->
	<Workflow name="WAY_StartApplyUpdate" parameters="$SessionCtxID $applyUpdateMode $effectiveDate">
		<Step cmd="WayStartApplyUpdate $SessionCtxID $applyUpdateMode $effectiveDate" />
	</Workflow>

	<Workflow name="WAY_PackageStatus" parameters="$SessionCtxID $Token $BusinessDate $JSName">
		<Step cmd="WayDoPackageStatus $SessionCtxID $Token $BusinessDate $JSName" />
	</Workflow>
	<Workflow name="WF_UpgradeSize_USCOE" parameters="$SizeUpgrade">
		   <Step cmd="PosDoTryGrillEnd '3'" />
		   <Step cmd="PosChangeSizeSelection $SizeUpgrade '2'" />
		   <Step cmd="PosSolveLineChoices" />
		   <Step cmd="PosBackToPreviousScreen" />
	 </Workflow>
	 <Workflow name="WF_BreakValueMeal_USCOE">
		   <Step cmd="PosDoTryGrillEnd '3'" />
		   <Step cmd="PosBreakValueMeal" />
		   <Step cmd="PosBackToPreviousScreen" />
	 </Workflow>
	<Workflow name="WF_StartLocalRollback">
		<Step cmd="PosWayOnline" labelTrue="WAY_ERROR" labelFalse="CONFIRM" />
		<Step label="CONFIRM" cmd="PosShowConfirmationMessage 'MSG_BC_CFGROLLBACK_LOCAL_CONFIRM' 'OK' 'CANCEL'" labelFalse="EXIT" />
		<Step cmd="PosStartLocalRollback" labelTrue="EXIT" labelFalse="SHUTDOWN" />
		<Step label="SHUTDOWN" cmd="PosShutdown '95' 'this' 'true'" labelTrue="EXIT" />
		<Step label="WAY_ERROR" cmd="PosShowMessage 'MSG_BC_CFGROLLBACK_LOCAL_WAY_ONLINE'" />
	</Workflow>
	<Workflow name="WF_StartLocalRollback_NG">
		<Step cmd="PosWayOnline" labelTrue="WAY_ERROR" labelFalse="CONFIRM" />
		<Step label="CONFIRM" cmd="PosShowConfirmationMessage 'MSG_BC_CFGROLLBACK_LOCAL_CONFIRM' 'OK' 'CANCEL'" labelFalse="EXIT" />
		<Step cmd="PosStartLocalRollback" labelTrue="EXIT" labelFalse="SHUTDOWN" />
		<Step label="SHUTDOWN" cmd="PosShutdown '95' 'this' 'true'" labelTrue="EXIT" />
		<Step label="WAY_ERROR" cmd="PosShowMessage 'MSG_BC_CFGROLLBACK_LOCAL_WAY_ONLINE'" />
	</Workflow>
	 <Workflow name="WF_DoExemptLocalTax">
	 	<Step cmd="DoExemptLocalTaxJS" />
	 </Workflow>	
	 <Workflow name="WF_ShowLocalTaxExemptButton">
	 	<Step cmd="PosCheckParameter 'Report' 'ShowLocalTaxExempt' 'true'" labelTrue="SHOW" labelFalse="HIDE" />
	 	<Step label="SHOW" cmd="PosChangeButtonProperties '0' 'visible|true'" labelTrue="EXIT" />
          <Step label="HIDE" cmd="PosChangeButtonProperties  '0' 'visible|false'" labelTrue="EXIT" />
          <Step label="EXIT" />	 	
	 </Workflow>
	<Workflow name="WF_TurnOffKVSOnQUE">
		<Step cmd="PosTurnOffKVSOnQUE" />
	</Workflow> 	 		 	 
 	<Workflow name="WF_SetVariableAmount" parameters="$type $value">
		<Step cmd="PosSetVariableAmountJSEx $type $value" />
	</Workflow>
	<Workflow name="WF_SetFloatPrice" parameters="$value">
		<Step cmd="PosSetFloatPriceJS $value" />
	</Workflow>
	<Workflow name="WF_FloatPriceSpeedKey" parameters="$value">
		<Step cmd="PosSetVariableAmountJS '3' $value" />
	</Workflow> 
	<Workflow name="WF_NextDollarTender" parameters="$TenderID">
		<Step cmd="PosNextDollarTenderJS $TenderID 'NOPREVIEW|SAVE'" />
	</Workflow>
	<Workflow name="WF_PrintISPMALReport">
		<Step cmd="PrintISPMALReportJS" />
	</Workflow>	
       <Workflow name="WF_VerifyDualBump" parameters="$ButtonId">
              <Step cmd="PosCheckParameter 'OperationMode' 'enableDualBump' 'true'" labelFalse="HIDE" />
              <Step cmd="PosCheckDualBumpJS $ButtonId" labelTrue="EXIT" />
              <Step label="HIDE" cmd="PosChangeButtonProperties $ButtonId 'visible|false'" />
              <Step label="EXIT" />
    </Workflow>
    <Workflow name="WF_ToggleDualBump" parameters="$ButtonId">
              <Step cmd="PosCheckParameter 'OperationMode' 'enableManagerSetDualBump' 'true'" labelFalse="DISABLED" />
              <Step cmd="PosToggleDualBumpJS $ButtonId" labelTrue="EXIT" />
              <Step label="DISABLED" cmd="PosShowMessage 'MSG_BC_DUALBUMP_CHANGE_DISABLED'" />
              <Step label="EXIT" />
    </Workflow>
    <Workflow name="WF_SetDualBumpInitiator" parameters="">
              <Step cmd="PosCheckParameter 'OperationMode' 'enableDualBump' 'true'" labelFalse="DISABLED" />
              <Step cmd="PosCheckSessionProperty 'selectedKvs' ''" labelTrue="NO_KVS" labelFalse="CHECK" />
              <Step label="CHECK" cmd="PosCheckDualBumpInit '_selectedKvs'" labelFalse="SET" labelTrue="ALREADYSET" />
              <Step label="SET" cmd="PosSetDualBumpInitJS '_selectedKvs' 'true'" labelTrue="EXIT" />
              <Step label="ALREADYSET" cmd="PosShowMessage 'MSG_BC_DUALBUMP_ALREADY_INIT'" labelTrue="EXIT" />
              <Step label="NO_KVS" cmd="PosShowMessage 'MSG_BC_NO_KVS_SELECTED'" labelTrue="EXIT" />
              <Step label="DISABLED" cmd="PosShowMessage 'MSG_BC_DUALBUMP_DISABLED'" />
              <Step label="EXIT" />
    </Workflow>
    <Workflow name="WF_SetDualBumpAssembler" parameters="">
              <Step cmd="PosCheckParameter 'OperationMode' 'enableDualBump' 'true'" labelFalse="DISABLED" />
              <Step cmd="PosCheckSessionProperty 'selectedKvs' ''" labelTrue="NO_KVS" labelFalse="CHECK" />
              <Step label="CHECK" cmd="PosCheckDualBumpInit '_selectedKvs'" labelFalse="ALREADYSET" labelTrue="SET" />
              <Step label="SET" cmd="PosSetDualBumpInitJS '_selectedKvs' 'false'" labelTrue="EXIT" />
              <Step label="ALREADYSET" cmd="PosShowMessage 'MSG_BC_DUALBUMP_ALREADY_ASSEMBLER'" labelTrue="EXIT" />
              <Step label="NO_KVS" cmd="PosShowMessage 'MSG_BC_NO_KVS_SELECTED'" labelTrue="EXIT" />
              <Step label="DISABLED" cmd="PosShowMessage 'MSG_BC_DUALBUMP_DISABLED'" />
              <Step label="EXIT" />
    </Workflow>
    <Workflow name="WF_CheckDualBumpWorkingMode" parameters="">
              <Step cmd="PosCheckParameter 'OperationMode' 'enableDualBump' 'true'" labelFalse="DISABLED" />
              <Step cmd="PosCheckSessionProperty 'selectedKvs' ''" labelTrue="NO_KVS" labelFalse="CHECK" />
              <Step label="CHECK" cmd="PosCheckDualBumpInit '_selectedKvs'" labelFalse="ASSEMBLER" labelTrue="INITIATOR" />
              <Step label="ASSEMBLER" cmd="PosShowMessage 'MSG_BC_DUALBUMP_IS_ASSEMBLER'" labelTrue="EXIT" />
              <Step label="INITIATOR" cmd="PosShowMessage 'MSG_BC_DUALBUMP_IS_INIT'" labelTrue="EXIT" />
              <Step label="NO_KVS" cmd="PosShowMessage 'MSG_BC_NO_KVS_SELECTED'" labelTrue="EXIT" />
              <Step label="DISABLED" cmd="PosShowMessage 'MSG_BC_DUALBUMP_DISABLED'" />
              <Step label="EXIT" />
    </Workflow>

<!-- RPS Workflows -->
	<Workflow name="WF_RPSOpenDayOffline">
		<Step cmd="PosRPSOpenDay_JSCOE" />
	</Workflow>
	<Workflow name="WF_RPSCloseDayOffline">
		<Step cmd="PosRPSCloseDay_CSL" />
	</Workflow> 
	<Workflow name="WF_RPSLogin" parameters="$PosNumber $runSilent">
		<Step cmd="PosRPSLogin_JSCOE $PosNumber $runSilent" />
	</Workflow>
	<Workflow name="WF_RPSLogout" parameters="$PosNumber $runSilent">
		<Step cmd="PosRPSLogout_JSCOE $PosNumber $runSilent" />
	</Workflow>
	<Workflow name="WF_ViewOffersDetails" parameters="">
		<Step cmd="PosCheckState 'POS_OpLogged'" labelTrue="CONTINUE" labelFalse="ERROR" />
		<Step label="ERROR" />
		<Step cmd="PosShowMessage 'MSG_BC_NOTSALEMODE'" labelTrue="EXIT" labelFalse="EXIT" />
		<Step label="CONTINUE" />
		<Step cmd="PosViewOfferDetails 'OffersDetailsReport#USOffers'" />
		<Step label="EXIT" />
	</Workflow>
	<Workflow name="WF_ClearOffers" parameters="">
		<Step cmd="PosDoClearOffer_USCOE" />
	</Workflow>
	<Workflow name="WF_CheckIfOffersIsEnabled">  <!-- NVS-1291 -->
		<Step cmd="PosCheckSessionProperty 'OFFERS_IS_ENABLED' 'true'" labelTrue="SHOW" labelFalse="HIDE" />
		<Step label="SHOW" cmd="PosChangeButtonProperties '0' 'visible|true'" labelTrue="EXIT" labelFalse="EXIT" />
		<Step label="HIDE" cmd="PosChangeButtonProperties '0' 'visible|false'" />
		<Step label="EXIT" />
	</Workflow>
	<Workflow name="WF_CurrentDayOffersReport">
		<Step cmd="PosOffersCreateReport_USCOE 'CASH|PMIX' 'ReportCurrentDayOffers#USOffers' 'PREVIEW' '' '' ''" />
		<Step cmd="PosShowScreen '905'" />
	</Workflow>	
	<Workflow name="WF_CurrentDayOffersSWReport">
		<Step cmd="PosOffersCreateReport_USCOE 'CASH|PMIX' 'ReportCurrentDayOffersSW#USOffers' 'PREVIEW|CONSOLIDATED' '' '' ''" />
		<Step cmd="PosShowScreen '905'" />
	</Workflow>	
	<Workflow name="WF_OffersReport">
		<Step cmd="PosOffersCreateReport_USCOE 'CASH|PMIX' 'ReportOffersByDate#USOffers' 'PREVIEW|DATE' '' '' ''" />
		<Step cmd="PosShowScreen '905'" />
	</Workflow>	
	<Workflow name="WF_OffersReportSW">
		<Step cmd="PosOffersCreateReport_USCOE 'CASH|PMIX' 'ReportOffersByDateSW#USOffers' 'PREVIEW|DATE|CONSOLIDATED' '' '' ''" />
		<Step cmd="PosShowScreen '905'" />
	</Workflow>	
	<Workflow name="WF_OffersDetailReport">
		<Step cmd="PosOffersCreateReport_USCOE 'CASH|PMIX' 'reportOfferPromtionDetail@reports.nps' 'PREVIEW|DATE' '' '' ''" />
		<Step cmd="PosShowScreen '905'" />
	</Workflow>	
	<Workflow name="WF_OffersDetailReportSW">
		<Step cmd="PosOffersCreateReport_USCOE 'CASH|PMIX' 'reportOfferPromtionDetailSW@reports.nps' 'PREVIEW|DATE|CONSOLIDATED' '' '' ''" />
		<Step cmd="PosShowScreen '905'" />
	</Workflow>		
	<Workflow name="WF_KioskSaleGuestCountReport">
		<Step cmd="PosCreateReport 'CASH|PRODS' 'ReportKioskSaleGuestCount#USKioskSaleGuestCountReports'  'PREVIEW|DATE' '' '' ''" />	
		<Step cmd="PosShowScreen '905'" />		
	</Workflow>	
<!-- Mobile Workflows -->
	<Workflow name="WF_ShowBtnMobileOrd" parameters="$ButtonNumber">
		<Step cmd="PosCheckSessionProperty 'workingMode' 'orderTaker'" labelFalse="HIDE" />
		<Step cmd="PosChangeButtonProperties  $ButtonNumber 'visible|true'" labelTrue="IMAGE" />
		<Step label="HIDE" cmd="PosChangeButtonProperties  $ButtonNumber 'visible|false'" labelTrue="EXIT" />
		<Step label="IMAGE" cmd="PosDisplayMobileOrderStatus  $ButtonNumber 'mobileorderOn.png' 'mobileorderOff.png'" />
		<Step label="EXIT" />
	</Workflow>
	<Workflow name="WF_MobileOrder">
		<Step cmd="onCheckforFaceToFaceTandem" labelTrue="GO" labelFalse="CODCHECK" /> 
         	<!-- Check COD selected -->
        	<Step label="CODCHECK" cmd="PosIsCODSelectedJS" labelTrue="GO" labelFalse="END" />		
		<Step label="END" cmd="PosShowMessage 'MSG_BC_SELECTCOD'" labelTrue="EXIT2" />
		<Step label="GO" cmd="PosSizeSelection '-1'" />
		<Step cmd="PosDoAcceptMobileOrderJS 'true'" labelFalse="EXIT2" />
		<Step cmd="PosDisplayMobileOrderStatus  '0' 'MobileorderOn.png' 'MobileorderOff.png'" />
		<Step label="EXIT2" />
		<Step cmd="PosRefreshButtons" />
	</Workflow>
		<Workflow name="WF_PayByMobileActivation">
		<Step cmd="PosPayByMobileActivationJS" />
	</Workflow>
	<!-- NVS-7151, do serve paid directly after pay by mobile -->
	<Workflow name="WF_DoPayByMobileOrder">
		<Step cmd="PosDoPayByMobileOrderJS" />
		<!-- <Step cmd="PosDoServePaidDirect" /> NVS-8577-->
	</Workflow>
	<Workflow name="WF_DoPayAtRestaurant">
		<Step cmd="PosDoPayAtRestaurantJS" />
	</Workflow>

	<Workflow name="WF_StoreScreenReturnActivation">
		<Step cmd="PosStoreScreenReturnActivationJS" />
	</Workflow>

	<Workflow name="WF_OnGenericCounterTimeout">
		<Step cmd="OnGenericCounterTimeout" />
	</Workflow>
	<!-- NVS-7151, If DT Cashier this button will be hidden -->
	<Workflow name="WF_ServePaidActivation">
		<Step cmd="PosDoServePaidActivationJS" labelTrue="CHECK_DTMODE" labelFalse="CHECK_DTMODE" />
		<Step label="CHECK_DTMODE" cmd="PosCheckSessionProperty 'workingMode' 'cashier|both'" labelTrue="HIDE" labelFalse="EXIT" />
		<Step label="HIDE" cmd="PosChangeButtonProperties '0' 'visible|false'" labelTrue="EXIT" />
		<Step label="EXIT" />
	</Workflow>

	<Workflow name="WF_RecallMobileButtonActivation">
		<Step cmd="PosDoRecallMobileButtonActivationJS" />
	</Workflow>
	
	<Workflow name="WF_DoRecallMobileButton">
		<Step cmd="PosDoRecallMobileButtonJS" />
	</Workflow>
	
	<Workflow name="WF_MobileStoreReturnActivation">
		<Step cmd="PosDoMobileStoreReturnActivationJS" />
	</Workflow>

	<Workflow name="WF_DoServePaid">
		<Step cmd="PosDoServePaidJS" />
	</Workflow>
	<Workflow name="WF_DoPayOnSite">
		<Step cmd="PosDoPayOnSiteJS" />
	</Workflow>
	<Workflow name="WF_ServePayOnSiteActivation">
		<Step cmd="PosDoServePayOnSiteActivationJS" />
	</Workflow>	
	<Workflow name="WF_PaymentStatusActivation" parameters="$ButtonFont $ApprovedColor $PartiallyApprovedColor $DeclinedColor $PendingColor">
		<Step cmd="PosDoPaymentStatusActivationJS $ButtonFont $ApprovedColor $PartiallyApprovedColor $DeclinedColor $PendingColor" />
	</Workflow>
	<Workflow name="WF_DoRecallMobileOrderByOrderSource" parameters="$OrderSource">
		<Step cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="SALE" />
		<Step cmd="PosShowMenuPriceDialogJS" labelFalse="EXIT" />
		<Step label="SALE" cmd="PosCheckCashDrawer" labelFalse="OPENED" />
		<Step cmd="recallMobileOrderJS $OrderSource" labelTrue="END" labelFalse="EXIT" />
		<Step label="OPENED" cmd="PosShowMessage 'MSG_BC_DRAWEROPENED'" />
		<Step label="END" />
	</Workflow> 
	<Workflow name="WF_DoRecallFOEOrder" parameters="$OrderSource $OrderKey">
		<Step cmd="PosSizeSelection '-1'" />
		<Step cmd="PosRefreshButtons" />
		<Step cmd="recallMobileOrderJS $OrderSource $OrderKey" />
		<Step label="END" />
	</Workflow>
	<Workflow name="WF_RecallAnotherMobileOrder">
		<Step cmd="PosSubmitMobileOrderJS" labelFalse="EXIT" />
		<Step cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="SALE" />
		<Step cmd="PosShowMenuPriceDialogJS" labelFalse="EXIT" />
		<Step label="SALE" cmd="PosCheckCashDrawer" labelFalse="OPENED" />
		<Step cmd="recallMobileOrderJS '3'" labelTrue="END" labelFalse="EXIT" />
		<Step label="OPENED" cmd="PosShowMessage 'MSG_BC_DRAWEROPENED'" />
		<Step label="END" />
	</Workflow>
	<Workflow name="WF_StoreMobile">
		<Step cmd="PosAuthorizeMobileOrderJS" labelFalse="EXIT" />
	</Workflow>
	<Workflow name="WF_ReStoreMobileOrder">
		<Step cmd="PosAuthorizeMobileOrderJS" labelFalse="EXIT" />
	</Workflow>
	<Workflow name="WF_ServePaid">
		<Step cmd="PosServeMobileOrderJS" labelFalse="EXIT" />
	</Workflow>
	<Workflow name="WF_StartApplyUpdateNode">
		<Step cmd="PosStartApplyUpdate '8'" />
	</Workflow>	
	<Workflow name="WF_StartApplyUpdateNode_NG">
		<Step cmd="PosStartApplyUpdate '8'" />
	</Workflow>		
	<Workflow name="WF_APPLYUPDATE_AFTER_APPLYUPDATE_RECOVERY" parameters="$businessDay">
		 <Step cmd="executeAfterApplyUpdateRecoveryTasks $businessDay" />
	</Workflow>
	<Workflow name="WF_InitMainScreen" parameters="">
		<Step cmd="PosTagIdReadStartCapture" />
	</Workflow>	
	<Workflow name="WF_ChangeChoice" parameters="$quantity $originProdCode $destProdCode">
		<Step cmd="PosChangeChoice $quantity $originProdCode $destProdCode" />
		<Step cmd="PosAutoChoice '1'" />
	</Workflow>
	<Workflow name="WF_SwapChoice" parameters="$ChoiceGroup $ScreenNumber">
		<Step cmd="PosNotATransactionInProgress 'true'" labelFalse="SHOW" />
		<Step cmd="PosShowMessage 'MSG_BC_NO_ORDER_IN_PROGRESS'" labelTrue="EXIT" />
		<Step label="SHOW" cmd="PosSwapChoice $ChoiceGroup" labelFalse="DIALOGUE" />
		<Step cmd="PosAutoChoice '1'" labelTrue="EXIT" />
		<Step label="DIALOGUE" cmd="PosShowChoiceFloatScreen $ChoiceGroup $ScreenNumber" labelTrue="EXIT" labelFalse="EXIT" />
	</Workflow>	
	
	<Workflow name="WF_InitializeOffersCode">
		<Step cmd="PosProcessCodeClearPressJS" />
	</Workflow>	
	<Workflow name="WF_HideOffersCodeButton">
		<Step label="HIDE" cmd="PosChangeButtonProperties  '0' 'visible|false'" labelTrue="EXIT" />
		<Step label="EXIT" />  
	</Workflow>
	<Workflow name="WF_OffersCodeKeyboard" parameters="$ScreenNumber">
          <Step cmd="PosIsInSaleMode  'false'" labelFalse="GO_MSG" />
          <Step cmd="PosTenderCondition  'TENDER_GIFT_COUPON'" labelTrue="GO_COUPON_MSG" labelFalse="CHECK_ANY_TENDER" />
          <Step label="CHECK_ANY_TENDER" cmd="PosTenderCondition  'ANY_TENDER'" labelTrue="GO_TENDER_MSG" labelFalse="CHECK_TRANS_IN_PROGRESS" />
          <Step label="CHECK_TRANS_IN_PROGRESS" cmd="PosNotATransactionInProgress  'true'" labelTrue="GO_MSG" labelFalse="GO_SCREEN" />
          <Step label="GO_SCREEN" cmd="PosShowScreen  $ScreenNumber" labelTrue="EXIT" />
          <Step label="GO_COUPON_MSG" cmd="PosShowMessage  'MSG_BC_DISCOUNT_OFFER_REMOVE_COUPONS'" labelTrue="EXIT" />
          <Step label="GO_TENDER_MSG" cmd="PosShowMessage  'MSG_BC_DISCOUNT_OFFER_REMOVE_TENDERS'" labelTrue="EXIT" />
          <Step label="GO_MSG" cmd="PosShowMessage  'MSG_BC_NO_ORDER_IN_PROGRESS'" />
          <Step label="EXIT" />
	</Workflow>
	<Workflow name="WF_CodeKeyboardButtonPress" parameters="$ButtonNumber $ButtonTitle $ButtonValue $ButtonImage">
		<Step cmd="PosProcessCodeKeyboardPressJS $ButtonNumber $ButtonTitle $ButtonValue $ButtonImage" />
	</Workflow>
	<Workflow name="WF_ClearOffersCode">
		<Step cmd="PosProcessCodeClearPressJS" />
	</Workflow>
	<Workflow name="WF_OffersCodeBackSpaceKey">
		<Step cmd="PosProcessCodeBackSpacePressJS" />
	</Workflow>
	<Workflow name="WF_OffersCodeEnterKey">
		<Step cmd="PosGetCurrentOfferCodeJS" />
	</Workflow>	
	<Workflow name="WF_EnterOffersTagId" parameters="">
		<Step cmd="PosEnterTagId" />
	</Workflow>
	<Workflow name="WF_ScannerRead" parameters="$value">
		<!-- NVS-7096 - Customer Preference Barcode Integration. -->
		<Step cmd="PosHandleQRCodeJS $value" labelTrue="EXIT" labelFalse="NOQRCODE" />
		<Step label="NOQRCODE" cmd="PosProcessOffersScannerJS $value" />
		<Step label="EXIT" />		
	</Workflow>
	<Workflow name="WF_ScannerReset" parameters="$managerRequired $commandLine">
        <Step cmd="PosScannerReset $managerRequired $commandLine" />
	</Workflow>
	<Workflow name="WF_DoTenderEArchCard" parameters="$TenderID">
		<Step cmd="PosSetSessionProperty 'E_ARCH_CARD_PAYMENT' 'true'" />
		<Step cmd="PosDoTenderJS $TenderID '-1' 'NOPREVIEW|SAVE'" />
	</Workflow>

	<!-- Enhancements Wave 2 -->
	<Workflow name="WF_ToggleOffersOnOff">
		<Step cmd="PosToggleOffersOnOff" />
	</Workflow>
	<Workflow name="WF_ShowOffersOnOff">
		<Step cmd="PosCheckSessionProperty 'offersOnOff' 'on'" labelFalse="DISABLE" />
		<Step cmd="PosChangeButtonProperties '0' 'bitmap|OFFERSON.png'" labelTrue="EXIT" />
		<Step label="DISABLE" cmd="PosChangeButtonProperties '0' 'bitmap|OFFERSOFF.png'" labelTrue="EXIT" />
	</Workflow>
	<Workflow name="WF_OfferRefused">
		<Step cmd="PosOfferRefused" />
		<Step cmd="PosChangeButtonProperties '0' 'invert|true'" />
	</Workflow>
	<Workflow name="WF_ApplyOfferAsync">
		<Step cmd="PosSetSessionProperty 'OfferReady' 'true'" />
		<Step cmd="PosOffersOnItemSold 'true'" />
		<!-- NVS-4449 - msilva - force applying OnTotal offers on DT OT -->
		<!-- Removed due to NVS-4541 L4 suggestion -->
		<!-- <Step label="APPLY_ONTOTAL" cmd="PosOffersOnTotal 'true'" />-->
	</Workflow>
	<Workflow name="WF_RemovePromotion">
		<Step cmd="PosRemovePromotion" />
		<Step cmd="PosRefreshSalePanel 'STORE'" />
	</Workflow>

	<Workflow name="WAY_Authorized_Report_By_Period" parameters="$SessionCtxID $Level $User $Password $ReportType $BusinessDate $Time $POD $POSList $ServiceList $JSName $null $FinalBusinessDate">
	    <Step cmd="WayGetAuthorization $SessionCtxID $Level $User $Password" />
	    <Step cmd="WayDoReport $SessionCtxID $ReportType $BusinessDate $Time $POD $POSList $ServiceList $JSName $null $FinalBusinessDate" />
	</Workflow>

	<Workflow name="WAY_Report_By_Period" parameters="$SessionCtxID $ReportType $BusinessDate $Time $POD $POSList $ServiceList $JSName $null $FinalBusinessDate">
	    <Step cmd="WayDoReport $SessionCtxID $ReportType $BusinessDate $Time $POD $POSList $ServiceList $JSName $null $FinalBusinessDate" />
	</Workflow>
	<Workflow name="WF_MonthlyReport" parameters="$DataTypes $ReportScript $Flags $CustomParam $POD $ServiceList">
	    <Step cmd="POSSetBusinessDatesForMonthlyReportsJS" />
	    <Step cmd="PosCreateReport $DataTypes $ReportScript $Flags $CustomParam $POD $ServiceList" />
	    <Step cmd="PosRemoveSessionProperty 'InitialBusinessDate'" />
	    <Step cmd="PosRemoveSessionProperty 'FinalBusinessDate'" />
	</Workflow>

	<Workflow name="WF_ReportSOS_By_Period" parameters="$ServiceList $DataTypes">
	    <Step cmd="PosParameterIsEmpty $ServiceList" />
	    <Step cmd="PosItemSelection 'MFY.png|DTS.png|FC.png|CSR.png|DTD.png|cancel.png' '0|1|2|3|4|5' 'MSG_WFL_SELECT' 'MSG_WFL_SEL_REPORT'" />
	    <Step cmd="PosReportSOSJS $DataTypes 'PREVIEW|CONSOLIDATED|PERIOD'" />
	</Workflow>

	<Workflow name="WF_ReportSOSDate" parameters="$ServiceList $DataTypes">
	    <Step cmd="PosParameterIsEmpty $ServiceList" />
	    <Step cmd="PosReportSOSByDateJS $DataTypes 'PREVIEW|CONSOLIDATED'" />
	</Workflow>	
	<Workflow name="WF_ShowChoiceFloatScreen" parameters="$ChoiceGroup $ScreenNumber">
	      <Step cmd="PosNotATransactionInProgress 'true'" labelFalse="SHOW" />
	      <Step cmd="PosShowMessage 'MSG_BC_NO_ORDER_IN_PROGRESS'" labelTrue="EXIT" />
	      <Step label="SHOW" cmd="PosShowChoiceFloatScreen $ChoiceGroup $ScreenNumber" />
	</Workflow>	
	<Workflow name="WF_ClearChoiceGroup" parameters="$ChoiceGroup">
	      <!-- Show Prices -->
	      <Step cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="CLEARCHOICE" />
	      <Step cmd="PosShowMenuPriceDialogJS" labelFalse="EXIT" />
	      <!-- Show Prices -->
	      <Step label="CLEARCHOICE" cmd="PosNotATransactionInProgress 'true'" labelFalse="CLEAR1" />
	      <Step cmd="PosShowMessage 'MSG_BC_NO_ORDER_IN_PROGRESS'" labelTrue="EXIT" />
	      <Step label="CLEAR1" cmd="PosDoTryGrillEnd '3'" />
	      <Step cmd="PosEndSmartReminder" />
	      <Step cmd="PosClearChoiceGroup $ChoiceGroup" />
	</Workflow>	
	<Workflow name="WF_UpgradeSizeDefaultProduct" parameters="$SizeUpgrade $UpgradeMode $CheckValueMeal">
	      <Step cmd="PosSizeSelection '-1'" /><!--NPS-5843-->
	      <Step cmd="PosRefreshButtons" /><!--NPS-5843-->
	      <Step cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="GO" />
	      <Step cmd="PosShowMenuPriceDialogJS" labelFalse="EXIT" />
	      <Step label="GO" cmd="PosDoTryGrillEnd '3'" />
	      <Step cmd="PosChangeSizeSelection $SizeUpgrade $UpgradeMode $CheckValueMeal" />
	      <Step cmd="PosAutoChoice '1'" />
	</Workflow>		
	<Workflow name="WF_PairPed" parameters="$ButtonNumber $LabelButtonNumber">
		<Step cmd="DoPairPEDJS $ButtonNumber $LabelButtonNumber" />
	</Workflow>
	<Workflow name="WF_UnPairPed">
		<Step cmd="DoUnPairPEDJS" labelFalse="FAIL" />
		<Step cmd="PosShowMessage  'Successfully un-paired PED.'" labelTrue="EXIT" />
		<Step label="FAIL" cmd="PosShowMessage  'Failed To Un-Pair PED.'" labelTrue="EXIT" />
	</Workflow>
	<Workflow name="WF_TestMAC">
		<Step cmd="DoTestMACJS" labelFalse="FAIL" />
		<Step cmd="PosShowMessage  'Successfully tested MAC.'" labelTrue="EXIT" />
		<Step label="FAIL" cmd="PosShowMessage  'Failed To test MAC.'" labelTrue="EXIT" />
	</Workflow>
	<Workflow name="WF_OpenPED">
		<Step cmd="PosCheckState 'POS_Closed'" labelTrue="ERROR" labelFalse="OPEN" />
		<Step label="ERROR" />
		<Step cmd="PosShowMessage 'MWT_CASHLESS_POSNOTOPEN_PEDCANTBEOPENED'" labelTrue="EXIT" />
		<Step label="OPEN" />
		<Step cmd="DayOpenPED" labelFalse="FAIL" />
		<Step cmd="PosShowMessage  'Successfully Opened PED'" labelTrue="EXIT" />
		<Step label="FAIL" />
		<Step cmd="DisplayPEDOpenFailure" />
		<Step label="EXIT" />
	</Workflow>
	<Workflow name="WF_CheckIfCashless3">
		<Step cmd="PosCheckParameter  'Cashless3' 'Active' 'true'" labelTrue="SHOW" labelFalse="HIDE" />
		<Step label="SHOW" cmd="PosChangeButtonProperties  '0' 'visible|true'" labelTrue="END" />
		<Step label="HIDE" cmd="PosChangeButtonProperties  '0' 'visible|false'" labelTrue="END" />
		<Step label="EXIT" />
	</Workflow>
	<Workflow name="WF_DoNothing">
	</Workflow>
	<Workflow name="WF_DiagnosePED" parameters="$isRemote">
		<Step cmd="DiagnosePED $isRemote" />
	</Workflow>
	<Workflow name="WF_RebootPED">
		<Step cmd="ForcedReboot 'true'" />
	</Workflow>
	<Workflow name="WF_RemoteRebootPED">
		<Step cmd="RemoteForcedReboot" />"
	</Workflow>
	<Workflow name="WAY_SiteTotals" parameters="$SessionCtxID $posID">
		<Step cmd="WaySiteTotalsJS $SessionCtxID $posID" />
	</Workflow>		
	<Workflow name="WF_SiteTotals">
		<Step cmd="EndOfDaySiteTotals" />
	</Workflow>
	<Workflow name="WAY_Cutovers" parameters="$SessionCtxID $posID">
		<Step cmd="WayCutoversJS $SessionCtxID $posID" />
	</Workflow>		
	<Workflow name="WF_Mobilecutover">
		<Step cmd="PosMobileCutoverJS" />
	</Workflow>
	<Workflow name="WF_HideMeIfSmartRoutingDisable" parameters="$ButtonNumber"> 
		<Step cmd="PosIsAllowedSellCYT" labelTrue="EXIT" labelFalse="HIDE_BUTTON" /> 
		<Step label="HIDE_BUTTON" cmd="PosChangeButtonProperties '0' 'visible|false'" labelTrue="EXIT" /> 
		<Step label="EXIT" /> 
	</Workflow>
	<Workflow name="WF_AddCYTGroupButtons" parameters="$groupName $firstButton $lastButton"> 
		<Step cmd="PosAddCYTGroupButtons $groupName $firstButton $lastButton" /> 
	</Workflow>
	<!-- NVS-5308 -  Crew required to Press Eat in button after entering tag ID to tender a gift card activation/reload -->
	<Workflow name="WF_AssociateTagIdFloatScreen" parameters="$TagId"> 
		<Step cmd="PosAssociateTagIdJS $TagId" labelTrue="OK" labelFalse="EXIT" />
		<Step label="OK" cmd="PosHideFloatScreen" labelTrue="EXEC_WORKFLOW" labelFalse="EXEC_WORKFLOW" />
		<Step label="EXEC_WORKFLOW" cmd="PosExecuteSavedWorkflow" />
		<Step label="EXIT" />
	</Workflow> 
	<Workflow name="WF_AssociateTagId" parameters="$TagId $ScreenNumber"> 
		<Step cmd="PosAssociateTagId $TagId" /> 
		<Step cmd="PosShowScreen $ScreenNumber" /> 
	</Workflow> 
	<Workflow name="WF_ShowTagIdScreen" parameters="$ScreenTagIDNumber"> 
		<Step cmd="PosShowScreen $ScreenTagIDNumber" /> 
	</Workflow> 
	<Workflow name="WF_ShowTagIdFloatScreen" parameters="$ScreenTagIDNumber"> 
		<Step cmd="PosShowFloatScreen $ScreenTagIDNumber" /> 
	</Workflow>
	<Workflow name="WF_PosModifyDeliveryEarlyAllProducts" parameters="$deliveryEarly"> 
		<Step cmd="PosModifyDeliveryEarlyAllProducts $deliveryEarly" /> 
		<Step cmd="PosRefreshDeliverEarlyFloatingButtons" /> 
	</Workflow> 
	<Workflow name="WF_DeliveryEarlyDone"> 
		<Step cmd="PosDeliveryEarlySmartReminderDone" /> 
		<Step cmd="PosHideFloatScreen" /> 
		<Step cmd="PosExecuteSavedWorkflow" /> 
	</Workflow> 
	<Workflow name="WF_PosDeliverEarlier" parameters="$EntireSale"> 
		<Step cmd="PosDeliverEarlier $EntireSale" /> 
	</Workflow> 
	<!-- NGK -->
	
	<Workflow name="WF_NGK_GrillMakeItDefault">
		<Step cmd="PosCSOGoAheadIfOnGrillModeJS  'true'" /> 
		<Step cmd="PosClearGrill" />
	</Workflow>

	<!-- SDO-9313 - NGK v5.71 - Make It Plain button stops working if the plain product is changed and "Plain" text is not being shown -->
	<Workflow name="WF_NGK_GrillMakeItPlain">
		<Step cmd="PosCSOGoAheadIfOnGrillModeJS  'true'" />
		<Step cmd="PosApplyPlainGrill" />
	</Workflow>

	<Workflow name="WF_NGK_GrillAddRemove" parameters="$ItemIndex $Oper">
		<Step cmd="PosCSOGoAheadIfOnGrillModeJS  'true'" /> 
		<Step cmd="PosDoGrillOper  $Oper '-1' $ItemIndex" />
	</Workflow>
	
	<!-- CSO-39 - NGK v5.3 - Enhancements To Grill Screens Including CanAdds And Comments - 7160840 -->
	<Workflow name="WF_NGK_GrillAddRemovePortion" parameters="$ItemIndex $Oper">
		<Step cmd="PosCSOGoAheadIfOnGrillModeJS  'true'" /> <!--Verifies if the NP6 kernel context is on grill process.-->
		<Step cmd="PosCSODoGrillAddRemovePortionBasedJS $Oper $ItemIndex" />
	</Workflow>

	<Workflow name="WF_NGK_GrillSetModifier" parameters="$ItemIndex $Bit">
		<Step cmd="PosCSOGoAheadIfOnGrillModeJS  'true'" />
		<Step cmd="PosDoGrillOper  'c' '-1' $ItemIndex" />
		<Step cmd="PosDoGrillOper  '0' $Bit $ItemIndex" />
	</Workflow>
	
	<!-- CSO-153 - NGK - Create Percentage Discount Barcodes On NGKiosk - 6998290 -->
	<Workflow name="WF_NGK_GrillShowCustomizeScreen" parameters="$ItemIndex $HasDiscount">
		<Step cmd="PosCSOIsTrnInProgressJS  'true'" /> 
		<Step cmd="PosCSODoStopWhenOnGrillModeJS  'true'" /> 
		<Step cmd="PosCSOShowCustomizeScreenJS  $ItemIndex $HasDiscount" />
	</Workflow>

	<Workflow name="WF_NGK_GrillInitialize" parameters="$CompIndex">
		<Step cmd="PosCSOIsTrnInProgressJS  'true'" />		
		<Step cmd="PosCSODoStopWhenOnGrillModeJS  'true'" />		
		<Step cmd="PosCSOCustomizeProductComponentJS $CompIndex" />	
	</Workflow>

	<!-- <Workflow name="WF_NGK_GrillFinalize" parameters="$Type $isProductCustomization $grillIndexList $selectedIndexes">
		<Step cmd="PosCSOGoAheadIfOnGrillModeJS  'true'" />
		<Step cmd="PosDoGrillEnd  $Type" />
		
		<Step cmd="PosCSOIsProductCustomization  $isProductCustomization" labelTrue="PRODUCT_CUSTOMIZATION" labelFalse="REGULAR_GRILL" />
		<Step label="PRODUCT_CUSTOMIZATION" cmd="PosCSOShowGrillableList $Type $grillIndexList $selectedIndexes" labelTrue="EXIT" labelFalse="EXIT" />
		
		<Step label="REGULAR_GRILL" cmd="PosNGKDoShowScreenJS '_NGK_CURRENT_MENU' '' '' '' '_NGK_CURRENT_MENU_INCREASE_IMG'" />
	</Workflow> -->	
	<Workflow name="WF_NGK_GrillFinalize" parameters="$Type">
		 <Step cmd="PosCSOGoAheadIfOnGrillModeJS 'true'" />
		 <Step cmd="PosDoGrillEnd $Type" /> 
		 <Step cmd="PosNGKDoShowScreenJS '_NGK_CURRENT_MENU' '' '' '' '_NGK_CURRENT_MENU_INCREASE_IMG'" />
	 </Workflow>
	 
	<Workflow name="WF_NGK_ShowPreviousScreen">
		<Step cmd="PosNGKDoShowScreenJS '' '' 'true'" />
	</Workflow>

	<Workflow name="WF_NGK_ShowCurrentMenu">
		<Step cmd="PosNGKDoShowScreenJS '_NGK_CURRENT_MENU' '' '' '' '_NGK_CURRENT_MENU_INCREASE_IMG'" /> 
	</Workflow>

		
	<Workflow name="WF_NGK_UIInitialize">
		<Step cmd="PosSetSessionProperty  'IS_NGK' 'true'" />
		<Step cmd="PosNotATransactionInProgress  'true'" labelTrue="SET_INIT" labelFalse="IS_ON_GRILL" /> 
		<Step label="IS_ON_GRILL" cmd="PosCSODoStopWhenOnGrillModeJS  'true'" labelTrue="VOID" labelFalse="SET_INIT" />
		<Step label="VOID" cmd="PosDoVoidSale  'false' 'false'" />
		<Step label="SET_INIT" cmd="PosSetSessionProperty  'EXT_UI' 'true' 'false'" />
		<Step cmd="PosCSOReleaseBarcodeFilesJS" />
		<Step cmd="PosCSOSetDefaultLanguageJS" /> 
		<Step cmd="PosSetSessionProperty  'baseGrillScreenId' '199' 'false'" /> <!-- CYT: Use US base grill screen -->
		<Step cmd="PosNGKDoGoHomeJS" />
		<Step cmd="PosNGKIsSideSaleAvaliable" />
	</Workflow>

	<Workflow name="WF_NGK_OrderTimeout">
		<!--<Step label="CONFIRM" cmd="PosShowConfirmationMessage  'CSO_MSG_TIME_OUT_ORDER' 'MSG_YES@NO_TRANSITION' 'MSG_NO'" labelTrue="EXIT" labelFalse="CHECK_ORDER"/>-->
		<Step label="CHECK_ORDER" cmd="PosNotATransactionInProgress  'true'" labelTrue="DEFAULT_LANG" labelFalse="CHECK_GRILL" /> 
		<Step label="CHECK_GRILL" cmd="PosCSOGoAheadIfOnGrillModeJS  'true'" labelTrue="CANCEL_GRILL" labelFalse="VOID_SALE" />
		<Step label="CANCEL_GRILL" cmd="PosDoGrillEnd  '2'" />
		<Step label="VOID_SALE" cmd="PosNGKVoidOrderJS" />
		<Step label="DEFAULT_LANG" cmd="PosCSOSetDefaultLanguageJS" /> 
		<Step label="GO_HOME" cmd="PosNGKDoGoHomeJS" />
	</Workflow>

	<Workflow name="WF_NGK_BackFromSaleType">
		<Step label="CHECK_ORDER" cmd="PosNotATransactionInProgress  'true'" labelTrue="DEFAULT_LANG" labelFalse="CHECK_GRILL" /> 
		<Step label="CHECK_GRILL" cmd="PosCSOGoAheadIfOnGrillModeJS  'true'" labelTrue="CANCEL_GRILL" labelFalse="VOID_SALE" />
		<Step label="CANCEL_GRILL" cmd="PosDoGrillEnd  '2'" />
		<Step label="VOID_SALE" cmd="PosNGKVoidOrderJS" />
		<Step label="DEFAULT_LANG" cmd="PosCSOSetDefaultLanguageJS" /> 
		<Step label="GO_HOME" cmd="PosNGKDoGoHomeJS" />
	</Workflow>

	<Workflow name="WF_NGK_ShowMainScreen">
		<Step cmd="PosNGKCheckAndExecuteBackFromTotal" />
		<Step cmd="PosNGKShowMainScreen" />
	</Workflow>

	<Workflow name="WF_NGK_DoCancelOrder">
		<Step label="START" cmd="PosNGKAskOrderCancellationConfirmationJS 'CSO_MSG_ORDER_CANCEL|WHITE|GREEN|GREEN' 'MSG_NO|RED|WHITE|WHITE|' 'MSG_YES|GREEN|WHITE|WHITE|' " labelTrue="CHECK_ORDER" labelFalse="RETURN_MENU" />
		<Step label="RETURN_MENU" cmd="PosNGKDoShowScreenJS '_NGK_CURRENT_MENU' '' '' '' '_NGK_CURRENT_MENU_INCREASE_IMG'" labelTrue="EXIT" />
		<Step label="CHECK_ORDER" cmd="PosNotATransactionInProgress  'true'" labelTrue="DEFAULT_LANG" labelFalse="CHECK_GRILL" /> 
		<Step label="CHECK_GRILL" cmd="PosCSOGoAheadIfOnGrillModeJS  'true'" labelTrue="CANCEL_GRILL" labelFalse="VOID_SALE" />
		<Step label="CANCEL_GRILL" cmd="PosDoGrillEnd  '2'" />
		<Step label="VOID_SALE" cmd="PosNGKVoidOrderJS" />
		<Step label="DEFAULT_LANG" cmd="PosCSOSetDefaultLanguageJS" />
		<Step label="GO_HOME" cmd="PosNGKDoGoHomeJS" />
		<Step label="EXIT" /> 
	</Workflow>

	<Workflow name="WF_NGK_DoTender" parameters="$TenderId $WelcomeMsg">
		<!-- <Step cmd="PosNGKValidatePromosJS" labelFalse="BACK" labelTrue="PROMOTION_VALIDATED" />
		<Step label="BACK" cmd="PosCSOEnqueueWFExecutionJS 'WF_NGK_ShowMainScreen'" />
		<Step cmd="PosCSOExecuteWFFromQueueJS" labelTrue="EXIT" /> -->
		
		<Step label="PROMOTION_VALIDATED" />
		<!--NVS-3771-->
		<Step cmd="PosSetSessionProperty 'getAuthForForPromoOrder' 'false'" /> 		
		<Step cmd="PosSetSessionProperty  'NGK_ORDER_PAID' 'false'" />
		<Step cmd="PosSetSessionProperty  'NGK_ORDER_COUNTER' 'false'" />
		<Step cmd="PosSetSessionProperty  'NGK_ORDER_CANCEL' 'false'" />
		<Step cmd="PosSetSessionProperty  'NGK_ORDER_EFT_FAILED' 'false'" />
		<Step cmd="PosSetSessionProperty  'NGK_TABLE_SERVICE_SELECTED_ZONE' ''" />
		<Step cmd="PosSetSessionProperty 'ZoneValueSelected' ''" /> 
		<Step cmd="PosCSOIsTrnInProgressJS  'true'" labelFalse="EXIT" />
		<Step cmd="PosCSODoStopWhenOnGrillModeJS  'true'" />
		
		<!-- NVS-4544 Start - Lindomar Araujo - Jun/06/2016 -->
		<Step cmd="PosSetSaleType" />

		<Step label="ORDER_OK" />
		<!-- NVS-4544 End - Lindomar Araujo - Jun/06/2016 -->
		
		<!-- NVS-4215 - msilva -->
		<!-- NVS-5993 - Order Basket Redesign -->
		<!-- NVS-6606, No offer validation on Kiosk -->
		<!--<Step cmd="PosNGKValidateOffers 'NGK_MSG_OFFERS_OFFER_NOT_APPLIED' 'MSG_YES|GREEN|WHITE' 'MSG_NO|RED|WHITE' 'NGK_BTN_SEE_CONDITIONS|BLACK|WHITE'" labelFalse="BACKFROMTOTAL" />-->
		
		<Step cmd="PosNGKEnqueueWFJS 'WF_NGK_StartTender'" labelTrue="EXIT" />

		<!-- NVS-4681 - msilva - losing routing information -->		
		<Step label="REMOVE_CARD" cmd="PosNGKAskRemoveCard_COEJS 'WF_NGK_GoHome'" /> 
		<Step cmd="PosNGKEnqueueWFJS 'WF_NGK_GoHome'" labelTrue="EXIT" /> 	
		
		<Step label="BACKFROMTOTAL" cmd="PosDoBackFromTotalNKGLocal" />
		<Step cmd="PosBackFromTotalUndoOffer" labelTrue="UNDO_PROMOTIONS" labelFalse="UNDO_PROMOTIONS" />
		<Step label="UNDO_PROMOTIONS" cmd="PosBackFromTotalUndoPromotion" labelTrue="CONTINUE" labelFalse="CONTINUE" />
		<Step label="CONTINUE" cmd="PosCheckSessionProperty 'NGK_POPUP_TIMEOUT' 'false'" /> 
		<Step cmd="PosNGKDoShowScreenJS '_NGK_CURRENT_MENU' '' '' '' '_NGK_CURRENT_MENU_INCREASE_IMG'" /> 
	</Workflow>
	
	<!-- Felipe Change - 8111349 - "Screens for Payment & Eat-in/Take-out to be Configurable" -->
	<Workflow name="WF_NGK_StartTender">
		<Step cmd="CheckPrinterAvailable" />
		<Step cmd="PosNGKRunAutoBundling" labelTrue="EXIT" labelFalse="CHECK_TIMEOUT_TRUE" />
		<!-- SDO-11828 - [NGK 5.12] - Incorrect timeout flow -->
		<Step label="CONTINUE" cmd="PosSetSessionProperty 'NGK_POPUP_RESULT' '' 'false'" />
		<!-- SDO-11828 - [NGK 5.12] - Incorrect timeout flow -->
		<!-- If NGK_POPUP_RESULT has '' (empty) the NP6.1 version is old -->
		<Step label="CHECK_TIMEOUT_TRUE" cmd="PosCheckSessionProperty 'NGK_POPUP_RESULT' ''" labelTrue="CONFIRMATION_RETURNED_TRUE" labelFalse="CHECK_RESULT_VALUES" />
		<!-- SDO-11828 - [NGK 5.12] - Incorrect timeout flow -->
		<!-- If NGK_POPUP_RESULT has '' (empty) the NP6.1 version is old -->
		<Step label="CHECK_TIMEOUT_FALSE" cmd="PosCheckSessionProperty 'NGK_POPUP_RESULT' ''" labelTrue="SHOW_SCREEN" labelFalse="CHECK_RESULT_VALUES" />
		<!-- SDO-11828 - [NGK 5.12] - Incorrect timeout flow -->
		<Step label="CHECK_RESULT_VALUES" cmd="PosCheckSessionProperty 'NGK_POPUP_RESULT' 'TIMEOUT'" labelTrue="EXIT" labelFalse="CONFIRMATION_RETURNED_TRUE" />
		<!-- SDO-11828 - [NGK 5.12] - Incorrect timeout flow -->
		<!-- NVS-7032 27-FEB-2017 John Brancaleon - prevent the 'Product Not Active' message from showing erroneously -->
		<!-- <Step label="CONFIRMATION_RETURNED_TRUE" cmd="PosDoBackFromTotal" /> -->
		<!-- CSO-376 NGK Selection Screen for Payment and Eat-in/Take-out to be Configurable - 8111349 -->
		<Step label="CONFIRMATION_RETURNED_TRUE" cmd="PosNGKResetCheckoutConfirmation" />
		<Step cmd="PosNGKBlockSaleWithBackOnly" labelFalse="SHOW_SCREEN" />
		<!-- NPS-22752 - POS-399 - Ungated Scan - Configure Scanner Hardware to always ON states -->
		<!-- must check if eat place and pay type are set always due to this sequence: -->
		<!-- mobile checkin with mobile payment selected -->
		<!-- return to order and perform an offer redeem -->
		<!-- mobile payment is not valid for offer and pay type is reset by welcome offer function -->
		<!-- Kiosk must ask pay type again (dialog functions must check if session var are set or not) -->
		<Step cmd="PosCheckSessionProperty 'SALETYPEDEFINED' 'true'" labelTrue="UPDATE_CART" labelFalse="UPDATE_CART" />
		<Step label="PLACE_TO_EAT" cmd="PosNGKAskSaleTypeJS 'NGK_MSG_EATLOCATION|WHITE|WHITE|GREEN|' 'NGK_MSG_EATIN_ONLY|GREEN|WHITE|WHITE|eatInImage' 'NGK_MSG_TAKEOUT_ONLY|GREEN|WHITE|WHITE|takeOutImage' ''" labelTrue="EAT_IN" labelFalse="TAKE_OUT" />
		<Step label="EAT_IN" cmd="PosCheckSessionProperty 'NGK_CANCEL' 'false'" labelFalse="EXIT" />
		<Step cmd="PosNGKSetSaleType '0'" labelTrue="CHECK_CONFLICT_SALE_TYPE" labelFalse="EXIT" />
		<Step label="TAKE_OUT" cmd="PosCheckSessionProperty 'NGK_CANCEL' 'false'" labelFalse="EXIT" />
		<Step cmd="PosNGKSetSaleType '1'" labelTrue="CHECK_CONFLICT_SALE_TYPE" labelFalse="EXIT" />		
		<Step label="CHECK_CONFLICT_SALE_TYPE" cmd="PosNGKIsNeededToChangeEatingLocation" labelTrue="CHANGE_EATING_LOCATION" labelFalse="UPDATE_CART" />
		<Step label="UPDATE_CART" cmd="PosCSODoUpdateCartJS 'WF_NGK_ShowOrderReview'" labelFalse="AUTO_EVM" />
		<Step cmd="PosCheckSessionProperty 'DISPLAYED_PAYMENT_SELECTION' 'true'" labelTrue="AUTO_EVM" labelFalse="REINJECT_ORDER" />
		<Step label="REINJECT_ORDER" cmd="PosCheckSessionProperty 'NGK_REINJECT_ORDER' 'true'" labelTrue="AUTO_EVM" labelFalse="ASK_TO_PAY_AT_COUNTER_AND_STORE" />		
		<Step label="ASK_TO_PAY_AT_COUNTER_AND_STORE" cmd="PosNGKAskToPayAtCounterAndStoreResult 'NGK_SCR_REROUTE_MOA_TITLE|WHITE|WHITE|GREEN|' 'NGK_BTN_REROUTE_PAY_AT_COUNTER|GREEN|WHITE|WHITE|payAtCounterImage' 'NGK_BTN_REROUTE_PAY_HERE|GREEN|WHITE|WHITE|payHereImage' '' 'CSO_MSG_BARCODE_PAYMENT_SELECTED_BTN|GREEN|WHITE|WHITE|payWithMobileSelectedPayment' 'CSO_UNGATED_POPUP_PAYMENT_LOCATION_MESSAGE'" labelTrue="AUTO_EVM" labelFalse="CHECK_PAYMENT_TIMEOUT" />
		<Step label="CHECK_PAYMENT_TIMEOUT" cmd="PosCheckSessionProperty 'NGK_POPUP_RESULT' 'TIMEOUT'" labelTrue="EXIT" labelFalse="AUTO_EVM" />
		<!-- NVS-4946 - 8194541 - Auto generate EVMs for customer savings (Auto EVM) --> 
		<!-- NVS-7032/NVS-7071 06-MAR-2017 John Brancaleon - Corrects both NVS-7032 and NVS-7071.  The individual tickets break the other ticket.  By leaving the change for NVS-7071 and then adding the call to reapply the promotions for NVS-7032, both tickets are fixed. -->
		<Step label="AUTO_EVM" cmd="PosSetSessionProperty 'NGK_CANCEL' 'false'" />
		<Step cmd="PosSetSessionProperty 'DISPLAYED_PAYMENT_SELECTION' 'false'" />	
		<Step cmd="PosSetSessionProperty 'NGK_CANCEL' 'false'" />
		<Step label="PERFORM_AUTO_EVM" cmd="PosNGKPerformAutoEVMJS" />
		<Step cmd="PosCheckSessionProperty 'NGK_CANCEL' 'false'" labelFalse="EXIT" />
		
		<!-- CSO-229 - NGK Support Deliver Early Feature - 7826861 -->
		<Step cmd="PosNGKEnqueueWFJS 'WF_NGK_DeliverEarlier'" labelTrue="EXIT" />
		<Step label="CHANGE_EATING_LOCATION" cmd="PosSetSessionProperty 'SALETYPEDEFINED' 'false'" />
		<Step cmd="PosNGKEnqueueWFJS 'WF_NGK_ShowOrderReview'" labelTrue="EXIT" />
		<!-- Enqueue WF for later execution. -->
		<!-- SDO-11828 - [NGK 5.12] - Incorrect timeout flow -->
		<Step label="SHOW_SCREEN" cmd="PosNGKDoShowScreenJS '_NGK_CURRENT_MENU' '' '' '' '_NGK_CURRENT_MENU_INCREASE_IMG'" labelTrue="EXIT" />
		<!-- <Step label="GO_HOME" cmd="PosNGKDoGoHomeJS" labelTrue="EXIT" labelFalse="EXIT"/> -->
		<Step label="EXIT" />
	</Workflow> 

	<!-- CSO-229 - NGK Support Deliver Early Feature - 7826861 -->
	<Workflow name="WF_NGK_DeliverEarlier">
		<Step cmd="PosCSOProcessDeliveryEarlierJS" labelFalse="SKIP_DELIVERYEARLIER" />
		<Step cmd="PosNGKEnqueueWFJS 'WF_NGK_ShowDeliveryEarlier'" labelTrue="EXIT" />
		<Step label="SKIP_DELIVERYEARLIER" cmd="PosNGKEnqueueWFJS 'WF_NGK_DeliverLater'" />
		<Step label="EXIT" />
	</Workflow>
	
	<!-- CSO-229 - NGK Support Deliver Early Feature - 7826861 -->
	<Workflow name="WF_NGK_DeliverLater">
		<Step cmd="PosCSOIsDeliveryLaterAvailableJS '11301' '70000001'" labelFalse="SKIP_DELIVERYLATER" /> <!--Check if "delivery later" is available and creates the view. '7201' is the delivery later screen number, and '70000001' is the delivery later product code".-->
		<Step cmd="PosNGKEnqueueWFJS 'WF_NGK_ShowDeliveryLater'" labelTrue="EXIT" /> <!-- Enqueue WF for later execution. -->
		<Step label="SKIP_DELIVERYLATER" cmd="PosNGKEnqueueWFJS 'WF_NGK_ContinueTender'" />
		<Step label="EXIT" />
	</Workflow>
<Workflow name="WF_NGK_ContinueTender">
<!-- <Step cmd="PosNGKAskBagsJS 'true'" /> -->
 <Step cmd="PosNGKTestZeroTotalLocal" labelTrue="CONFIRM_ZERO_ORDER_PAY_MOBILE" labelFalse="CONTINUE_TENDER" />

 <!--NVS-3771 - Changed due to skip recall when order is zero value -->
<!-- <Step label="CONFIRM_ZERO_ORDER_PAY_MOBILE" cmd="PosNGKConfirmZeroTotalOrderJS" labelTrue="CONTINUE_TENDER" labelFalse="TENDER_ZERO_REFUSED" /> -->
<Step label="CONFIRM_ZERO_ORDER_PAY_MOBILE" cmd="PosNGKConfirmZeroTotalOrderJS" labelTrue="RE_ROUTE_PAY_HERE" labelFalse="TENDER_ZERO_REFUSED" />
<Step label="RE_ROUTE_PAY_HERE" />
<!-- NVS-4046 10-OCT-2016 John Brancaleon - Reset the PED when the order is a zero value -->
<Step cmd="eSocket_preSwipeCancelJS" labelTrue="CONTINUE_ZERO_ORDER" />
<Step label="CONTINUE_ZERO_ORDER" cmd="PosSetSessionProperty 'NGK_ORDER_REROUTE' 'PAY_HERE'" labelTrue="PAY_HERE" labelFalse="PAY_HERE" /> 

 <Step label="CONTINUE_TENDER" cmd="PosCheckSessionProperty 'NGK_ORDER_REROUTE' 'PAY_AT_COUNTER'" labelTrue="PAY_AT_COUNTER" labelFalse="CHECK_PAY_TYPE" /> 
 <Step label="CHECK_PAY_TYPE" cmd="PosCheckSessionProperty 'NGK_ORDER_REROUTE' 'PAY_HERE'" labelTrue="PAY_HERE" labelFalse="PAY_MOBILE" /> 
 <Step label="PAY_AT_COUNTER" cmd="PosNGKEnqueueWFJS 'WF_NGK_ForwardOrderToFC'" labelTrue="EXIT" /> 
 <!-- CSO-144 - NGK - Mobile Order Check-In At Kiosk - 7473775 --> 
 <Step label="PAY_MOBILE" cmd="PosNGKEnqueueWFJS 'WF_NGK_ForwardToMobilePayment'" labelTrue="EXIT" /> 
 <Step label="PAY_HERE" cmd="PosCSOShowBarcodeLocalPromotionsJS" labelTrue="STORE_BARCODE" labelFalse="SKIP_PROMOTIONS" /> 
 <Step label="SKIP_PROMOTIONS" cmd="PosCheckSessionProperty 'NGK_POPUP_RESULT' 'TIMEOUT'" labelTrue="POS_DO_BACK_FROM_TOTAL" labelFalse="IS_ZERO_ORDER" /> 
 <Step label="STORE_BARCODE" cmd="PosCSOStoreSelectedBarcodePromotionProductsJS" /> 
 <Step label="IS_ZERO_ORDER" cmd="PosNGKTestZeroTotalLocal" labelTrue="IS_ENABLED_TABLE_SERVICE" labelFalse="IS_ENABLED_TABLE_SERVICE" />
 <!-- CSO-255 NGK Improvements to Table service - PUCK system - 7861541 --> 
 <!--NVS-4342 - msilva -->
 <!-- NVS-4937 - Table Service - Clear Customer Choice Buttons -->
 <Step label="IS_ENABLED_TABLE_SERVICE" cmd="PosNGKIsTableServiceAvailableJS" labelTrue="IS_TABLE_SERVICE_REQUIRED_BY_CUSTOMER" labelFalse="IS_ENABLED_SINGLE_CUSTOMER_SCREEN" />
 <Step label="IS_TABLE_SERVICE_REQUIRED_BY_CUSTOMER" cmd="PosIsTableServiceRequiredByCustomer 'CSO_TABLE_SERVICE_PRE_SELECTION_TLT' 'CSO_TABLE_SERVICE_PRE_SELECTION_BTN_TABLE_SERVICE|RED|WHITE|WHITE|' 'CSO_TABLE_SERVICE_PRE_SELECTION_BTN_COLLECT_MYSELF|GREEN|WHITE|WHITE|' 'CSO_TABLE_SERVICE_PRE_SELECTION_MSG' " labelTrue="IS_ENABLED_TABLE_SERVICE_PUCK" labelFalse="IS_ENABLED_SINGLE_CUSTOMER_SCREEN" />
 <Step label="IS_ENABLED_TABLE_SERVICE_PUCK" />
 <Step cmd="PosCheckSessionProperty 'NGK_POPUP_TIMEOUT' 'true'" labelTrue="EXIT" labelFalse="CONTINUE_VALIDATE_PUCK" /> 
 <Step label="CONTINUE_VALIDATE_PUCK" cmd="PosNGKTableServicePuckAvailableJS" labelTrue="TABLE_SERVICE_PUCK" labelFalse="TABLE_SERVICE" /> 
 <Step label="TABLE_SERVICE" cmd="PosNGKAskTableServiceJS" labelTrue="SET_ZONE_NUMBER_KVS" labelFalse="POS_DO_BACK_FROM_TOTAL" />
 <!-- NVS-3217 - [DRM] CYT-C3 [Kiosk Ordering & Display]: Table locator number is accepting 0, 00 and 000 on Kiosk. --> 
 <!-- NVS-4442 - msilva - Validate table service puck "0" value entered */ -->
 <Step label="TABLE_SERVICE_PUCK" cmd="PosNGKAskTableServicePuckJSLocal" labelTrue="VALIDATE_NUMBER" labelFalse="POS_DO_BACK_FROM_TOTAL" />
 <Step label="VALIDATE_NUMBER" cmd="PosNGKCheckTableServiceValue" labelTrue="SET_ZONE_NUMBER_KVS" labelFalse="POS_DO_BACK_FROM_TOTAL" /> 
 <!-- NVS-2854 - [DRM] CYT-C2 [Kiosk Ordering]: Locator number 'PUCK -3' is displayed even though user did not select any Locator number and click on 'No Thanks' button. -->
	<!-- NVS-5461 27-OCT-2016 John Brancaleon Check for No Table Service and go to Check Zero Order  -->
	<Step label="SET_ZONE_NUMBER_KVS" cmd="localPosNGKSetZoneNumberKVS" labelTrue="STARTED_PREPARATION" labelFalse="POS_DO_BACK_FROM_TOTAL" /> 
	<Step label="POS_DO_BACK_FROM_TOTAL" cmd="PosDoBackFromTotal" labelTrue="RETURN" labelFalse="RETURN" /> 
 <Step label="RETURN" cmd="PosNGKDoShowScreenJS '_NGK_CURRENT_MENU' '' '' '' '_NGK_CURRENT_MENU_INCREASE_IMG'" labelTrue="EXIT" /> 
 <Step label="STARTED_PREPARATION" /> 
	<!-- NVS-5461 27-OCT-2016 John Brancaleon Check for No Table Service and go to Check Zero Order  -->
	<Step cmd="PosCheckSessionProperty 'NGK_TABLE_SERVICE_SELECTED_ZONE' '-3'" labelTrue="CHECK_ZERO_ORDER" labelFalse="IS_ENABLED_SINGLE_CUSTOMER_SCREEN" />
 <!-- This line is removed by the request from McDonalds issue no is NVS-3002 this
 <Step label="PLACE_TICKET" cmd="PosNGKDoShowImageMessageJS 'tenderPlaceTicket' '3' '' '' '' 'NGK_MSG_TENDER_PLACE_TICKET' 'DLG_SYS_SHOW_PLACE_TICKET'" labelTrue="DO_TOTAL"/>  -->
	<!-- NVS-5461 27-OCT-2016 John Brancaleon Check for No Table Service and go to Check Zero Order  -->
	<Step label="IS_ENABLED_SINGLE_CUSTOMER_SCREEN" cmd="PosCheckCSOUserInterfaceStringParameterJS 'tableService.DisplaySingleCustomerScreen' 'true' 'true'" labelTrue="CHECK_LOCAL_PROMOS" labelFalse="CHECK_LOCAL_PROMOS" />
	<Step label="DO_TOTAL" cmd="PosDoTotal" labelTrue="CHECK_LOCAL_PROMOS" labelFalse="REMOVE_CARD" /> 
 <!-- EQA-955 - [November Release][6.1.21RC13HF1][SL 2.80.02a][Local Promotions][Lab 05][FR] Local Promotion coupon products being charged at regular price --> 
	<Step label="CHECK_LOCAL_PROMOS" />
 <Step cmd="PosCSOCheckLocalPromotionBarcodeDiscount" /> 
 <!-- <Step cmd="PosNGKApplyPromotionsLocal" />  -->
 <Step cmd="PosNGKDoShowImageMessageJS 'tenderClearScreen' '0' '' '' '' ''" /> <!-- WWR-2506 --> 

 <!-- NPS-13328 - PT- CR for RFM1: NGK-Vat number to print on a receipt. - 7565669 --> 
 <!-- CSO-183 - [NGKv5.7.2] NGK gets permanently stuck on "Do you wish to continue screen" when NIF number is not entered within timeout period - EQA-1584 --> 
 <!-- Step cmd="PosGetNIFJS" labelFalse="BACKFROMTOTAL" labelTrue="START_TENDER" --> 
<Step label="CHECK_ZERO_ORDER" cmd="PosNGKTestZeroTotalLocal" labelTrue="TENDER_ZERO_ORDER" labelFalse="START_TENDER" />
<Step label="TENDER_ZERO_ORDER" cmd="PosNGKTEnderZeroTotalOrderJS" labelTrue="TENDER_SUCCESS" labelFalse="TENDER_SUCCESS" />
 <Step label="START_TENDER" cmd="PosNGKDoTenderJSUS '10' '-1'" labelTrue="VALIDATE_CLOSING_SCREEN" labelFalse="CHECK_PINPAD_TIMEDOUT" /> <!-- CYT: Use US tender type --> 
 <Step label="VALIDATE_CLOSING_SCREEN" cmd="PosCheckCSOUserInterfaceStringParameterJS 'tableService.DisplaySingleCustomerScreen' 'true' 'true'" labelTrue="TENDER_SUCCESS" labelFalse="CHECK_CLOSING_SCREEN" />
 <Step label="CHECK_CLOSING_SCREEN" cmd="PosNGKClosingScreenJS '1'" labelTrue="TENDER_SUCCESS" labelFalse="GO_BACK" />
  <Step label="CHECK_ORDER_HAS_CYT" cmd="PosNGKOrderHasCYTItemCheck" labelTrue="STARTED_PREPARATION_CYT" labelFalse="STARTED_PREPARATION" />
 <Step label="STARTED_PREPARATION_CYT" cmd="PosNGKDoShowImageMessageJS 'tenderStartedPreparation' '5' '' '' '' 'NGK_MSG_TENDER_STARTED_PREPARATION_CYT'" labelTrue="TENDER_SUCCESS" />
 <Step label="STARTED_PREPARATION" cmd="PosNGKDoShowImageMessageJS 'tenderStartedPreparation' '3' '' '' '' 'NGK_MSG_TENDER_STARTED_PREPARATION'" labelTrue="TENDER_SUCCESS" /> 
 <Step label="TENDER_ZERO_REFUSED" cmd="PosCheckSessionProperty 'NGK_ORDER_CANCEL' 'true'" labelTrue="EXIT" labelFalse="ORDER_CANCEL_NO_PAY_AT_COUNTER" />
 <Step label="ORDER_CANCEL_NO_PAY_AT_COUNTER" cmd="PosNGKEnqueueWFJS 'WF_NGK_DoCancelOrder'" labelTrue="EXIT" labelFalse="EXIT" />
 <Step label="GO_BACK" cmd="PosNGKEnqueueWFJS 'WF_NGK_StartTender'" labelTrue="EXIT" labelFalse="EXIT" />
 <Step label="TENDER_SUCCESS" /> 
         <!-- <Step cmd="PosNGKDoShowImageMessageJS 'tenderStartedPreparation' '3' '' '' '' 'NGK_MSG_TENDER_STARTED_PREPARATION'" />  -->
 <Step cmd="PosSetSessionProperty 'NGK_ORDER_PAID' 'true'" /> 
 <Step cmd="PosCSOChangeStoredBarcodeStatusJS 'USED' 'true'" /> 
 <Step cmd="CheckPrinterAvailable" />
 <Step cmd="PosCSODoTenderCreateReceiptJS '1' 'VIEW' '' 'NOPREVIEW|SAVE'" /> 
 <Step cmd="PosCSOPrintBarCodeJS" /> 
 <Step cmd="PosCSOCheckPendingBarcodeLocalPromotionJS" labelFalse="REMOVE_CARD" /> 
 <Step cmd="PosCSOStoreNewBarcodeLocalPromotionFileJS" labelFalse="REMOVE_CARD" /> 
 <Step cmd="PosCSOPrintBarcodeLocalPromotionJS" labelTrue="REMOVE_CARD" labelFalse="REMOVE_CARD" /> 

 <Step label="CHECK_PINPAD_TIMEDOUT" cmd="PosCheckSessionProperty 'NGK_PINPAD_TIMEDOUT' 'true'" labelTrue="BACK_NGK_SALES_SCREEN" labelFalse="CHECK_REDIRECT" />
 <Step label="BACK_NGK_SALES_SCREEN" cmd="PosNGKDoShowScreenJS '_NGK_CURRENT_MENU' '' '' '' '_NGK_CURRENT_MENU_INCREASE_IMG'" labelTrue="EXIT" />
 <Step label="CHECK_REDIRECT" cmd="PosCheckSessionProperty 'NGK_ORDER_REROUTE' 'PAY_AT_COUNTER'" labelTrue="REDIRECT" labelFalse="REMOVE_CARD" /> 
 <!-- NVS-4681 - msilva - losing routing information -->		
 <Step label="REDIRECT" cmd="PosNGKAskRemoveCard_COEJS 'WF_NGK_ForwardOrderToFC'" /> 
 <Step cmd="PosNGKEnqueueWFJS 'WF_NGK_ForwardOrderToFC'" labelTrue="EXIT" /> 
 
 <!-- <Step label="REMOVE_CARD" cmd="PosNGKAskRemoveCardJS 'WF_NGK_GoHome'"/>  before-NVS-3690fix --> 
 <Step label="REMOVE_CARD" cmd="PosSetSessionProperty 'RemovedCardProperty' 'true'" />  
 <!-- NVS-4681 - msilva - losing routing information -->		
 <Step cmd="PosNGKAskRemoveCard_COEJS 'WF_NGK_GoHome'" /> 
 <Step cmd="PosNGKEnqueueWFJS 'WF_NGK_GoHome'" labelTrue="EXIT" /> 	 


 <Step label="EXIT" /> 
 <!-- CSO-183 - [NGKv5.7.2] NGK gets permanently stuck on "Do you wish to continue screen" when NIF number is not entered within timeout period - EQA-1584 --> 
 <!-- <Step label="BACKFROMTOTAL" cmd="PosDoBackFromTotal" --> 
 </Workflow> 
	

	<Workflow name="WF_NGK_ForwardOrderToFC">
		<Step cmd="CheckPrinterAvailable" />
		<Step cmd="PosCSORemoveLocalPromotionBarcodesJS" />
		<Step cmd="PosIsOfferApplied" labelFalse="REMOVE_OFFER" labelTrue="REMOVE_OFFER_EXIT" />
		<Step label="REMOVE_OFFER" cmd="PosDoClearOffer 'false'" labelFalse="REMOVE_OFFER_EXIT" labelTrue="REMOVE_OFFER_EXIT" />
		<Step label="REMOVE_OFFER_EXIT" />
		<!-- CSO-230 - NGK Support Table Service for Pay At Counter Orders - 7826872 -->
		<Step cmd="PosCheckSessionProperty 'NGK_ORDER_EFT_FAILED' 'true'" labelFalse="IS_ZERO_ORDER" />
		<Step cmd="PosCheckSectionParameterValue 'CSO.UserInterface' 'enableRecallOrdersOnFC' 'false' 'true'" labelTrue="REINJECT_ORDER" labelFalse="IS_ENABLED_SINGLE_CUSTOMER_SCREEN" />
		
		<Step label="REINJECT_ORDER" />
		<Step cmd="PosNGKSaveOrderJS" />
		<Step cmd="PosNGKVoidOrderJS" />
		<Step cmd="PosNGKSetDefaultRemPOD 'FRONT_COUNTER'" />
		<!-- CSO-230 - NGK Support Table Service for Pay At Counter Orders - 7826872 -->
		<!-- NVS-6854 / NVS-6866 - msilva - Reinject order and ensure tag id -->
		<Step cmd="PosNGKReinjectOrderJS_US_COE" labelTrue="IS_ENABLED_SINGLE_CUSTOMER_SCREEN" labelFalse="STORE_FAILED" />


		<!-- NVS-4118 -->
		<!-- <Step label="IS_ZERO_ORDER" cmd="PosNGKTestZeroTotalLocal" labelTrue="STORE_SALE" labelFalse="STORE_SALE" /> -->
		<Step label="IS_ZERO_ORDER" cmd="PosNGKTestZeroTotalLocal" labelTrue="IS_ENABLED_SINGLE_CUSTOMER_SCREEN" labelFalse="IS_ENABLED_TABLE_SERVICE" />
		
		<!-- CSO-255 NGK Improvements to Table service - PUCK system - 7861541 -->
		<!-- Check table service -->
		 <!--NVS-4342 - msilva -->
		 <!-- NVS-4937 - Table Service - Clear Customer Choice Buttons -->
		<Step label="IS_ENABLED_TABLE_SERVICE" cmd="PosNGKIsTableServiceAvailableJS" labelTrue="IS_TABLE_SERVICE_REQUIRED_BY_CUSTOMER" labelFalse="IS_ENABLED_SINGLE_CUSTOMER_SCREEN" />
		<Step label="IS_TABLE_SERVICE_REQUIRED_BY_CUSTOMER" cmd="PosIsTableServiceRequiredByCustomer 'CSO_TABLE_SERVICE_PRE_SELECTION_TLT' 'CSO_TABLE_SERVICE_PRE_SELECTION_BTN_TABLE_SERVICE|RED|WHITE|WHITE|' 'CSO_TABLE_SERVICE_PRE_SELECTION_BTN_COLLECT_MYSELF|GREEN|WHITE|WHITE|' 'CSO_TABLE_SERVICE_PRE_SELECTION_MSG' " labelTrue="IS_ENABLED_TABLE_SERVICE_PUCK" labelFalse="IS_ENABLED_SINGLE_CUSTOMER_SCREEN" />
		<Step label="IS_ENABLED_TABLE_SERVICE_PUCK" />
		<Step cmd="PosCheckSessionProperty 'NGK_POPUP_TIMEOUT' 'false'" />
		<Step cmd="PosNGKTableServicePuckAvailableJS" labelTrue="TABLE_SERVICE_PUCK" labelFalse="TABLE_SERVICE" />
		<Step label="TABLE_SERVICE" cmd="PosNGKAskTableServiceJS" labelTrue="SET_ZONE_NUMBER_KVS" labelFalse="POS_DO_BACK_FROM_TOTAL" /> 
		<!-- NVS-4442 - msilva - Validate table service puck "0" value entered */ -->
		<Step label="TABLE_SERVICE_PUCK" cmd="PosNGKAskTableServicePuckJSLocal" labelTrue="VALIDATE_NUMBER" labelFalse="POS_DO_BACK_FROM_TOTAL" />
		<!-- NVS-4979 - Kiosk is displaying Invalid Table Locator message screen after tapping "Cancel" button on Table Locator screen - Felipe Ramas -->
		<Step label="VALIDATE_NUMBER" cmd="PosNGKCheckTableServiceValue" labelTrue="SET_ZONE_NUMBER_KVS" labelFalse="POS_DO_BACK_FROM_TOTAL" /> 
		<!-- NVS-4118 -->
		<Step label="SET_ZONE_NUMBER_KVS" cmd="localPosNGKSetZoneNumberKVS" labelTrue="IS_ENABLED_SINGLE_CUSTOMER_SCREEN" />
		<Step label="POS_DO_BACK_FROM_TOTAL" cmd="PosDoBackFromTotal" labelTrue="RETURN" labelFalse="RETURN" />
		<!-- CSO-230 - NGK Support Table Service for Pay At Counter Orders - 7826872 -->
		<!-- NVS-4118 -->
		<!-- <Step label="TABLE_SERVICE" cmd="PosNGKAskTableServiceJS" labelTrue="IS_ENABLED_SINGLE_CUSTOMER_SCREEN" labelFalse="RETURN" /> -->
		<Step label="RETURN" cmd="PosNGKDoShowScreenJS '_NGK_CURRENT_MENU' '' '' '' '_NGK_CURRENT_MENU_INCREASE_IMG'" labelTrue="EXIT" />
		<Step label="IS_ENABLED_SINGLE_CUSTOMER_SCREEN" cmd="PosCheckCSOUserInterfaceStringParameterJS 'tableService.DisplaySingleCustomerScreen' 'true' 'true'" labelTrue="STORE_SALE" labelFalse="STORE_SALE" />
		<!-- NVS-4909 - msilva - Translate offers name / description to english before being stored -->
		<!-- NVS-7029 - msilva - Apply BC change to avoid reinjecting order (NPS-22682) -->
		<Step label="STORE_SALE" cmd="PosUpdateBestFitOfferAndPromotionLanguages 'en_US'" labelTrue="CONTINUE_STORE_SALE" labelFalse="CONTINUE_STORE_SALE" />
		<Step label="CONTINUE_STORE_SALE" cmd="PosDoStore 'false'" labelTrue="CHECK_CLOSING_SCREEN" labelFalse="STORE_FAILED" />
		<Step label="STORE_FAILED" cmd="PosSetSessionProperty 'STORE_FAILED' 'true' 'false'" labelFalse="CHECK_CLOSING_SCREEN" />
		<Step label="CHECK_CLOSING_SCREEN" cmd="PosCheckCSOUserInterfaceStringParameterJS 'tableService.DisplaySingleCustomerScreen' 'true' 'true'" labelTrue="CREATE_REPORT" labelFalse="CHECK_OLD_CLOSING_SCREEN" />
		<Step label="CHECK_OLD_CLOSING_SCREEN" cmd="PosNGKClosingScreenJS '1'" />
		<Step label="CREATE_REPORT" cmd="PosNGKStorePickListView" />
		<Step cmd="PosCreateReport 'VIEW' 'ReportCSOPickList#USReceiptReports' 'NOPREVIEW|SAVE|REMOTE' 'TRUE:1:MSG_PICKLST_CASHLESS_FAILED'" />
		<!-- Closing screen change -->
		<!-- <Step cmd="PosNGKClosingScreenJS '1'" labelTrue="GO_HOME" labelFalse="CHECK_ORDER_HAS_CYT" /> -->
		<!-- <Step label="CHECK_ORDER_HAS_CYT" cmd="PosNGKOrderHasCYTItemCheck" labelTrue="STARTED_PREPARATION_CYT" labelFalse="STARTED_PREPARATION" /> -->
		<!-- <Step label="STARTED_PREPARATION_CYT" cmd="PosNGKDoShowImageMessageJS 'tenderStartedPreparation' '5' '' '' '' 'NGK_MSG_TENDER_STARTED_PREPARATION_CYT'" labelTrue="GO_HOME" /> -->
		<!-- <Step label="STARTED_PREPARATION" cmd="PosNGKDoShowImageMessageJS 'tenderStartedPreparation' '3' '' '' '' 'NGK_MSG_TENDER_STARTED_PREPARATION'" />  -->
		<Step label="GO_HOME" cmd="PosSetSessionProperty 'NGK_ORDER_COUNTER' 'true'" />
		<Step cmd="PosNGKEndOfSaleExit" />
		<!-- NVS-4046 Clear the PED message 07-SEP-2016 John Brancaleon -->
		<Step cmd="PosCheckSessionProperty 'NGK_ORDER_REROUTE' 'PAY_AT_COUNTER'" labelTrue="EXIT_PAY_AT_COUNTER" />
		<Step label="EXIT_PAY_AT_COUNTER" cmd="eSocket_preSwipeCancelJS" /> 
		<!-- NVS-4118 -->
		<!-- <Step cmd="PosSetSessionProperty 'NGK_ORDER_REROUTE' 'PAY_AT_COUNTER'" /> -->
		<Step cmd="PosNGKEnqueueWFJS 'WF_NGK_GoHome'" labelTrue="EXIT" />
	</Workflow>

	<!-- CSO-144 - NGK - Mobile Order Check-In At Kiosk - 7473775 -->
	<Workflow name="WF_NGK_ForwardToMobilePayment">
		<Step cmd="PosCSORemoveLocalPromotionBarcodesJS" />
		
		<!-- CSO-255 NGK Improvements to Table service - PUCK system - 7861541 -->
		 <!--NVS-4342 - msilva -->
		 <!-- NVS-4937 - Table Service - Clear Customer Choice Buttons -->
		<Step cmd="PosNGKIsTableServiceAvailableJS" labelTrue="IS_TABLE_SERVICE_REQUIRED_BY_CUSTOMER" labelFalse="DO_TOTAL" />
		<Step label="IS_TABLE_SERVICE_REQUIRED_BY_CUSTOMER" cmd="PosIsTableServiceRequiredByCustomer 'CSO_TABLE_SERVICE_PRE_SELECTION_TLT' 'CSO_TABLE_SERVICE_PRE_SELECTION_BTN_TABLE_SERVICE|RED|WHITE|WHITE|' 'CSO_TABLE_SERVICE_PRE_SELECTION_BTN_COLLECT_MYSELF|GREEN|WHITE|WHITE|' 'CSO_TABLE_SERVICE_PRE_SELECTION_MSG' " labelTrue="IS_ENABLED_TABLE_SERVICE_PUCK" labelFalse="DO_TOTAL" />
		<Step label="IS_ENABLED_TABLE_SERVICE_PUCK" />
		<Step cmd="PosCheckSessionProperty 'NGK_POPUP_TIMEOUT' 'false'" />
		<Step cmd="PosNGKTableServicePuckAvailableJS" labelTrue="TABLE_SERVICE_PUCK" labelFalse="TABLE_SERVICE" />
		<Step label="TABLE_SERVICE" cmd="PosNGKAskTableServiceJS" labelTrue="SET_ZONE_NUMBER_KVS" labelFalse="RETURN" /> 
		<!-- NVS-4442 - msilva - Validate table service puck "0" value entered */ -->
		<!-- NVS-4979 - Kiosk is displaying Invalid Table Locator message screen after tapping "Cancel" button on Table Locator screen - Felipe Ramas -->
		<Step label="TABLE_SERVICE_PUCK" cmd="PosNGKAskTableServicePuckJSLocal" labelTrue="VALIDATE_NUMBER" labelFalse="RETURN" />
		<Step label="VALIDATE_NUMBER" cmd="PosNGKCheckTableServiceValue" labelTrue="SET_ZONE_NUMBER_KVS" labelFalse="RETURN" /> 
		<!-- NVS-4118 -->
		<Step label="SET_ZONE_NUMBER_KVS" cmd="localPosNGKSetZoneNumberKVS" labelTrue="DO_TOTAL" />
		
		<!-- CSO-230 - NGK Support Table Service for Pay At Counter Orders - 7826872 -->
		<Step label="RETURN" cmd="PosNGKDoShowScreenJS '_NGK_CURRENT_MENU' '' '' '' '_NGK_CURRENT_MENU_INCREASE_IMG'" labelTrue="EXIT" labelFalse="EXIT" />
		
		<Step label="DO_TOTAL" cmd="PosDoTotal" labelFalse="REMOVE_CARD" />
    	<Step cmd="PosCSOCheckLocalPromotionBarcodeDiscount" />
    	<Step cmd="PosNGKApplyPromotions" />

		<Step label="START_TENDER" cmd="PosNGKDoMobilePayment" labelTrue="TENDER_SUCCESS" labelFalse="RETURN_TOTAL" />
		
		<Step label="TENDER_SUCCESS" />
		<Step cmd="PosSetSessionProperty  'NGK_ORDER_PAID' 'true'" />
		<Step cmd="PosCSOChangeStoredBarcodeStatusJS 'USED' 'true'" />
		<Step cmd="CheckPrinterAvailable" />
		<Step cmd="PosCSODoTenderCreateReceiptJS '1' 'VIEW' '' 'NOPREVIEW|SAVE'" />
		<Step cmd="PosCSOPrintBarCodeJS" />
		<Step cmd="PosCSOCheckPendingBarcodeLocalPromotionJS" labelFalse="REMOVE_CARD" />
		<Step cmd="PosCSOStoreNewBarcodeLocalPromotionFileJS" labelFalse="REMOVE_CARD" />
		<Step cmd="PosCSOPrintBarcodeLocalPromotionJS" labelTrue="REMOVE_CARD" labelFalse="REMOVE_CARD" />

		<Step label="RETURN_TOTAL" cmd="PosSetSessionProperty 'NGK_MOA_PAYMENT' '0'" />
		<Step cmd="PosSetSessionProperty 'NGK_ORDER_REROUTE' 'NONE'" />
		<Step cmd="PosDoBackFromTotal" />
		<!-- show the payment type again -->
		<Step cmd="PosSetSessionProperty 'DISPLAYED_PAYMENT_SELECTION' 'false'" />
		<Step cmd="PosNGKEnqueueWFJS 'WF_NGK_ShowOrderReview'" labelTrue="EXIT" labelFalse="EXIT" />

		<Step label="REMOVE_CARD" cmd="PosNGKAskRemoveCardJS 'WF_NGK_GoHome'" />
		<Step cmd="PosNGKEnqueueWFJS 'WF_NGK_GoHome'" labelTrue="EXIT" />
		
		<Step label="EXIT" />
		</Workflow>

	<Workflow name="WF_NGK_GoHome">
		<Step cmd="CheckPrinterAvailable" />
		<Step cmd="PosCheckSessionProperty 'RemovedCardProperty' 'true'" labelTrue="CHECK_ORDER_CANCEL" labelFalse="RESET_FOR_NORMAL" />	
		<Step label="RESET_FOR_NORMAL" cmd="PosSetSessionProperty 'RemovedCardProperty' 'false'" />   		
		<!-- NVS-4118 -->
		<Step label="CHECK_ORDER_CANCEL" cmd="PosCheckSessionProperty 'NGK_ORDER_CANCEL' 'false'" labelTrue="CHECK_COUNTER" labelFalse="GO_HOME" />
		<Step label="CHECK_COUNTER" cmd="PosCheckSessionProperty 'NGK_ORDER_COUNTER' 'false'" labelTrue="CHECK_PAYMENT" labelFalse="VALIDATE_CLOSING_SCREEN" />
		<Step label="CHECK_PAYMENT" cmd="PosCheckSessionProperty 'NGK_ORDER_PAID' 'true'" labelTrue="VALIDATE_CLOSING_SCREEN" labelFalse="VALIDATE_CLOSING_SCREEN" />
		<Step label="VALIDATE_CLOSING_SCREEN" cmd="PosCheckCSOUserInterfaceStringParameterJS 'tableService.DisplaySingleCustomerScreen' 'true' 'true'" labelTrue="ORDER_PAID_WITH_TABLE_SERVICE_SINGLE" labelFalse="CHECK_ZONE" />
		<!-- updated following workflow step for NVS-5647 - Kalpesh -->
		<!-- <Step label="CHECK_ZONE" cmd="PosCheckSessionProperty 'NGK_TABLE_SERVICE_SELECTED_ZONE' ''" labelTrue="ORDER_PAID_NO_TABLE_SERVICE" labelFalse="ORDER_PAID_WITH_TABLE_SERVICE" />  				 -->

		<!-- Removed following two step for NVS-5647 - Kalpesh -->
		<!--		<Step label="CHECK_ZONE" cmd="PosCheckSessionProperty 'NGK_TABLE_SERVICE_SELECTED_ZONE' ''" labelTrue="ORDER_PAID_NO_TABLE_SERVICE"  					labelFalse="ORDER_PAID_WITH_TABLE_SERVICE_SINGLE" />   -->
		
		<Step label="ORDER_PAID_WITH_TABLE_SERVICE_SINGLE" cmd="PosNGKShowTableServiceSingleScreenJS" labelTrue="GO_HOME" labelFalse="CHECK_ZONE" />    
		<Step label="CHECK_ZONE" cmd="PosCheckSessionProperty 'NGK_TABLE_SERVICE_SELECTED_ZONE' ''" labelTrue="ORDER_PAID_NO_TABLE_SERVICE" labelFalse="ORDER_PAID_WITH_TABLE_SERVICE" />
		<!-- NVS-4563 - msilva -->
		<Step label="ORDER_PAID_WITH_TABLE_SERVICE" cmd="PosNGKClosingScreenJS '2'" labelTrue="THANK_YOU_NEW" />
		<Step label="ORDER_PAID_NO_TABLE_SERVICE" cmd="PosNGKClosingScreenJS '2'" labelTrue="THANK_YOU_NEW" />
		<!-- NVS-6002 - NGK- Kiosk Analytics -->

		<!-- following Workflow is updated due to NVS-6632 -->		
		<Step label="ORDER_NOT_PAID" cmd="PosNGKDoShowVideoOrderNumber 'CollectionPointFC|CollectionPoint_MCC|CollectionPointFC_MCC' '10' '' 'NGK_MSG_REDIRECT_COLLECTION_POINT_FC|NGK_MSG_REDIRECT_COLLECTION_POINT_MCC|NGK_MSG_REDIRECT_COLLECTION_POINT_FC_MCC'" /> 
		
		<Step cmd="PosNGKSendAnalyticsInfo 'OrderPaymentStatus:4'" />
		<!-- <Step cmd="PosNGKDoShowImageMessageJS 'tenderFailedPayAtCounter' '3' '' '' '' 'NGK_MSG_TENDER_FAILED_PAY_AT_COUNTER'" labelTrue="ORDER_PAID_WITH_TABLE_SERVICE_SINGLE_PAY_AT_COUNTER" /> -->
		<!-- This line is removed by the request from McDonalds issue no is NVS-3002 this 
		<Step cmd="PosNGKDoShowImageMessageJS 'tenderFailedPayAtCounter' '3' '' '' '' 'NGK_MSG_TENDER_FAILED_PAY_AT_COUNTER'" labelTrue="THANK_YOU"/> -->
		<Step cmd="PosNGKShowTableServiceSingleScreenJS" labelTrue="GO_HOME" labelFalse="GO_HOME" />
		<Step label="THANK_YOU" cmd="PosNGKDoShowImageMessageJS 'tenderThankYou' '5' '' '' '' 'NGK_MSG_TENDER_THANK_YOU'" labelTrue="GO_HOME" />
		<Step label="THANK_YOU_NEW" cmd="PosNGKClosingScreenJS '3'" />
		<Step label="GO_HOME" cmd="PosCSODoPlaySoundJS 'Kiosk_Greeting'" />
		<!-- NVS-6002 - NGK- Kiosk Analytics -->
		<Step cmd="PosNGKSendAnalyticsInfo 'EventLabelKey:CSO_ANALYTICS_END_SESSION_TXT,TranslateEventLabel:1,EventCategoryKey:CSO_ANALYTICS_MSG_CATEGORY_CASHLESS,Session:End'" />
		<Step cmd="PosCSOSetDefaultLanguageJS" />
		<Step cmd="PosNGKDoGoHomeJS" />
	</Workflow>

	<Workflow name="WF_NGK_UpdateSharedContext" parameters="$Action $Key $Value">
		<Step cmd="PosCSOUpdateSharedContextJS $Action $Key $Value" /> 
		<Step cmd="PosSetSessionProperty  $Key $Value 'false'" />
		<Step cmd="PosCSOSendSharedContextJS" />
	</Workflow>

	<Workflow name="WF_NGK_UpdateScreen">
		<Step cmd="PosCSOShowPriceJS" />
	</Workflow>
<!-- Felipe Change - 8111349 - "Screens for Payment & Eat-in/Take-out to be Configurable" -->

	<Workflow name="WF_NGK_ShowMenu" parameters="$SaleType $ScreenCarrousel $ScreenMenu $increaseImages">
		<Step label="RESET_REMPOD" cmd="PosNGKSetDefaultRemPOD" />
		
		<!-- CSO-376 NGK Selection Screen for Payment and Eat-in/Take-out to be Configurable - 8111349 -->
		<Step label="LAYOUT_BY_MODE" cmd="PosNGKOrderEatingPaymentBeginLayoutByMode" labelTrue="SET_SALE_TYPE_LAYOUT_MODE" labelFalse="SET_SALE_TYPE" />
		<Step label="SET_SALE_TYPE" cmd="PosNGKSetSaleType $SaleType" />
		<Step cmd="PosCheckSessionProperty 'NGK_MOA_ORDER' 'true'" labelTrue="RESET_EAT_LOCATION" labelFalse="SHOW_MENU" />
		<Step label="RESET_EAT_LOCATION" cmd="PosSetSessionProperty 'SALETYPEDEFINED' 'false'" />
		<Step label="SHOW_MENU" cmd="PosCSODoUpdateCartJS 'WF_NGK_ShowMenu'" />

		<!-- CSO-376 NGK Selection Screen for Payment and Eat-in/Take-out to be Configurable - 8111349 -->
		<Step cmd="PosCheckSectionParameterValue 'CSO.UserInterface' 'order.EatingPaymentScreenLocationMode' '0' '2'" labelTrue="FINISH" labelFalse="ASK_TO_PAY_AT_COUNTER_AND_STORE" />

		<Step label="ASK_TO_PAY_AT_COUNTER_AND_STORE" cmd="PosNGKAskToPayAtCounterAndStoreResult 'NGK_SCR_REROUTE_TITLE|WHITE|WHITE|GREEN|' 'NGK_BTN_REROUTE_PAY_AT_COUNTER|GREEN|WHITE|WHITE|payAtCounterImage' 'NGK_BTN_REROUTE_PAY_HERE|GREEN|WHITE|WHITE|payHereImage' 'NGK_MSG_RETURN|GREEN|WHITE|WHITE|no_image_key'" labelTrue="CHECK_BACK" labelFalse="EXIT" />

		<Step label="CHECK_BACK" cmd="PosCheckSessionProperty 'NGK_POPUP_RESULT' 'BACK'" labelTrue="BACK" labelFalse="CHECK_PAY_AT_COUNTER" />
		<!-- <Step label="ASK_FOR_BAG" cmd="PosNGKAskBagsJS 'false'" labelTrue="CHECK_PAY_AT_COUNTER" labelFalse="CHECK_PAY_AT_COUNTER" /> -->
		<Step label="BACK" cmd="PosNGKReturnFromAskToPayAtCounter" labelTrue="EXIT" />

		<Step label="CHECK_PAY_AT_COUNTER" cmd="PosCheckSessionProperty 'NGK_POPUP_RESULT' 'PAY_AT_COUNTER'" labelTrue="PAY_AT_COUNTER" labelFalse="CHECK_PAY_HERE" />
		<Step label="CHECK_PAY_HERE" cmd="PosCheckSessionProperty 'NGK_POPUP_RESULT' 'PAY_HERE'" labelTrue="CHECK_CARD" labelFalse="EXIT" />
		<!-- NVS-4046 Pre-swipe message is retaining on PED, even after the order is completed using "Pay at Counter".  User has to explicitly press Cancel button on PED 23-Aug-2016 John Brancaleon -->
		<Step label="PAY_AT_COUNTER" />
		<Step cmd="eSocket_preSwipeCancelJS" />
		<Step cmd="PosCheckSectionParameterValue 'CSO.UserInterface' 'enableRecallOrdersOnFC' 'false' 'true'" labelTrue="CHANGE_REMPOD" labelFalse="FINISH" />
		<Step label="CHANGE_REMPOD" cmd="PosNGKSetDefaultRemPOD 'FRONT_COUNTER'" labelTrue="FINISH" />

		<Step label="CHECK_CARD" />
		<Step cmd="PosSetSessionProperty 'NGK_CARD_SCREEN_CARROUSEL' $ScreenCarrousel" />
		<Step cmd="PosSetSessionProperty 'NGK_CARD_SCREEN_MENU' $ScreenMenu" />
		<Step cmd="PosNGKAskInsertCardAsyncJS" />
		<Step cmd="PosNGKWaitForTheCardInsertionJS" labelFalse="EXIT" />

		<!-- CSO-376 NGK Selection Screen for Payment and Eat-in/Take-out to be Configurable - 8111349 -->
		<Step label="SET_SALE_TYPE_LAYOUT_MODE" cmd="PosNGKSetSaleType $SaleType" labelTrue="FINISH" labelFalse="FINISH" />
		<!-- <Step label="ASK_FOR_BAG_2" cmd="PosNGKAskBagsJS 'false'" /> -->
		<Step cmd="PosCSODoUpdateCartJS 'WF_NGK_ShowMenu'" />
		<Step label="FINISH" cmd="PosCSORegisterMainMenuTabJS $ScreenMenu '1'" />
		<!--Registers the main button tab pressed-->
		<Step cmd="PosNGKShowCarrouselJS $ScreenCarrousel $ScreenMenu $increaseImages" />
	</Workflow>

	<Workflow name="WF_NGK_OnCardInserted_UNUSED">
		<Step cmd="PosNGKShowCarrouselJS '_NGK_CARD_SCREEN_CARROUSEL' '_NGK_CARD_SCREEN_MENU'" />
	</Workflow>

	<!-- NVS-4630 - msilva - MSG_CARD_ONLY pop-up validation -->
	<Workflow name="WF_NGK_CHECK_MSG_CARD_ONLY" parameters="$Number $IsMainScreen $ButtonNumber">
		<Step cmd="NGKSetOrderStartTime" />
		<!-- Check configuration for cashless only message -->
		<Step label="CHECK_MSG_CARD_ONLY" cmd="PosCheckParameter 'CSO.UserInterface' 'payAtCounter.enabled' 'true'" labelTrue="SHOW_SCREEN" labelFalse="MSG_CARD_ONLY" />
		<!-- Show card only message -->
		<Step label="MSG_CARD_ONLY" cmd="PosShowConfirmationMessage 'NGK_CASHLESS_ONLY_MESSAGE' 'MSG_YES' 'MSG_NO'" labelTrue="SHOW_SCREEN" labelFalse="GO_BACK_MAIN" />
		<!-- Show screen -->
		<Step label="SHOW_SCREEN" cmd="PosCSORegisterMainMenuTabJS $Number $ButtonNumber" /> <!--Registers the main button tab pressed-->
		<Step cmd="PosNGKDoShowScreenJS $Number '' '' $IsMainScreen $increaseImages" labelTrue="EXIT" labelFalse="EXIT" /> <!-- CSO-205 -->
		<!-- Go back main screen -->
		<Step label="GO_BACK_MAIN" cmd="PosNGKEnqueueWFJS 'WF_NGK_UIInitialize'" />
		<!-- Exit -->
		<Step label="EXIT" />
	</Workflow>	
	
	<Workflow name="WF_NGK_ShowScreen" parameters="$Number $IsMainScreen $ButtonNumber $increaseImages $ButtonsDisplaySequence"> <!-- CSO-205 -->
		<Step cmd="PosCSORegisterMainMenuTabJS $Number $ButtonNumber" /> <!--Registers the main button tab pressed-->
		<Step cmd="PosNGKDoShowScreenJS $Number '' '' $IsMainScreen $increaseImages $ButtonsDisplaySequence" /> <!-- CSO-205 -->
	</Workflow>

	<Workflow name="WF_NGK_SetOrderLanguage" parameters="$CountryId $LanguageId">
	   <Step cmd="PosNotATransactionInProgress" /> 
	   <Step cmd="PosCSOSetLanguageJS $CountryId $LanguageId" /> 
	</Workflow>

	<Workflow name="WF_NGK_DoSale" parameters="$ProductCode $ScreenNumberSuggestiveSales">
		<Step cmd="PosNGKOrderItemJS $ProductCode $ScreenNumberSuggestiveSales ''" />
	</Workflow>

	<Workflow name="WF_NGK_IncreaseQuantity" parameters="$ItemIndex">
		<Step cmd="PosCSOIsTrnInProgressJS 'true'" /> 
		<Step cmd="PosCSODoStopWhenOnGrillModeJS 'true'" /> 
		<Step cmd="PosNGKChangeItemJS 'START'" />
		<Step cmd="PosNGKCheckAndExecuteBackFromTotal" />
		<Step cmd="PosCSODoCloneItemJS $ItemIndex" /> 
		<Step cmd="PosNGKChangeItemJS 'END'" />
		<Step cmd="PosSetSessionProperty 'PROMOTION_DATA' $PromotionData" />
		<Step cmd="PosNGKEnqueueWFJS 'WF_NGK_FinalShowOrderReview'" />
	</Workflow>
	
	<Workflow name="WF_NGK_IncreaseItemGroupQuantity" parameters="$GroupId">
		<Step cmd="PosCSOIsTrnInProgressJS 'false'" /><!-- Verifies if there is a transaction in progress --> 
		<Step cmd="PosCSODoStopWhenOnGrillModeJS 'false'" /><!-- Verifies if the NP6 kernel context is on grill process --> 
		<Step cmd="PosNGKChangeItemJS 'START'" />
		<Step cmd="PosNGKCheckAndExecuteBackFromTotal" />
		<Step cmd="PosCSODoCloneItemGroupJS $GroupId" /> <!--Clones the given item group.--> 
		<Step cmd="PosNGKChangeItemJS 'END'" /> 
		<Step cmd="PosNGKEnqueueWFJS 'WF_NGK_FinalShowOrderReview'" />
	</Workflow>

	<Workflow name="WF_NGK_DecreaseQuantity" parameters="$ItemIndex">
		<Step cmd="PosCSOIsTrnInProgressJS 'true'" /> 
		<Step cmd="PosCSODoStopWhenOnGrillModeJS 'true'" /> 
		<Step cmd="PosNGKChangeItemJS 'START'" />
		<Step cmd="PosNGKCheckAndExecuteBackFromTotal" />
		<Step cmd="PosCSODecreaseQuantityJS $ItemIndex" />
		<Step cmd="PosDoSelIndex $ItemIndex" />
		<Step cmd="PosNGKChangeItemJS 'END'" /> 
		<Step cmd="PosNGKEnqueueWFJS 'WF_NGK_FinalShowOrderReview'" />
	</Workflow>

	<Workflow name="WF_NGK_AskRemoveCard">
		<!-- NVS-4681 - msilva - losing routing information -->		
		<Step cmd="PosNGKAskRemoveCard_COEJS" />
	</Workflow>

	<!--
		WF_NGK_ShowDeliveryLater
		Purpose: Sends the Delivery Later Sumary view to Kiosk
	-->
	<Workflow name="WF_NGK_ShowDeliveryLater">
		<Step cmd="PosCSOShowDeliveryLaterJS" /> <!-- Sends the delivery later sumary view to Kiosk. The step 'PosCSOIsDeliveryLaterAvailableJS' should be called and returned 'true'. -->
	</Workflow>

	<!--
		WF_NGK_SetDeliveryLater
		Purpose: This workflow is used during the "Delivery Later Sumary Screen" for set the given item for delivery later or not. If 'Index' = -1, all items will have its value setted
		
		Parameters:	
			$Index - Item index to be set - "-1" = all items will have its value setted
			$Later - true = later / false = now
	-->
	<Workflow name="WF_NGK_SetDeliveryLater" parameters="$Index $Later">
		<Step cmd="PosCSOSetDeliveryLaterJS $Index $Later" /> <!--Used for set the given item for delivery later or not-->
	</Workflow>

	<!--
		WF_NGK_EndDeliveryLater
		Purpose: Confirm or Cancel the changes done on Delivery Later Sumary screen and closes the popup.
		
		Parameters:	
			$ConfirmChanges 					- True if the changes should be applied, False to discard all changes;
	-->
	<Workflow name="WF_NGK_EndDeliveryLater" parameters="$ConfirmChanges">
		<Step cmd="PosNGKStartMessageJS 'DELIVERY_LATER_PROCESSING' 'NGK_MSG_PROCESSING_PLEASE_WAIT'" />
		<Step cmd="PosCSOEndDeliveryLaterJS $ConfirmChanges" />
		<Step cmd="PosNGKStopMessageJS" />
		<Step cmd="PosNGKEnqueueWFJS 'WF_NGK_ContinueTender'" />
	</Workflow>
	
	<!-- CSO-229 - NGK Support Deliver Early Feature - 7826861
		 WF_NGK_ShowDeliveryEarlier
		 Purpose: Sends the Delivery Earlier Summary view to Kiosk
	-->
	<Workflow name="WF_NGK_ShowDeliveryEarlier">
		<Step cmd="PosCSOShowDeliveryEarlierJS" /> <!-- Sends the delivery earlier summary view to Kiosk. The step 'PosCSOProcessDeliveryEarlierJS' should be called and returned 'true'. -->
	</Workflow>
	
	<!-- CSO-229 - NGK Support Deliver Early Feature - 7826861
		 WF_NGK_SetDeliveryEarlier
		 Purpose: This workflow is used during the "Delivery Earlier Summary Screen" for set the given item for delivery earlier or not.
		
		 Parameters:	
			$Index - Item index to be set
			$Earlier - true / false
	-->
	<Workflow name="WF_NGK_SetDeliveryEarlier" parameters="$Index $Earlier">
		<Step cmd="PosCSOSetDeliveryEarlierJS $Index $Earlier" /> <!--Used for set the given item for delivery earlier or not-->
	</Workflow>

	<!-- CSO-229 - NGK Support Deliver Early Feature - 7826861
		 WF_NGK_EndDeliveryEarlier
		 Purpose: Confirm or Cancel the changes done on Delivery Earlier Summary screen.
		
		 Parameters:	
			$ConfirmChanges	- true if the changes should be applied, false to discard all changes;
	-->
	<Workflow name="WF_NGK_EndDeliveryEarlier" parameters="$ConfirmChanges">
		<Step cmd="PosCSOEndDeliveryEarlierJS $ConfirmChanges" />
		<Step cmd="PosNGKEnqueueWFJS 'WF_NGK_DeliverLater'" />
	</Workflow>
	
	<!-- NGK FRENCH PROMOTION -->
	
	<!--
		Purpose: Send a message to the UI informing if local promotions are available or not
	-->
	<Workflow name="WF_NGK_LocalPromotionAvailability">
		<Step cmd="PosCSOSendPromoAvailableJS" />
	</Workflow>
	
	<!--
		Purpose: Show local promotions
	-->
	<Workflow name="WF_NGK_ShowLocalPromotions">
		<Step cmd="PosCSOShowLocalPromotionsJS" labelFalse="EXIT" />
		<Step cmd="PosNGKValidatePromotionPropertiesJS '_SelectedButtonValue'" labelFalse="BACK" />
		<Step cmd="PosCSOShowPromotionConfirmationMessageJS '_SelectedButtonValue'" labelFalse="BACK" />
		<Step cmd="PosCSOValidateBarcodeJS '_SelectedButtonValue'" />
		<Step cmd="PosCSOEnqueueWFExecutionJS 'WF_NGK_StartPromotion'" />
		<Step cmd="PosCSOExecuteWFFromQueueJS" labelTrue="EXIT" />
		<Step label="BACK" cmd="PosCSOEnqueueWFExecutionJS 'WF_NGK_ShowMainScreen'" />
		<Step cmd="PosCSOExecuteWFFromQueueJS" />
	</Workflow>
	
	<!--
		Purpose: This workflow checks if the barcode entered is valid for the selected local promotion.
		
		Parameters:	
			$BarCode - The barcode entered by the user
	-->
	<Workflow name="WF_NGK_RedeemLocalPromotionBarcode" parameters="$BarCode $Mode $VoidOrder">
		<Step cmd="PosCSOCompareStrings $Mode 'UNGATEDMOBILE'" labelTrue="UNGATEDMOBILE" labelFalse="CHECKUNGATEDCOUPON" />
		<Step label="CHECKUNGATEDCOUPON" cmd="PosCSOCompareStrings $Mode 'UNGATEDCOUPON'" labelTrue="UNGATEDHAVECOUPON" labelFalse="CHECKMOBILE" />
		<Step label="CHECKMOBILE" cmd="PosCSOTestMobileCheckinModeJS $Mode" labelTrue="MOBILE" labelFalse="CHECKCOUPON" /> <!-- CSO-108 -->
		<Step label="CHECKCOUPON" cmd="PosCSOTestHaveCouponModeJS $Mode" labelTrue="HAVECOUPON" labelFalse="CHECKBARCODE" />	<!-- CSO-108 -->
		<Step label="CHECKBARCODE" cmd="PosCSOValidateBarcodeModeJS $Mode" labelTrue="BARCODEVALIDATION" labelFalse="BARCODEREDEEM" />

		<!-- CSO-144 - NGK - Mobile Order Check-In At Kiosk - 7473775 -->
		<Step label="MOBILE" cmd="PosRemoveSessionProperty 'NGK_UNGATED_SCAN_RETURN_SCREEN'" />
		<Step label="UNGATEDMOBILE" cmd="PosNGKSetSaleType '0'" />
		<!-- CSO-547 POS-276 - NGK - Support GMA Long Term Check-in - 8289930 -->
		<Step cmd="PosCSORedeemMobileBarcode $BarCode $VoidOrder" labelTrue="EXIT" labelFalse="CHECK_BARCODE" />
		<Step label="CHECK_BARCODE" cmd="PosCheckSessionProperty 'GMA_CONFLICTING_BARCODE' 'true'" labelTrue="BACK_MOA_CHECKIN" labelFalse="BACK_MOA" />
		<Step label="BACK_MOA_CHECKIN" cmd="PosCSODoShowLocalPromotionBarcodeReaderJS 'REDEEM' 'MOBILE' '_NGK_SCREEN_CARROUSEL' '_NGK_SCREEN_MENU' '_NGK_SCREEN_ADS' '5'" labelTrue="EXIT" />
		<Step label="BACK_MOA" cmd="PosNGKMobileCheckinBackJS" labelTrue="EXIT" labelFalse="EXIT" />

		<!-- CSO-108 look for promotion and try to redeem -->
		<Step label="HAVECOUPON" cmd="PosRemoveSessionProperty 'NGK_UNGATED_SCAN_RETURN_SCREEN'" />
		<Step label="UNGATEDHAVECOUPON" cmd="PosCSOGetBarcodeProductJS $BarCode" labelTrue="EXIT" labelFalse="TESTUNGATEDCOUPON" />
		<Step label="TESTUNGATEDCOUPON" cmd="PosCSOCompareStrings $Mode 'UNGATEDCOUPON'" labelTrue="BACKUNGATEDHAVECOUPON" labelFalse="BACK" />
		<Step label="BACKUNGATEDHAVECOUPON" cmd="PosNGKUngatedScanReturnScreen" labelTrue="EXIT" labelFalse="EXIT" />

		<Step label="BARCODEVALIDATION" cmd="PosNGKCheckLocalPromotionBarcodeJS $BarCode" labelFalse="BACK" /> <!--Retrieves the redeemable product from the barcode string.-->
		<Step cmd="PosCSOEnqueueWFExecutionJS 'WF_NGK_StartPromotion'" />
		<Step cmd="PosCSOExecuteWFFromQueueJS" labelTrue="EXIT" labelFalse="EXIT" />
		
		<!-- CSO-153 - NGK - Create Percentage Discount Barcodes On NGKiosk - 6998290 -->
		<Step label="BARCODEREDEEM" cmd="PosNGKRedeemPromotionBarcodeJS $BarCode" labelTrue="EXIT" labelFalse="BACK" />
		<Step label="BACK" cmd="PosCSOEnqueueWFExecutionJS 'WF_NGK_ShowMainScreen'" />
		<Step cmd="PosCSOExecuteWFFromQueueJS" />
	</Workflow>

	<!--
		Purpose: This workflow validates the barcode dates and minimum amount and if so add its elements to the order basket.
		
		Parameters:	
			$BarCodeInfo - The barcode content
	-->
	<Workflow name="WF_NGK_FinishLocalPromotionBarcodeRedemption" parameters="$BarcodeInfo">
		<Step cmd="PosNGKValidateBarcodeInfoJS $BarcodeInfo" labelFalse="RELEASE" />
		<Step cmd="PosCSOFinishBarcodePromotionJS $BarcodeInfo" labelTrue="EXIT" labelFalse="RELEASE" />
		<Step label="RELEASE" cmd="PosCSOReleaseBarcodeJS $BarcodeInfo" />
		<Step cmd="PosCSOEnqueueWFExecutionJS 'WF_NGK_ShowMainScreen'" />
		<Step cmd="PosCSOExecuteWFFromQueueJS" />
	</Workflow>

	<!-- CSO-153 - NGK - Create Percentage Discount Barcodes On NGKiosk - 6998290 -->
	<Workflow name="WF_NGK_FinishDiscountByItem" parameters="$ProductCode $Rate $Barcode $Outage">
		<Step cmd="PosNGKFinishApplyDiscountJS $ProductCode $Rate $Barcode $Outage" labelTrue="EXIT" labelFalse="BACK" />
		<Step label="BACK" cmd="PosCSOEnqueueWFExecutionJS 'WF_NGK_ShowMainScreen'" />
		<Step cmd="PosCSOExecuteWFFromQueueJS" />
	</Workflow>
	
	<!--
		Purpose: This workflow starts the promotion loop.
	-->
	<Workflow name="WF_NGK_StartPromotion">
		<Step cmd="PosCSOStartPromotionJS" />
	</Workflow>
    
	<!--
		Purpose: This workflow starts the reload process.
	-->
	<Workflow name="WF_NGK_ReloadPromotions">
		<Step cmd="PosSetSessionProperty 'NEW_LOCAL_PROMOTIONS_AVAILABLE' 'true' 'false'" />
		<Step cmd="PosCSOReloadLocalPromotionsJS" />
	</Workflow>

	<Workflow name="WF_NGK_FinishPromotion" parameters="$ChoiceCodes $OfferCodes $AuxData">
		<Step cmd="PosCSOFinishPromotionJS $ChoiceCodes $OfferCodes $AuxData" />
	</Workflow>

	<Workflow name="WF_NGK_FinishItemGroupCustomization">
		<Step cmd="PosFinishItemGroupCustomizationJS" />
	</Workflow>
	
	<Workflow name="WF_NGK_ShowLocalPromotionBarcodeReader" parameters="$Source">
		<Step cmd="PosCSODoShowLocalPromotionBarcodeReaderJS 'REDEEM' $Source" />
	</Workflow>

	<!-- CSO-108 -->
	<Workflow name="WF_NGK_StartCouponPromotion" parameters="$Source">
		<Step cmd="PosCSOStartPromotionJS" />
	</Workflow>

	<Workflow name="WF_NGK_DoSaleHome" parameters="$ProductCode $ScreenNumberSuggestiveSales">
		<Step cmd="PosNGKOrderItemJS $ProductCode $ScreenNumberSuggestiveSales '' 'true'" />
	</Workflow>
	<!-- CSO-108 END -->

	<!-- CSO-41 - NGK v5.3 - Display Nutritional Information - 7160864 -->
	<Workflow name="WF_NGK_ShowNutritionalInformation" parameters="$ProductCodes $IgnoreChoices">
		<Step cmd="PosCSOShowNutritionalInformation $ProductCodes $IgnoreChoices" />
	</Workflow>
	
	<!--
		WF_NGK_CallRecaller	
		Purpose: This workflow calls a command depending on Kiosk layout
		Since: CSO-70 - NGK French Mobile CheckIn Requirements - 7339563
		
		Parameters:
			$RecallerPath - command path
	-->
	<Workflow name="WF_NGK_CallRecaller" parameters="$RecallerPath">
		<Step cmd="PosCSOCheckSharedContext 'NGK_LAYOUT' '9X16'" labelFalse="16X9" />
		<Step cmd="PosCSORunOSCommand  $RecallerPath '' ''" labelTrue="BACK" labelFalse="EXIT" />
		<Step label="16X9" cmd="PosCSOCheckSharedContext 'NGK_LAYOUT' '16X9'" labelFalse="5X4" />
		<Step cmd="PosCSORunOSCommand  $RecallerPath '' ''" labelTrue="BACK" labelFalse="EXIT" />
		<Step label="5X4" cmd="PosCSOCheckSharedContext 'NGK_LAYOUT' '5X4'" labelFalse="ADA" />
		<Step cmd="PosCSORunOSCommand  $RecallerPath '' ''" labelTrue="BACK" labelFalse="EXIT" />
		<Step label="ADA" cmd="PosCSOCheckSharedContext 'NGK_LAYOUT' 'ADA'" labelFalse="EXIT" />
		<Step cmd="PosCSORunOSCommand  $RecallerPath '' ''" />
		<Step label="BACK" cmd="PosNGKEnqueueWFJS 'WF_NGK_BackFromSaleType'" />
	</Workflow>
	
	<!--
		WF_NGK_GrillBYB	
		Purpose: This workflow displays the BYB loop to grill a BYB product
		Since: CSO-87 - CR - NGK Build Your Burger Functionality - 7351555
		
		Parameters:
			$ProductCode - BYB product code
			$CartIndex - BYB cart index
	-->
	<Workflow name="WF_NGK_GrillBYB" parameters="$ProductCode $CartIndex">
		<Step cmd="PosNGKGrillBYB $ProductCode $CartIndex" />
	</Workflow>
	
	<!--
		WF_NGK_PerformGrillBYB	
		Purpose: This workflow performs the grill operations for a BYB product
		Since: CSO-87 - CR - NGK Build Your Burger Functionality - 7351555
		
		Parameters:
			$ProductCode - BYB product code
			$GrillList - List of all grill operations
			$ChoiceList - List of all choices that should be changed
	-->
	<!-- NVS-5993 - Order Basket Redesign -->
	<Workflow name="WF_NGK_PerformGrillBYB" parameters="$ProductCode $GrillList $ChoiceList $customInfo $VMChoiceList $VMGrillList">
        <Step cmd="PosCSOIsTrnInProgressJS 'true'" />
        <Step cmd="PosCSODoStopWhenOnGrillModeJS 'true'" />
        <Step cmd="PosNGKPerformBYBGrill $ProductCode $GrillList $ChoiceList $customInfo $VMChoiceList $VMGrillList" />
        <Step cmd="PosNGKEnqueueWFJS 'WF_NGK_FinalShowOrderReview'" />
    </Workflow>
	
	<!--
		WF_NGK_ShowScreenBYBPreBuilts	
		Purpose: This workflow displays a screen as the BYB Pre Build screen
		Since: CSO-87 - CR - NGK Build Your Burger Functionality - 7351555
		
		Parameters:
			$Number - Screen number
	-->
	<Workflow name="WF_NGK_ShowScreenBYBPreBuilts" parameters="$Number">
		<Step cmd="PosNGKShowBYBPreBuiltsJS $Number" />
	</Workflow>

	<!-- CSO-141 - NGK Display Allergen Disclaimer - 7475764 -->
	<Workflow name="WF_NGK_SHOW_ALLERGEN_DISCLAIMER">
		<Step cmd="PosCSOShowAllergensDisclaimer" />
	</Workflow>

	<!-- CSO-157 - NGK Display Allergen Disclaimer - 7684234 -->
	<Workflow name="WF_CSO_SHOW_ALLERGEN_DISCLAIMER">
		<Step cmd="PosCSOShowAllergensDisclaimer" />
	</Workflow>

	<!-- CSO-144 - NGK - Mobile Order Check-In At Kiosk - 7473775 -->
	<Workflow name="WF_NGK_MOA_CHECKIN" parameters="$ScreenCarrousel $ScreenMenu $ScreenAds">
		<Step cmd="PosSetSessionProperty 'NGK_SCREEN_CARROUSEL' $ScreenCarrousel" />
		<Step cmd="PosSetSessionProperty 'NGK_SCREEN_MENU' $ScreenMenu" />
		<Step cmd="PosSetSessionProperty 'NGK_SCREEN_ADS' $ScreenAds" />
		<Step cmd="PosCSODoShowLocalPromotionBarcodeReaderJS 'REDEEM' 'MOBILE' $ScreenCarrousel $ScreenMenu $ScreenAds" />
	</Workflow>
	
	<Workflow name="WF_NGK_MOA_CHECKIN_CONTINUE">
		<Step cmd="PosCSOContinueRedeemMobileCheckin" />
	</Workflow>

	<!-- CSO-123 - NGK Implementation of Promotion Engine Digital Offers Component - 7360967 -->
	<Workflow name="WF_NGK_ScanMoaOffer">
		<Step cmd="PosRemoveSessionProperty 'NGK_UNGATED_SCAN_RETURN_SCREEN'" />
		<Step cmd="PosNGKShowOfferBarcodeReader" />
	</Workflow>
	
	<!-- CSO-123 - NGK Implementation of Promotion Engine Digital Offers Component - 7360967 -->
	<!-- CSO-428 - comformation message shown when user scans same offer with different QR code or scans a new offer on the KIOSK	-->
	<Workflow name="WF_NGK_RedeemMoaOffer" parameters="$BarCode $InputMethod $MoaOfferKind">		
		<Step cmd="PosSetSessionProperty 'NGK_POPUP_TIMEOUT' 'false' 'false'" />
		<Step cmd="PosCSOIsTrnInProgressJS 'true'" labelTrue="VERIFY_HAS_OFFER" labelFalse="START_EMPTY_SALE" />
		<Step label="START_EMPTY_SALE" />
		<Step cmd="PosCreateSale" labelFalse="BACK_TO_MENU" />
		<Step label="VERIFY_HAS_OFFER" />
		<Step cmd="PosNGKHasOfferApplied" labeltrue="COMPARE_LAST_CODE" labelFalse="REDEEM_OFFER" />
		<Step label="COMPARE_LAST_CODE" />
		<Step cmd="PosNGKCompareWithLastBarcodeJSLocal $BarCode $InputMethod" labelTrue="DISPLAY_DUPLICATED_MESSAGE" labelFalse="REDEEM_OFFER" />
		<Step label="DISPLAY_CONFIRMATION_MESSAGE" />
		<Step cmd="PosNGKAskConfirmationMessageJS 'NGK_MSG_OFFERS_POPUP_WARNING_ALREADY_APPLIED|WHITE|WHITE|GREEN' 'MSG_NO|RED|WHITE|WHITE' 'MSG_YES|GREEN|WHITE|WHITE'" labelTrue="BACK_TO_MENU" labelFalse="PREVIOUS_SCREEN" />
		<Step label="PREVIOUS_SCREEN" cmd="PosCSOCompareStrings $MoaOfferKind 'UNGATED'" labelTrue="BACK_TO_PREVIOUS" labelFalse="BACK_TO_BARCODE_READER" />
		<Step label="BACK_TO_BARCODE_READER" cmd="PosNGKShowOfferBarcodeReader" labelFalse="CLEAR_OFFER" labelTrue="CLEAR_OFFER" />
		<Step label="BACK_TO_PREVIOUS" cmd="PosNGKUngatedScanReturnScreen 'false'" labelFalse="CLEAR_OFFER" labelTrue="CLEAR_OFFER" />
		<Step label="CLEAR_OFFER" />
		<Step cmd="PosCheckSessionProperty 'NGK_POPUP_TIMEOUT' 'false'" />
		<Step cmd="PosDoClearOffer 'false'" labelFalse="REDEEM_OFFER" />
		
		<Step label="REDEEM_OFFER" />
		<Step cmd="PosNGKStopTimeoutJS" />
		<Step cmd="PosSetSessionProperty 'WAITING_APPLY_BY_RANDOM_CODE_RESPONSE' 'true' 'false'" />

		<Step cmd="PosBackFromTotalUndoOffer" labelTrue="UNDO_PROMOTIONS" labelFalse="UNDO_PROMOTIONS" />
		<Step label="UNDO_PROMOTIONS" cmd="PosBackFromTotalUndoPromotion" labelTrue="APPLY_BAR_CODE" labelFalse="APPLY_BAR_CODE" />
		<Step label="APPLY_BAR_CODE" cmd="PosNGKApplyOfferCode $BarCode $InputMethod" labelTrue="RecordInputMethord" labelFalse="BACK_TO_MENU" />
		<Step label="DISPLAY_DUPLICATED_MESSAGE" />
		<Step cmd="PosNGKSendDuplicateOfferMessage" />
		<Step cmd="PosCheckSessionProperty 'NGK_POPUP_TIMEOUT' 'false'" />
		<Step label="BACK_TO_MENU" />
		<Step cmd="PosSetSessionProperty 'WAITING_APPLY_BY_RANDOM_CODE_RESPONSE' 'false' 'false'" />
		<Step cmd="PosCSOCompareStrings $MoaOfferKind 'UNGATED'" labelTrue="BACK_TO_MENU_UNGATED" labelFalse="BACK_TO_MENU_DEFAULT" />
		<Step label="BACK_TO_MENU_UNGATED" />
		<Step cmd="PosNGKCloseBlockPopup" />
		<Step cmd="PosNGKUngatedScanReturnScreen 'true'" labelTrue="RecordInputMethord" labelFalse="RecordInputMethord" />
		<Step label="BACK_TO_MENU_DEFAULT" />
		<Step cmd="PosCSOEnqueueWFExecutionJS 'WF_NGK_ShowMainScreen'" />
		<Step cmd="PosCSOExecuteWFFromQueueJS" />
		<Step label="RecordInputMethord" cmd="PosSetSessionProperty  'LastInputMethod' $InputMethod" />		
	</Workflow>
	
	<!-- CSO-123 - NGK Implementation of Promotion Engine Digital Offers Component - 7360967 -->
	<Workflow name="WF_NGK_ShowOfferWelcome">
		<Step cmd="PosNGKShowOfferBarcodeWelcome" />
	</Workflow>

    <!-- CSO-123 - NGK Implementation of Promotion Engine Digital Offers Component - 7360967 -->	
	<!--Workflow name="WF_NGK_RemoveOffer"> 
		<Step cmd="PosNGKChangeItemJS 'START'" /> 
		<Step cmd="PosNGKRemoveOfferJS" /> 
	</Workflow--> 
	
	 <!-- CSO-1444 - [DRM] Kiosk SP8.5 MR1QR0 B21 TC2 :[Mobile offer redemption]: Offer name with "Offer not yet applied message" is not getting displayed on order review screen when offer is scanned but offer condition is not met.--> 
    <!-- Luiz Russo on CSO-1444: Added offerId parameter --> 
	<Workflow name="WF_NGK_RemoveOffer" parameters="$offerId"> 
		<Step cmd="PosNGKChangeItemJS 'START'" /> 
		<Step cmd="PosNGKRemoveOfferJS $offerId" /> 
	</Workflow>
	
    <!-- CSO-123 - NGK Implementation of Promotion Engine Digital Offers Component - 7360967 -->
	<Workflow name="WF_NGK_RemovePromotion" parameters="$PromoId $PromoCounter">
		<!-- <Step cmd="PosNGKCheckAndExecuteBackFromTotal"/> -->
		<Step cmd="PosNGKChangeItemJS 'START'" /> 
		<Step cmd="PosNGKRemovePromotionJS $PromoId $PromoCounter" /> 
	</Workflow>
	
    <!-- CSO-233 - To implement a feature that will allow a Franchisee at the store to configure a `Take Out` only window of time in the late night hours. - 6998530 -->
	<Workflow name="WF_CSO_SetEatInStatus" parameters="$Enabled">
		<Step cmd="PosCSOSetEatInStatusJS $Enabled" />
	</Workflow>
	
	<!--
	WF_NGK_START_UPDATE_CHOICE_VML	
		Purpose: This workflow requests to NewPOS a xml containing a value meal product structure.
		Since: CSO-259 - NGK Modify EVM Choices After Adding to Basket - 7810667
	
	Parameters:
		$ItemIndex - Selected cart item index
	-->
	<Workflow name="WF_NGK_START_UPDATE_CHOICE_VML" parameters="$ItemIndex $Qty">
		<Step cmd="PosCSOIsTrnInProgressJS 'true'" /> 
		<Step cmd="PosCSODoStopWhenOnGrillModeJS 'true'" /> 
		<Step cmd="PosSetSessionProperty 'NGK_IS_ORDER_REVIEW' 'true'" /> <!-- NVS-5993 - Order Basket Redesign -->
		<Step cmd="PosNGKChangeItemJS 'START'" /> 
		<Step cmd="POSNGKGetValueMeal $ItemIndex $Qty" /> 
		<Step cmd="PosNGKSideOrderItemJS 'UPDATE_ORDER' $ItemIndex" />
		<Step cmd="PosNGKCheckAndExecuteBackFromTotal" />
	</Workflow>
	
	<!--
	WF_NGK_FINISH_UPDATE_CHOICE_VML	
		Purpose: This workflow performs an update in choices' selection in a selected value meal order
		Since: CSO-259 - NGK Modify EVM Choices After Adding to Basket - 7810667
	
	Parameters:
		$ItemIndex         - Selected value meal index
		$ChoiceList        - List of all choices that should be changed
	-->
	<!-- NVS-4929 - Customisation and Order Basket Enhancements -->
	<Workflow name="WF_NGK_FINISH_UPDATE_CHOICE_VML" parameters="$ItemIndex $ChoiceList $ComponentsList $GrillsList $IsOrderReview">
		<Step cmd="PosCSOIsTrnInProgressJS 'true'" /> 
		<Step cmd="PosCSODoStopWhenOnGrillModeJS 'true'" /> 
		<!-- NVS-5993 - Order Basket Redesign -->
		<Step cmd="PosNGKPerformValueMealUpdateChoice $ItemIndex $ChoiceList $GrillsList" labelFalse="EXIT" />
        <Step cmd="PosCSOIsOrderReview $IsOrderReview" labelTrue="ON_REVIEW" labelFalse="ON_SALE" />
		<Step label="ON_REVIEW" cmd="PosNGKEnqueueWFJS 'WF_NGK_ShowOrderReview'" labelTrue="EXIT" labelFalse="EXIT" /> <!-- NVS-6156 - Promotions should be applied on order review screen --> 
        <Step label="ON_SALE" cmd="PosNGKShowMainScreen" /> 
		<Step label="EXIT" cmd="PosNGKChangeItemJS 'END'" /> 
	</Workflow>
	
	<!-- CSO-256 - NGK - Customization of Products - 7848282 -->
<!-- Removed by localization NVS-4929 -->
	<!-- <Workflow name="WF_NGK_ProductCustomizationInitialize" parameters="$SingleItem $ParentIndex $Index">
		<Step cmd="PosCSOIsTrnInProgressJS  'true'" />		
		<Step cmd="PosCSODoStopWhenOnGrillModeJS  'true'" />		
		<Step cmd="PosCSOProductCustomizationComponentJS $SingleItem $ParentIndex $Index" />
	</Workflow> -->
	
	<!-- CSO-261 - NGK - ADA - Magnifier implementation - 7736790 -->
	<Workflow name="WF_NGK_MagnifierEnabled">
		<Step cmd="PosCSODoPlaySoundFromParameterJS 'ADA.magnifierSoundPopUpInstruction'" />
		<Step cmd="PosCheckSectionParameterValue 'CSO.UserInterface' 'ADA.magnifierShowPopupInstruction' 'false' 'true'" labelFalse="EXIT" />
		<Step cmd="PosNGKShowSimpleMessagePopUp 'NGK_MAGNIFIER_POPUPSCREEN_TITLE' 'NGK_MAGNIFIER_POPUPSCREEN_CONTENT_AREA' 'NGK_MAGNIFIER_POPUPSCREEN_CLOSE'" />
		<Step label="EXIT" />
	</Workflow>

	<!-- WWR-2514: Support remote kiosk management -->
	<Workflow name="WF_RemoteLogin">
		<Step cmd="PosGetAuthorizationJSUS 'manager' 'false'" />
		<Step label="START" cmd="PosChooseRemotePOS '3' 'MSG_BC_REMOTELOGIN' 'MSG_BC_CONFREMLOGIN'" labelFalse="CHECK_CONT" />
		<Step cmd="PosDoRemoteLogin '_SELECTED_REMPOS'" labelTrue="REPORT" labelFalse="EXIT" />
		<Step label="REPORT" cmd="PosCreateReport  'ALL' 'ReportRemoteLogin#USCashReports' 'CONSOLIDATED|NOPREVIEW' '_reportRemLogin' '' '_SELECTED_REMPOS'" labelTrue="CHECK_CONT" labelFalse="START" />				
		<Step label="CHECK_CONT" cmd="PosCheckSessionProperty 'SELECTED_REMPOS' 'NONE'" labelFalse="START" />
		<Step label="EXIT" />
	</Workflow>
	<!--
		WF_Kiosk_Hook	
		Purpose: This workflow is called by the npGUIExt driver every (n) seconds.
	-->
	<Workflow name="WF_Kiosk_Hook">
		<Step cmd="NGKSendBlockWhenPOSHasWrongVersionJS" labelTrue="EXIT" labelFalse="CONTINUE_HOOK" />
		<Step label="CONTINUE_HOOK" cmd="PosCheckSessionProperty 'IS_NGK' 'true'" labelTrue="NGK_HOOK" labelFalse="KIOSK_HOOK" />
		<Step label="NGK_HOOK" cmd="onTPUIHook" /> <!--This feature is part of external Kiosk UI (TPUI). This function is called by the npGUIExt driver every (n) seconds.-->
		<Step cmd="PosCSOCheckRequiredServicesAvailableJS" />
		<Step cmd="PosNGKCheckPrinterStatusJS" /> <!-- NVS-1420 -->
		<Step cmd="PosCSOReloadLocalPromotionsJS" />
		<Step cmd="PosCSOChangeStoredBarcodeStatusJS 'LOCKED' 'false'" />
		<Step cmd="PosNGKUpdatePromotionalScreens" labelTrue="EXIT" />
		<Step label="KIOSK_HOOK" cmd="onTPUIHook" /> <!--This feature is part of external Kiosk UI (TPUI). This function is called by the npGUIExt driver every (n) seconds.-->
		<Step cmd="PosCSOCheckCanOperateJS" />
		<!--Step cmd="PosCSOCheckPrinterStatusJS"/-->
		<Step cmd="PosCSOReloadLocalPromotionsJS" />
		<Step cmd="PosCSOChangeStoredBarcodeStatusJS 'LOCKED' 'false'" />
	</Workflow>
	
	<!-- Add Kiosk/NGK support -->
	<Workflow name="WF_CSO_OpenDay">
		<Step cmd="PosDayOpen" />
	</Workflow>
	<Workflow name="WF_CSO_CloseDay">
		<Step cmd="PosEndOfDay" />
	</Workflow>
	<Workflow name="WF_CSO_DoOperatorLogin">
		<Step cmd="PosDoOperatorLogin" />
	</Workflow>
	<Workflow name="WF_CSO_DoOperatorLogout">
		<Step cmd="PosDoOperatorLogout" />
	</Workflow>
	
	<!--
		WF_CSO_UIInitialize	
		Purpose: This workflow initialize the Kiosk UI. It will send to UI the shared context, defines the default language and shows the main screen
	-->
	<Workflow name="WF_CSO_UIInitialize">
		<Step cmd="PosCSOIsTrnInProgressJS  'true'" labelTrue="IS_ON_GRILL" labelFalse="SET_INIT" /><!-- Verifies if there is a transaction in progress -->
		<Step label="IS_ON_GRILL" cmd="PosCSODoStopWhenOnGrillModeJS  'false'" labelTrue="VOID" labelFalse="SET_INIT" /><!-- Verifies if the NP6 kernel context is on grill process -->
		<Step label="VOID" cmd="PosNGKVoidOrderJS" />
		<Step label="SET_INIT" cmd="PosSetSessionProperty  'EXT_UI' 'true' 'false'" />
		<Step cmd="PosCSOSendSharedContextJS" /> <!--sends the shared context to UI-->
		<Step cmd="PosCSOReleaseBarcodeFilesJS" />
		<Step cmd="PosCSOSetScreenIDJS" /> <!-- Sets baseGrillScreenId and baseCSOScreenId as defined in store-db.xml-->
		<Step cmd="PosCSOSetDefaultLanguageJS" /> <!--Sets the default language for the Kiosk (CSO) based on the store-db configured localization.-->
		<Step cmd="PosCSODoShowScreenJS '_baseCSOScreenId'" /> <!--Creates a XML event informing the UI to change its screen number.-->
		<!--Step cmd="PosCSOCheckPrinterStatusJS"/-->
	</Workflow>

	<!--
		WF_CSO_DoSale	
		Purpose: This workflow performs a sale on Kiosk. If the Loop Meal is detected, the Loop Meal screen is shown
		
		Parameters:	
			$ProductCode- the products to de sale separeted by pipes
	-->
	<Workflow name="WF_CSO_DoSale" parameters="$ProductCode">
		<Step cmd="PosIsInSaleMode  'true'" />
		<Step cmd="PosCSODoStopWhenOnGrillModeJS  'false'" /><!-- Verifies if the NP6 kernel context is on grill process -->
		
		<!--Step cmd="PosCSOOrderItemJS  $ProductCode"/--> <!--Performs a sale on Kiosk. If the Loop Meal is detected, the Loop Meal screen is shown-->
		
		<Step label="CHECKLOOPMEAL" cmd="PosCSOIsOnLoopMealJS" labelFalse="STARTLOOPMEAL" />
		<Step cmd="PosCSOIsProductAnAlcoholicBeverage $ProductCode" labelFalse="NODISCLAIMER" />
		<Step cmd="PosCSOShowAlcoholicBeverageDisclaimer" />
		<Step label="NODISCLAIMER" />
		
		<Step cmd="PosCSOAddLoopMealProductJS $ProductCode" />
		<Step cmd="PosCSOHasLoopMealEndedJS" labelFalse="GENERATELOOPMEALVIEW" />
		<Step cmd="PosCSOAutoGrillLoopMealProductJS" labelFalse="ORDERLOOPMEAL" labelTrue="EXIT" />
		<Step label="ORDERLOOPMEAL" cmd="PosCSOOrderLoopMealProductsJS" />
		<Step cmd="PosCSOProcessPendingGrillOperationsJS" />
		<Step cmd="PosCSOAutoGrillLastProductJS" labelTrue="EXIT" />

		<Step label="STARTLOOPMEAL" cmd="PosCSOStartLoopMealJS $ProductCode" labelFalse="ORDERSIMPLE" />
		<Step label="GENERATELOOPMEALVIEW" cmd="PosCSOGenerateLoopMealViewJS" />
		<Step cmd="PosCSOAutoGrillLoopMealProductJS $ProductCode" labelFalse="SENDLOOPMEALVIEW" labelTrue="EXIT" />
		<Step label="SENDLOOPMEALVIEW" cmd="PosCSOSendLoopMealViewJS" labelTrue="EXIT" />

		<Step label="ORDERSIMPLE" cmd="PosCSOIsProductAnAlcoholicBeverage $ProductCode" labelFalse="NODISCLAIMER2" />
		<Step cmd="PosCSOShowAlcoholicBeverageDisclaimer" />
		<Step label="NODISCLAIMER2" />
		<Step cmd="PosCSOOrderSimpleProductJS $ProductCode" />
		<Step cmd="PosCSOAutoGrillLastProductJS" />
	</Workflow>
	
	<!--
		WF_CSO_DoSale_Redeem	 
		Purpose: This workflow performs a sale on Kiosk to redeem a product promotion. If the Loop Meal is detected, the Loop Meal screen is shown
		
		Parameters:	
			$ProductCode- the products to de sale separeted by pipes
			$BarCode	- the bar code of the product
	-->
	<Workflow name="WF_CSO_DoSale_Redeem" parameters="$ProductCode $BarCode">
		<Step cmd="PosIsInSaleMode  'true'" />
		<Step cmd="PosCSODoStopWhenOnGrillModeJS  'false'" /><!-- Verifies if the NP6 kernel context is on grill process -->
		<Step cmd="PosCSOOrderItemJS  $ProductCode $BarCode" /> <!--Performs a sale on Kiosk. If the Loop Meal is detected, the Loop Meal screen is shown-->
	</Workflow>
	
	<!--
		WF_CSO_DoSale_Promotion	 
		Purpose: This workflow performs a sale on Kiosk. Before executes the sale, opens the screen number "NextScreenNumber"
		
		Parameters:	
			$ProductCode		- the products to de sale
			$NextScreenNumber	- screen number to be displayed before to sell the product
	-->
	<Workflow name="WF_CSO_DoSale_Promotion" parameters="$ProductCode $NextScreenNumber">
		<Step cmd="PosCSOAskInsertCardJS" labelFalse="EXIT" />
		<Step cmd="PosSetSessionProperty  'skipOnCartCreate' 'true' 'false'" />
		<Step cmd="PosCSODoShowScreenJS  $NextScreenNumber" />
		<Step cmd="PosCSOAskSaleTypeJS  'CSO_MSG_EATLOCATION' 'MSG_SL_TYPE0' 'MSG_SL_TYPE1' 'false'" />
		<Step cmd="PosCSOUpdateProductPricesJS" />
		<Step cmd="PosIsInSaleMode  'true'" />
		<Step cmd="PosCSODoStopWhenOnGrillModeJS  'false'" />
		<Step cmd="PosCSOOrderItemJS  $ProductCode" />
		<Step label="EXIT" />
	</Workflow>
	
	<!--
		WF_CSO_DoVoidSale	
		Purpose: This workflow is responsible for voiding a sale, canceling grill and the loop meal process, and shows the main screen
	-->
	<Workflow name="WF_CSO_DoVoidSale">
		<Step cmd="PosCSOIsOnLoopMealJS" labelFalse="CANCEL_ORDER" labelTrue="CANCEL_LOOPMEAL" />
		<Step label="CANCEL_ORDER" cmd="PosCSOBeginTransaction" />
		<Step cmd="PosCSOIsTrnInProgressJS  'true'" labelFalse="GO_HOME" /><!-- Verifies if there is a transaction in progress -->
		<Step cmd="PosCSOGoAheadIfOnGrillModeJS  'true'" labelTrue="CANCEL_GRILL" labelFalse="VOID" /> <!--Verifies if the NP6 kernel context is on grill process.-->
		<Step label="CANCEL_GRILL" cmd="PosDoGrillEnd  '2'" />
		<Step label="VOID" cmd="PosNGKVoidOrderJS" />
		<Step label="GO_HOME" cmd="PosCSOGoHomeJS" /> <!--Resets the initial states to show the main screen-->
		<Step cmd="PosCSOEndTransaction" /> <!--Closes a Transaction in the UI.-->
		<Step label="CANCEL_LOOPMEAL" cmd="PosCSOCancelLoopMealJS" /> <!--Ends a Loop Meal operation and clear all used variables.-->
	</Workflow>

	<!--
		WF_CSO_GetProductPrices	
		Purpose: This workflow retrieves the list of the product prices
		
		Parameters:	
			$ProductCodes- Content the products in choice separeted by | or null
	-->
	<Workflow name="WF_CSO_GetProductPrices" parameters="$ProductCodes">
	   <Step cmd="PosCSOGetProductPricesJS $ProductCodes" /> <!--Retrieves the list of the product prices-->
    </Workflow>
	
	<!--
		WF_CSO_DoBack	
		Purpose: This workflow returns some operation. If Loop Meal process is active, it returns to the previous screen
	-->
 	<Workflow name="WF_CSO_DoBack">
		<Step cmd="PosCSODoBackJS" /> <!--Returns some operation. If Loop Meal process is active, it returns to the previous screen-->
	</Workflow>
	
	<!--
		WF_CSO_DoVoidItem	
		Purpose: This workflow decreases one unit of given item
		
		Parameters:	
			$ItemIndex- Item index to be voided
	-->
	<Workflow name="WF_CSO_DoVoidItem" parameters="$ItemIndex">
		<Step cmd="PosCSOIsTrnInProgressJS 'false'" /><!-- Verifies if there is a transaction in progress -->
		<Step cmd="PosCSODoStopWhenOnGrillModeJS 'false'" /><!-- Verifies if the NP6 kernel context is on grill process -->
		<Step cmd="PosDoSelIndex $ItemIndex" />
		<Step cmd="PosDoVoidLine" />
	</Workflow>
	
	<!--
		WF_CSO_DoShowLanguages	
		Purpose: This workflow displays the available languages and wait the selection in order to set the current language
	-->
 	<Workflow name="WF_CSO_DoShowLanguages">
		<Step cmd="PosNotATransactionInProgress" /> <!--Verifies if there is a transaction in progress-->
		<Step cmd="PosCSOLanguageSelectionJS" /> <!--Displays the available languages and wait the selection in order to set the current language-->
		<Step cmd="PosSetSessionProperty 'skipAskRemoveCard' 'true'" />
		<Step cmd="PosCSODoShowScreenJS '_baseCSOScreenId'" /><!--Creates a XML event informing the UI to change its screen number.-->
	</Workflow>
	
	<!--
		WF_CSO_GoHome	
		Purpose: This workflow resets the initial states to show the main screen
	-->
	<Workflow name="WF_CSO_GoHome">
		<Step cmd="PosCSOGoHomeJS" /> <!--Resets the initial states to show the main screen-->
	</Workflow>
	
	<!--
		WF_CSO_AskRemoveCard	
		Purpose: Asks to remove card
	-->
	<Workflow name="WF_CSO_AskRemoveCard">
		<Step cmd="PosCheckSessionProperty 'skipAskRemoveCard' 'true'" labelTrue="CLEAR" labelFalse="ASK" />
		<Step label="ASK" cmd="PosCSOAskRemoveCardJS" /> <!--Asks to remove card-->
		<Step label="CLEAR" cmd="PosSetSessionProperty  'skipAskRemoveCard' 'false'" />
	</Workflow>
	
	<!--
		WF_CSO_UISetLanguage	
		Purpose: This workflow changes the current language and show the main screen
		
		Parameters:	
			$CountryId	- Country Id - (eg.: 'US')
			$Language	- Language Id - (eg.: 'en')
	-->
	<Workflow name="WF_CSO_UISetLanguage" parameters="$CountryId $Language">
		<Step cmd="PosNotATransactionInProgress" /> <!--Verifies if there is a transaction in progress-->
		<Step cmd="PosCSOSetLanguageJS $CountryId $Language" /> <!--Sets the language to be used-->
		<Step cmd="PosSetSessionProperty 'skipAskRemoveCard' 'true'" />
		<Step cmd="PosCSODoShowScreenJS '_baseCSOScreenId'" /><!--Creates a XML event informing the UI to change its screen number.-->
	</Workflow>
	
	<!--
		WF_CSO_ShowScreen	
		Purpose: This workflow shows the desired screen number. If the card is required and its not inserted, a message will be displayed
		
		Parameters:	
			$Number	- Screen number to be displayed
	-->
	<Workflow name="WF_CSO_ShowScreen" parameters="$Number $ButtonNumber">
		<Step cmd="PosCSOAskInsertCardJS" labelFalse="EXIT" /> <!--Asks to insert card when is required-->
		<Step cmd="PosCSORegisterMainMenuTabJS $Number $ButtonNumber" /> <!--Registers the main button tab pressed-->
		<Step cmd="PosCSOShouldAskSaleTypeJS $Number" labelTrue="ASK" labelFalse="DO_NOT_ASK" />
		<Step label="ASK" cmd="PosCSODoShowScreenJS $Number" /><!--Creates a XML event informing the UI to change its screen number.-->
		<Step cmd="PosCSOAskSaleTypeJS  'CSO_MSG_EATLOCATION' 'MSG_SL_TYPE0' 'MSG_SL_TYPE1' 'false'" />
		<Step cmd="PosCSOUpdateProductPricesJS" />
		<Step cmd="PosCSOSendPromoAvailableJS" labelTrue="EXIT" />
		<Step label="DO_NOT_ASK" cmd="PosCSODoShowScreenJS $Number" /><!--Creates a XML event informing the UI to change its screen number.-->
	</Workflow>
	
	<!--
		WF_CSO_ShowBarcodeReader	
		Purpose: This workflow sends an event informing to the UI to open the Barcode's dialog.
	-->
	<Workflow name="WF_CSO_ShowBarcodeReader">
		<Step cmd="PosCSODoShowBarcodeReaderJS '2' '15'" /> <!--Creates a XML event informing the UI to open the Barcode's dialog.-->
	</Workflow>
	
	<!--
		WF_CSO_SetZoneIdTableService	
		Purpose: This workflow selects a Zone Area (Table Service)
		
		Parameters:	
			$ZoneId						- Zone Area selected
			$ConfirmationScreenNumber	- Table Service Confirmation screen number
	-->
	<Workflow name="WF_CSO_SetZoneIdTableService" parameters="$ZoneId $ConfirmationScreenNumber">
		<Step cmd="PosCSOSetZoneIdTableService $ZoneId $ConfirmationScreenNumber" /> <!--Selects a Zone Area (Table Service)-->
	</Workflow>
	
	<!--
		WF_CSO_DoSwitchLanguage	
		Purpose: This workflow alternates between available languages and shows the main screen
	-->
	<Workflow name="WF_CSO_DoSwitchLanguage">
		<Step cmd="PosNotATransactionInProgress" /> <!--Verifies if there is a transaction in progress-->
		<Step cmd="PosCSODoSwitchLanguageJS" /> <!--Alternates between available languages-->
		<Step cmd="PosSetSessionProperty 'skipAskRemoveCard' 'true'" />
		<Step cmd="PosCSODoShowScreenJS '_baseCSOScreenId'" /><!--Creates a XML event informing the UI to change its screen number.-->
	</Workflow>
	
	<!--
		DEPRECATED - WF_CSO_OnCreateCart	
		Purpose: This workflow is executed when the UI cart is created
	-->
	<!--Workflow name="WF_CSO_OnCreateCart">
		<Step cmd="PosCheckSessionProperty  'skipOnCartCreate' 'true'" labelTrue="END" labelFalse="CONTINUE"/>
		<Step label="CONTINUE" cmd="PosCSOAskSaleTypeJS  'CSO_MSG_EATLOCATION' 'MSG_SL_TYPE0' 'MSG_SL_TYPE1' 'false'"/>
		<Step cmd="PosCSOUpdateProductPricesJS"/>
		<Step label="END" cmd="PosSetSessionProperty  'skipOnCartCreate' 'false' 'false'"/>
	</Workflow-->
	
	<!--
		WF_CSO_DoRedeemBarCode	
		Purpose: This workflow retrieves the redeemable product from the barcode string.
		
		Parameters:	
			$BarCode - The receipt barcode
	-->
	<Workflow name="WF_CSO_DoRedeemBarCode" parameters="$BarCode">
		<Step cmd="PosCSOGetBarcodeProductJS $BarCode" /> <!--Retrieves the redeemable product from the barcode string.-->
	</Workflow>	
	
	<!--
		WF_CSO_OrderTimeOut	
		Purpose: This workflow is executed when the order time out is reached. The order is canceled and shows the main screen.
	-->
	<Workflow name="WF_CSO_OrderTimeOut">
		<Step cmd="PosCompareValues '_csoCurrentScreen' '_baseCSOScreenId'" labelTrue="ASK" labelFalse="CONFIRM" />
		<Step label="ASK" cmd="PosCSOAskRemoveCardJS" labelTrue="EXIT" labelFalse="EXIT" /> <!--Asks to remove card-->
		<Step label="CONFIRM" cmd="PosShowConfirmationMessage  'CSO_MSG_TIME_OUT_ORDER' 'MSG_YES' 'MSG_NO'" labelTrue="EXIT" labelFalse="CHECK_ORDER" />
		<Step label="CHECK_ORDER" cmd="PosCSOBeginTransaction" />
		<Step cmd="PosNotATransactionInProgress  'true'" labelTrue="GO_HOME" labelFalse="CHECK_GRILL" /> <!--Verifies if there is a transaction in progress-->
		<Step label="CHECK_GRILL" cmd="PosCSOGoAheadIfOnGrillModeJS  'true'" labelTrue="CANCEL_GRILL" labelFalse="VOID_SALE" /><!--Verifies if the NP6 kernel context is on grill process.-->
		<Step label="CANCEL_GRILL" cmd="PosDoGrillEnd  '2'" />
		<Step label="VOID_SALE" cmd="PosNGKVoidOrderJS" />
		<Step label="GO_HOME" cmd="PosCSOGoHomeJS" /> <!--Resets the initial states to show the main screen-->
		<Step cmd="PosCSOEndTransaction" /> <!--Closes a Transaction in the UI.-->
		<Step cmd="PosCSOUpdateSharedContextJS 'add' 'IS_CUSTOMIZING_VM' 'false'" /> <!--Update the SHARED_CTX-->
		<Step cmd="PosCSOSendSharedContextJS" /> <!--sends the shared context to UI-->
	</Workflow>

	<!--
		WF_CSO_DoCompleteOrder	
		Purpose: This workflow confirm if the order is correct, check if "delivery later" is available and show the "delivery later sumary" screen if available, check if "table service" is available and show the "choose table service" screen if available, and tenders a sale.
		
		Parameters:	
			$TenderId 					- Tender type/Id (The value of this parameter is stored on "CSO_TenderId" session property and used by "PosCSODoTenderJS", if no tender type is provided);
	-->
	<Workflow name="WF_CSO_DoCompleteOrder" parameters="$TenderId">
		<!--Step cmd="PosCSOCheckPrinterStatusJS"/-->
		<Step cmd="PosCSOCheckTenderAvailable" /> <!--Checks the sale on Tender-->
		<Step cmd="PosCSOValidatePromosJS" />
		<Step cmd="PosCSOBeginTransaction" /> <!--Opens a Transaction in the UI.-->
		<Step cmd="PosDoTotal" labelFalse="END_TRANSACTION" />
		<!-- EQA-955 - [November Release][6.1.21RC13HF1][SL 2.80.02a][Local Promotions][Lab 05][FR] Local Promotion coupon products being charged at regular price -->
		<Step cmd="PosCSOCheckLocalPromotionBarcodeDiscount" />
		<Step cmd="PosCSOShowBalloonMessageJS 'CSO_MSG_ORDER_CORRECT' 'MSG_YES' 'MSG_NO' 'false' 'true'" labelFalse="BACKFROMTOTAL" />

		<Step cmd="PosCSOLockBarcodesBeforeTender" labelFalse="BACKFROMTOTAL" />

		<Step cmd="PosCSOIsDeliveryLaterAvailableJS '7201' '90000120'" labelFalse="SKIP_DELIVERYLATER" /> <!--Check if "delivery later" is available and creates the view. '7201' is the delivery later screen number, and '90000120' is the delivery later product code".-->
		<Step cmd="PosCSOEnqueueWFExecutionJS 'WF_CSO_ShowDeliveryLater'" /> <!-- Enqueue WF for later execution. -->
		<Step label="SKIP_DELIVERYLATER" />

		<!-- SDO-4672 -->
		<!-- Check to see if all the Kiosk's required services are available. If at least one is not, proceed as if the customer had chosen the "pay at
			 front counter" option. This way a pick list will be printed and the user will be able to hold on to his order. -->
		<Step cmd="PosCSOCheckRequiredServicesAvailableJS" labelFalse="PAY_AT_COUNTER" />

		<!-- NPS-9788: Enable Kiosk v4 compatibility to NP6.1.19 -->
		<Step cmd="PosCSOCheckNewPosVersionJS '6.1.19'" labelTrue="CONTINUE_SALE" labelFalse="CONTINUE_VALIDATION" />
		<!-- NPS-9457: Redirect Customer to FC for Issues with Kiosk Generated Barcode - 5691038 -->
		<Step label="CONTINUE_VALIDATION" cmd="PosCSOCheckPayAtCounterJS" labelTrue="PAY_AT_COUNTER" labelFalse="ASK_WHERE_TO_PAY" />

		<!-- NPS-8550 -->
		<Step label="ASK_WHERE_TO_PAY" cmd="PosCSOShowMultilineBalloonMessageJS '' 'CSO_BTN_REROUTE_PAY_HERE_TITLE_1' 'CSO_BTN_REROUTE_PAY_HERE_TITLE_2' 'CSO_BTN_REROUTE_PAY_AT_COUNTER_TITLE_1' 'CSO_BTN_REROUTE_PAY_AT_COUNTER_TITLE_2'" labelTrue="PROCESS_PAYMENT_DECISION" labelFalse="BACKFROMTOTAL" />

		<Step label="PROCESS_PAYMENT_DECISION" cmd="PosCSOProcessMultilineBalloonResultJS" labelTrue="CONTINUE_SALE" labelFalse="PAY_AT_COUNTER" />

		<Step label="PAY_AT_COUNTER" cmd="PosCSOEnqueueWFExecutionJS 'WF_CSO_ForwardOrderToFC'" />
		<Step cmd="PosCSOExecuteWFFromQueueJS" labelTrue="EXIT" /> <!-- Dequeue and execute the first WF from the execution queue. -->

		<Step label="CONTINUE_SALE" cmd="PosCSOShowBarcodeLocalPromotionsJS" labelFalse="SKIP_PROMOTIONS" />
		<Step cmd="PosCSOStoreSelectedBarcodePromotionProductsJS" />

		<Step label="SKIP_PROMOTIONS" cmd="PosCSOIsTableServiceAvailableJS" labelFalse="SKIP_TABLESERVICE" /> <!--Check if "table service" is available -->
		<Step cmd="PosDisplayTableServiceScreenWithFloorPlanJS" labelFalse="TABLESERVICE_WITHOUT_FLOORPLAN" />
		<Step cmd="PosCSOAskTableServiceJS" labelTrue="SKIP_TABLESERVICE" labelFalse="SKIP_TABLESERVICE" />
		<Step label="TABLESERVICE_WITHOUT_FLOORPLAN" cmd="PosCSOEnqueueWFExecutionJS 'WF_CSO_ShowTableService'" /><!-- Enqueue WF for later execution. -->
		<Step label="SKIP_TABLESERVICE" />

		<Step cmd="PosSetSessionProperty  'CSO_TenderId' $TenderId 'false'" /> <!-- Store the '$TenderId' on  'CSO_TenderId' for later use by the step 'PosCSODoTenderJS', if no 'TenderId' provided -->
		<Step cmd="PosCSOEnqueueWFExecutionJS 'WF_CSO_DoTender'" /><!-- Enqueue WF for later execution. -->

		<Step cmd="PosCSOExecuteWFFromQueueJS" labelTrue="EXIT" /> <!-- Dequeue and execute the first WF from the execution queue. -->

		<Step label="BACKFROMTOTAL" cmd="PosDoBackFromTotal" labelFalse="UNDO_OFFERS" />
		<Step label="UNDO_OFFERS" cmd="PosBackFromTotalUndoOffer" labelTrue="UNDO_PROMOTIONS" labelFalse="UNDO_PROMOTIONS" />
		<Step label="UNDO_PROMOTIONS" cmd="PosBackFromTotalUndoPromotion" labelTrue="END_TRANSACTION" labelFalse="END_TRANSACTION" />

		<Step label="END_TRANSACTION" cmd="PosCSOEndTransaction" /> <!--Closes a Transaction in the UI.-->
		<!-- EQA-955 - [November Release][6.1.21RC13HF1][SL 2.80.02a][Local Promotions][Lab 05][FR] Local Promotion coupon products being charged at regular price -->
		<Step cmd="PosCSOCheckLocalPromotionBarcodeDiscount" />
	</Workflow>
	
	<!--
		WF_CSO_ForwardOrderToFC	
		Purpose: This workflow forwards a given order to the Front Counter so that the customer can pay there instead of using the cashless payment.
		
		Since: NPS-8550 - Kiosk GUI - Rerouting of Kiosk orders to the front counter queue. 
	-->
	<Workflow name="WF_CSO_ForwardOrderToFC">
		<Step cmd="PosCSORemoveLocalPromotionBarcodesJS" />
		<Step label="STORE_SALE" cmd="PosDoStore 'false'" labelTrue="CREATE_REPORT" labelFalse="STORE_FAILED" />
		
		<Step label="STORE_FAILED" cmd="PosSetSessionProperty  'STORE_FAILED' 'true' 'false'" labelFalse="CREATE_REPORT" />
		
		<Step label="CREATE_REPORT" cmd="PosCSOCreateReportJS 'VIEW' 'ReportCSOPickList#USReceiptReports' 'NOPREVIEW|SAVE'" />
		<Step cmd="PosCSODoShowImageMessageJS 'CSOPickListReceipt.PNG' '5' '' 'CSO_MSG_REROUTE_GO_TO_COUNTER' " /> <!--Creates a XML event informing the UI to show a image into dialog box-->
		<Step label="THANKYOU" cmd="PosCSOShowLocalizedImagePopupJS 'CSOThankYou' '5' 'Kiosk_Order_Complete'" /> <!--Creates a XML event informing the UI to show a image into dialog box-->

		<Step label="GOHOME" cmd="PosCSOGoHomeJS" /> <!--Resets the initial states to show the main screen-->
		<Step cmd="PosCSODoPlaySoundJS 'Kiosk_Greeting'" /> <!--Creates a XML event informing the UI to change its screen number.-->
		<Step cmd="PosCSOEndTransaction" /> <!--Closes a Transaction in the UI.-->
	</Workflow>
	
	<!--
		WF_CSO_ShowDeleveryLater	
		Purpose: Sends the Delivery Later Sumary view to Kiosk
	-->
	<Workflow name="WF_CSO_ShowDeliveryLater">
		<Step cmd="PosCSOShowDeliveryLaterJS" /> <!-- Sends the delivery later sumary view to Kiosk. The step 'PosCSOIsDeliveryLaterAvailableJS' should be called and returned 'true'. -->
	</Workflow>
	
	<!--
		WF_CSO_EndDeleveryLater	
		Purpose: Confirm or Cancel the changes done on Delivery Later Sumary screen and closes the popup.
		
		Parameters:	
			$ConfirmChanges 					- True if the changes should be applied, False to discard all changes;
	-->
	<Workflow name="WF_CSO_EndDeliveryLater" parameters="$ConfirmChanges">
		<Step cmd="PosCSOEndDeliveryLaterJS $ConfirmChanges" />
		<Step cmd="PosCSOExecuteWFFromQueueJS" />
	</Workflow>
	
	<!--
		WF_CSO_ShowTableService	
		Purpose: Show the Delivery Later screen
	-->
	<Workflow name="WF_CSO_ShowTableService">
		<Step cmd="PosCSOShowTableServiceJS '7100'" /> <!--Implements a Table Service logic-->
	</Workflow>
	
	<!--
		WF_CSO_EndTableService	
		Purpose: Confirm or Cancel the changes done on Table Service screens and closes the popup.
		
		Parameters:	
			$ConfirmChanges 					- True if the changes should be applied, False to discard all changes;
	-->
	<Workflow name="WF_CSO_EndTableService" parameters="$ConfirmChanges">
		<Step cmd="PosCSOEndTableServiceJS $ConfirmChanges" />
		<Step cmd="PosCSOExecuteWFFromQueueJS" />
	</Workflow>
	
	<!--
		WF_CSO_DoTender	
		Purpose: This workflow tenders a sale
		
		Parameters:	
			$TenderId 					- Tender type/Id  (-1 for native currency);
	-->
	<Workflow name="WF_CSO_DoTender" parameters="$TenderId">
		<Step cmd="PosCSOIsTrnInProgressJS  'false'" /><!-- Verifies if there is a transaction in progress -->
		<Step cmd="PosCSODoStopWhenOnGrillModeJS  'false'" /><!-- Verifies if the NP6 kernel context is on grill process -->
		<Step cmd="PosCSODoShowPromoItemsJS" /> <!--Retrieves the qualified promotions for the current order and sends a command to the UI to show the products to the customer-->
		
		<Step cmd="PosSetSessionProperty  'ON_TENDER' 'true' 'false'" />
				
		<Step cmd="PosCSOIsZeroAmoutOrderJS" labelTrue="TENDER_ZERO_AMOUNT" labelFalse="TENDER_CASHLESS" />
		<Step label="TENDER_ZERO_AMOUNT" cmd="PosCSODoTenderZeroAmoutOrderJS '9'" labelTrue="PRINT_BARCODE" labelFalse="GOHOME" />
		<Step label="TENDER_CASHLESS" cmd="PosCSODoTenderJS $TenderId '-1'" labelTrue="PRINT_BARCODE" labelFalse="PROCESS_FAILURE" />
		
		
		<Step label="PROCESS_FAILURE" cmd="PosCSOProcessEFTFailureJS" labelFalse="GOHOME" />
		<Step cmd="PosCSOEnqueueWFExecutionJS 'WF_CSO_ForwardOrderToFC'" />
		<Step cmd="PosCSOExecuteWFFromQueueJS" labelTrue="EXIT" /> <!-- Dequeue and execute the first WF from the execution queue. -->
		
		<Step label="PRINT_BARCODE" cmd="PosCSOChangeStoredBarcodeStatusJS 'USED' 'true'" />
		
		<Step cmd="PosCSOPrintBarCodeJS" />
		<Step cmd="PosCSOCheckPendingBarcodeLocalPromotionJS" labelFalse="SKIP_PROMOTION_BARCODE_PRINTING" />
		<Step cmd="PosCSOStoreNewBarcodeLocalPromotionFileJS" labelFalse="SKIP_PROMOTION_BARCODE_PRINTING" />
		<Step cmd="PosCSOPrintBarcodeLocalPromotionJS" labelFalse="SKIP_PROMOTION_BARCODE_PRINTING" />
		<Step label="SKIP_PROMOTION_BARCODE_PRINTING" cmd="PosDoEndOfSale" />
		<Step cmd="PosCSODoTenderCreateReceiptJS '1' 'VIEW' '' 'NOPREVIEW|SAVE'" />
		
		<Step cmd="PosCompareValues '_CSO_isTableServiceActive' 'true'" labelTrue="THANKYOU" labelFalse="USING_MANUALCOUNTER" />
		<Step label="USING_MANUALCOUNTER" cmd="PosCSOShowLocalizedImagePopupJS 'CSOManualCounterInstructions' '15' '' '_orderNumber' '(140,120),(140,340)'" /> <!--Creates a XML event informing the UI to show a image into dialog box-->
		<!-- If the market chooses to use a configurable position number, then use this step -->
		<!--Step label="USING_MANUALCOUNTER" cmd="PosCSOShowImageOrderId '15' ''" /--> <!--CES-1786: Kiosk v4 RC3 - Ticket number position on the Manual Counter screen is only configurable via the workflow.xml file.-->
		<Step label="THANKYOU" cmd="PosCSOShowLocalizedImagePopupJS 'CSOThankYou' '5' 'Kiosk_Order_Complete'" /> <!--Creates a XML event informing the UI to show a image into dialog box-->
		
		<Step label="GOHOME" cmd="PosCSOGoHomeJS" /> <!--Resets the initial states to show the main screen-->
		<Step cmd="PosCSODoPlaySoundJS 'Kiosk_Greeting'" /> <!--Creates a XML event informing the UI to change its screen number.-->
		<Step label="END_TRANSACTION" cmd="PosCSOEndTransaction" /> <!--Closes a Transaction in the UI.-->
	</Workflow>
	
	<!--
		WF_CSO_SetChoiceFiller	
		Purpose: This workflow sets session property (store wide) to auto replace/default item
		
		Parameters:	
			$choiceCode 	- Code of choice to be mapped 
			$productCodeTo 	- Product to be saled instead of that choice
	-->
	<Workflow name="WF_CSO_SetChoiceFiller" parameters="$choiceCode $productCodeTo">
		<Step cmd="PosCSOSetChoiceFillerJS $choiceCode $productCodeTo" /> <!--Set session property to auto replace/ default item-->
	</Workflow>	
	
	<!--
		WF_CSO_ResetChoiceFiller	
		Purpose: This workflow removes session property (store wide) to auto replace/default item
		
		Parameters:	
			$choiceCode 	- Code of choice to be removed 
	-->
	<Workflow name="WF_CSO_ResetChoiceFiller" parameters="$choiceCode">
		<Step cmd="PosCSOResetChoiceFillerJS $choiceCode" /> <!--Remove session property to auto replace/ default item-->
	</Workflow>
	
	<!--
		WF_CSO_UpdateSharedContext
		Purpose: This workflow is called when some value of SharedContext is modified on UI side
		
		Parameters:	
			$Action -  The desired action - 'clear', 'remove', 'add'
			$Key - The key to be added or removed (this parameter is ignored if the action is 'clear')
			$Value - The value to be added (this parameter is ignored if the action is 'clear' or 'add')
	-->
	<Workflow name="WF_CSO_UpdateSharedContext" parameters="$Action $Key $Value">
		<Step cmd="PosCSOUpdateSharedContextJS $Action $Key $Value" /> <!--Update the SHARED_CTX-->
	</Workflow>
	
	<!--
		WF_CSO_SetDeliveryLater
		Purpose: This workflow is used during the "Delivery Later Sumary Screen" for set the given item for delivery later or not. If 'Index' = -1, all items will have its value setted
		
		Parameters:	
			$Index - Item index to be set - "-1" = all items will have its value setted
			$Later - true = later / false = now
	-->
	<Workflow name="WF_CSO_SetDeliveryLater" parameters="$Index $Later">
		<Step cmd="PosCSOSetDeliveryLaterJS $Index $Later" /> <!--Used for set the given item for delivery later or not-->
	</Workflow>
	
	<!--
		WF_CSO_DecreaseQuantity
		Purpose: This workflow decreases one unit of given item - Called when '-' button on cart item is pressed
		
		Parameters:	
			$ItemIndex - Item index to be decreased
	-->
	<Workflow name="WF_CSO_DecreaseQuantity" parameters="$ItemIndex">
		<Step cmd="PosCSOIsTrnInProgressJS  'false'" /><!-- Verifies if there is a transaction in progress -->
		<Step cmd="PosCSODoStopWhenOnGrillModeJS  'false'" /><!-- Verifies if the NP6 kernel context is on grill process -->
		<Step cmd="PosCSODecreaseQuantityJS $ItemIndex" /> <!--Decrease one unit of given item-->
	</Workflow>
	
	<!--
		WF_CSO_DoCloneItem
		Purpose: This workflow increases one unit of given item (clone the item, including grills) - Called when '+' button on cart item is pressed
		
		Parameters:	
			$ItemIndex - Item index to be cloned
			$BarCode - The receipt barcode
	-->
	<Workflow name="WF_CSO_DoCloneItem" parameters="$ItemIndex $BarCode">
		<Step cmd="PosCSOIsTrnInProgressJS  'false'" /><!-- Verifies if there is a transaction in progress -->
		<Step cmd="PosCSODoStopWhenOnGrillModeJS  'false'" /><!-- Verifies if the NP6 kernel context is on grill process -->
		<Step cmd="PosCSODoCloneItemJS  $ItemIndex $BarCode" /> <!--Clones a given item.-->
	</Workflow>
	
	<Workflow name="WF_CSO_DoCloneItemGroup" parameters="$GroupId">
		<Step cmd="PosCSOIsTrnInProgressJS  'false'" /><!-- Verifies if there is a transaction in progress -->
		<Step cmd="PosCSODoStopWhenOnGrillModeJS  'false'" /><!-- Verifies if the NP6 kernel context is on grill process -->
		<Step cmd="PosCSODoCloneItemGroupJS  $GroupId" /> <!--Clones the given item group.-->
	</Workflow>
	
	<!-- KIOSK GRILL WFs START -->
	
	<!--
		WF_CSO_ShowCustomizeScreen
		Purpose: This workflow is called when 'customize' cart button is clicked 
		
		Parameters:	
			$ItemIndex - Item index to be grilled
	-->
	<Workflow name="WF_CSO_ShowCustomizeScreen" parameters="$ItemIndex">
		<Step cmd="PosCSOIsTrnInProgressJS  'false'" /> <!-- Verifies if there is a transaction in progress -->
		<Step cmd="PosCSODoStopWhenOnGrillModeJS  'false'" /> <!-- Verifies if the NP6 kernel context is on grill process -->

		<Step cmd="PosCSOShowCustomizeScreenJS  $ItemIndex" /> <!-- If the product has more than one customizable item, send the CustomizeOptions view, otherwise start the grill for the required item -->
	</Workflow>
	
	<!--
		WF_CSO_CustomizeProductComponent	
		Purpose: This workflow is called when 'customize' button on a customize options screen is clicked
		
		Parameters:	
			$CompIndex - Component index to be grilled
	-->
	<Workflow name="WF_CSO_CustomizeProductComponent" parameters="$CompIndex">
		<Step cmd="PosCSOIsTrnInProgressJS  'false'" /> <!-- Verifies if there is a transaction in progress -->
		<Step cmd="PosCSODoStopWhenOnGrillModeJS  'false'" /> <!-- Verifies if the NP6 kernel context is on grill process -->
		
		<Step cmd="PosCSOCustomizeProductComponentJS $CompIndex" /> <!-- Start the grill process of given component index -->
	</Workflow>
	
	<!--
		WF_CSO_ClearGrill	
		Purpose: This workflow clears all grills, making it default
	-->
	<Workflow name="WF_CSO_ClearGrill">
		<Step cmd="PosCSOGoAheadIfOnGrillModeJS  'false'" /> <!--Verifies if the NP6 kernel context is on grill process.-->
		<Step cmd="PosCSOClearGrillJS" />
	</Workflow>
	
	<!--
		WF_CSO_DoGrillEnd	
		Purpose: This workflow ends a grill operation
		
		Parameters:	
			$Type - 0-cancel, 1-commit, 2-cancel and end, 3-commit and end 
	-->
	<Workflow name="WF_CSO_DoGrillEnd" parameters="$Type">
		<Step cmd="PosCSOGoAheadIfOnGrillModeJS  'false'" /> <!--Verifies if the NP6 kernel context is on grill process.-->
		<Step cmd="PosCSOEndCurrentGrillJS  $Type" /> <!--Ends a grill operation and sends the corresponding event to the UI-->
		
		<Step cmd="PosCSOIsOnLoopMealJS" labelFalse="CHECKGRILLSTOP" />
		<Step cmd="PosCSOShowNextLoopMealGrillJS" labelTrue="EXIT" labelFalse="HASLOOPMEALENDED" />
		<Step label="HASLOOPMEALENDED" cmd="PosCSOHasLoopMealEndedJS" labelFalse="SENDLOOPMEALVIEW" />
		<Step cmd="PosCSOOrderLoopMealProductsJS" />
		<Step cmd="PosCSOProcessPendingGrillOperationsJS" labelTrue="EXIT" />
		<Step label="SENDLOOPMEALVIEW" cmd="PosCSOSendLoopMealViewJS" labelTrue="EXIT" />
		<Step label="CHECKGRILLSTOP" cmd="PosCSODoStopWhenOnGrillModeJS  'false'" />
	</Workflow>
	
	<!--
		WF_CSO_DoChangeChoice	
		Purpose: This workflow clears the choice for current selected item 
		
		Parameters:	
			$NewProduct
	-->
	<Workflow name="WF_CSO_DoChangeChoice" parameters="$OriginProduct $NewProduct">
		<Step cmd="PosCSOIsTrnInProgressJS  'false'" /><!-- Verifies if there is a transaction in progress -->
		<Step cmd="PosCSODoStopWhenOnGrillModeJS  'false'" /><!-- Verifies if the NP6 kernel context is on grill process -->
		<Step cmd="PosCSOChangeChoiceJS $OriginProduct $NewProduct" /> <!--Changes a choice for selected product and replaces with passed product-->
	</Workflow>
	
	<!--
		WF_CSO_DoGrillAddRemove	
		Purpose: This workflow adds or removes one unit of the grilled quantities
		
		Parameters:	
			$ItemIndex - Grill item index
			$$Oper
	-->
	<Workflow name="WF_CSO_DoGrillAddRemove" parameters="$ItemIndex $Oper">
		<Step cmd="PosCSOGoAheadIfOnGrillModeJS  'false'" /> <!--Verifies if the NP6 kernel context is on grill process.-->
		<Step cmd="PosCSODoGrillOper  $Oper '-1' $ItemIndex" />
	</Workflow>
	
	<!--
		WF_CSO_DoGrillAddRemoveAll	
		Purpose: This workflow removes the grilled quantities until it reaches the minimun quantity or adds until it reaches the maximum quantity
		
		Parameters:	
			$ItemIndex - Item index to be removed
			$$Oper
	-->
	<Workflow name="WF_CSO_DoGrillAddRemoveAll" parameters="$ItemIndex $Oper">
		<Step cmd="PosCSOGoAheadIfOnGrillModeJS  'false'" /> <!--Verifies if the NP6 kernel context is on grill process.-->
		<Step cmd="PosCSODoGrillAddRemoveAllJS  $Oper '-1' $ItemIndex" /> <!--Removes the grilled quantities until it reaches the minimun quantity or adds until it reaches the maximum quantity-->
	</Workflow>
	
	<!--
		WF_CSO_SetGrillModifier	
		Purpose: This workflow sets a grill modifier
		
		Parameters:	
			$ItemIndex - Item index to be modified
			$$Bit
	-->
	<Workflow name="WF_CSO_SetGrillModifier" parameters="$ItemIndex $Bit">
		<Step cmd="PosCSOGoAheadIfOnGrillModeJS  'false'" /> <!--Verifies if the NP6 kernel context is on grill process.-->
		<Step cmd="PosDoGrillOper  'c' '-1' $ItemIndex" />
		<Step cmd="PosDoGrillOper  '0' $Bit $ItemIndex" />
	</Workflow>
	
	<!--
		WF_CSO_AddRemovePortions
		Purpose: This workflow adds or removes a portion of a given ingredient.
		
		Parameters:
			$ItemIndex - Index of the ingredient that will be modified.
			$Oper - Operation that will be performed: "+" or "p" adds a portion and "-" or "m" removes a portion
			
		Since:
			NPS-8384 - Kiosk GUI - Enable Portion-Based Configuration Options on the "Full" Customization Screen.
	-->
	<Workflow name="WF_CSO_AddRemovePortions" parameters="$ItemIndex $Oper">
		<Step cmd="PosCSOGoAheadIfOnGrillModeJS  'false'" /> <!--Verifies if the NP6 kernel context is on grill process.-->
		<Step cmd="PosCSODoGrillAddRemovePortionBasedJS $Oper $ItemIndex" />
	</Workflow>
	
	<!-- 
	
		Since:
			NPS - 8385 Kiosk GUI - Enable a Swap Configuration Option on the Full Customization Screen.
	-->
	<Workflow name="WF_CSO_SwapIngredient" parameters="$OriginalItem $NewItem">
		<Step cmd="PosCSOGoAheadIfOnGrillModeJS  'false'" /> <!--Verifies if the NP6 kernel context is on grill process.-->
		<Step cmd="PosCSODoGrillAddRemoveAllJS  '-' '-1' $OriginalItem" />
		<Step cmd="PosCSODoGrillOper '+' '-1' $NewItem" />
	</Workflow>
	
	<!--
		WF_CSO_MakeItPlain	
		Purpose: This workflow sets all items to its minimum quantity
	-->
	<Workflow name="WF_CSO_MakeItPlain">
		<Step cmd="PosCSOGoAheadIfOnGrillModeJS  'false'" /> <!--Verifies if the NP6 kernel context is on grill process.-->
		<Step cmd="PosCSOMakeItPlainJS" />
	</Workflow>
	<!-- KIOSK GRILL WFs END -->
	
	<!-- Remote login-->
	<Workflow name="WF_CSO_RemoteLoginAllCSO" parameters="$Timeout $Forced">
		<Step cmd="PosCSODoSWLoginJS $Timeout $Forced" />
	</Workflow> 
	
	<!-- Remote logout-->
	<Workflow name="WF_CSO_RemoteLogoutAllCSO" parameters="$Timeout $Forced">
		<Step cmd="PosCSODoSWLogoutJS $Timeout $Forced" />
	</Workflow>

	<Workflow name="WF_DoRemoteOperatorLogin" parameters="$oper">
		<Step cmd="PosCheckCashDrawer" />
		<Step cmd="PosDoOperatorLogin 'false' 'true' '$oper'" /> <!-- CYT: Fix remote login -->
		<Step cmd="PosRefreshButtons" />
	</Workflow>
	
	<!-- 
		WF_CSO_SwitchUI
		Purpose:	This workflow will change the CSO pos-db. When the CSO is configured with the CSO UI it will change
					to de Register UI, and vice-versa. CSO is shutdown and in the next initialization it will load the
					new configuration.
		Parameters:	None
	-->
	<Workflow name="WF_CSO_SwitchUI">
		<Step cmd="PosNotATransactionInProgress" />
		<Step cmd="PosSwitchCSOUIJS" />
		<Step cmd="PosShutdown '91' 'this' 'true'" />
	</Workflow>
	
	<!--
		WF_EnableDisableMyMcDonaldsButton
		Purpose:	This workflow will enable/disable the hidden button in the choosen CSO, which switchs the CSO UI.
		Parameters:
			$Value - 'true' to enable and 'false' to disable.
	-->
	<Workflow name="WF_EnableDisableMyMcDonaldsButton" parameters="$KIOSKName $POSNumber $Value">
		<Step cmd="PosItemSelection $KIOSKName $POSNumber '' 'Choose a CSO'" />
		<Step cmd="PosCSOSetVariableSessionProperty '_SelectedButtonValue' 'CanLogin' $Value 'false' 'true'" />
	</Workflow>

	<!--
		WF_CSO_ShowPrice	
		Purpose: Shows product's price on screen
	-->
	<Workflow name="WF_CSO_ShowPrice" parameters="$COLOUR">
		<Step cmd="PosCSOShowPriceJS" />
		<Step cmd="PosCSOSetColourPriceJS $COLOUR" />
	</Workflow>
	
	<!--
		WF_CSO_SetSaleProperty	
		Purpose: Set the value of a sale property
		
		Parameters:
			$Name	- Name of the property to be set
			$Value	- Value that should be set to the property
	-->
	<Workflow name="WF_CSO_SetSaleProperty" parameters="$Name $Value">
		<Step cmd="PosCSOSetSaleProperty $Name $Value" />
	</Workflow>

	<!--
		WF_CSO_ShowPreviousScreen	
		Purpose: Show the previously visited main screen
	-->
	<Workflow name="WF_CSO_ShowPreviousScreen">
		<Step cmd="PosCSODoShowPreviousScreenJS" />
	</Workflow>
	
	<!--
		WF_CSO_LocalPromotionAvailability	
		Purpose: Send a message to the UI informing if local promotions are available or not
	-->
	<Workflow name="WF_CSO_LocalPromotionAvailability">
		<Step cmd="PosCSOSendPromoAvailableJS" />
	</Workflow>
	
	<!--
		WF_CSO_ShowLocalPromotions
		Purpose: Show local promotions
	-->
    <Workflow name="WF_CSO_ShowLocalPromotions">
		<Step cmd="PosCSOShowLocalPromotionsJS" labelFalse="EXIT" />		
		<Step cmd="PosCSOValidatePromotionPropertiesJS '_SelectedButtonValue'" />
		<Step cmd="PosCSOShowPromotionConfirmationMessageJS '_SelectedButtonValue'" />
		<Step cmd="PosCSOValidateBarcodeJS '_SelectedButtonValue'" />
		<Step cmd="PosCSOEnqueueWFExecutionJS 'WF_CSO_StartPromotion'" />
		<Step cmd="PosCSOExecuteWFFromQueueJS" />
	</Workflow>
	
	<!--
		WF_CSO_RedeemLocalPromotionBarcode	
		Purpose: This workflow checks if the barcode entered is valid for the selected local promotion.
		
		Parameters:	
			$BarCode - The barcode entered by the user
	-->
	<Workflow name="WF_CSO_RedeemLocalPromotionBarcode" parameters="$BarCode $Mode">
		<Step cmd="PosCSOValidateBarcodeModeJS $Mode" labelTrue="BARCODEVALIDATION" labelFalse="BARCODEREDEEM" />
		<Step label="BARCODEVALIDATION" cmd="PosCSOCheckLocalPromotionBarcodeJS $BarCode" /> <!--Retrieves the redeemable product from the barcode string.-->
		<Step cmd="PosCSOEnqueueWFExecutionJS 'WF_CSO_StartPromotion'" />
		<Step cmd="PosCSOExecuteWFFromQueueJS" labelTrue="EXIT" />
		<Step label="BARCODEREDEEM" cmd="PosCSORedeemLocalPromotionBarcodeJS $BarCode" />
	</Workflow>
	
	<!--
		WF_CSO_FinishLocalPromotionBarcodeRedemption	
		Purpose: This workflow validates the barcode dates and minimum amount and if so add its elements to the order basket.
		
		Parameters:	
			$BarCodeInfo - The barcode content
	-->
	<Workflow name="WF_CSO_FinishLocalPromotionBarcodeRedemption" parameters="$BarcodeInfo">
		<Step cmd="PosCSOValidateBarcodeInfoJS $BarcodeInfo" labelFalse="RELEASE" />
		<Step cmd="PosCSOFinishBarcodePromotionJS $BarcodeInfo" labelTrue="EXIT" labelFalse="RELEASE" />
		<Step label="RELEASE" cmd="PosCSOReleaseBarcodeJS $BarcodeInfo" />
	</Workflow>
	
	<!--
		WF_CSO_StartPromotion	
		Purpose: This workflow starts the promotion loop.
	-->
	<Workflow name="WF_CSO_StartPromotion">
		<Step cmd="PosCSOStartPromotionJS" />
	</Workflow>
    
    <!--
		WF_CSO_ReloadPromotions	
		Purpose: This workflow starts the reload process.
	-->
	<Workflow name="WF_CSO_ReloadPromotions">
		<Step cmd="PosSetSessionProperty 'NEW_LOCAL_PROMOTIONS_AVAILABLE' 'true' 'false'" />
		<Step cmd="PosCSOReloadLocalPromotionsJS" />
	</Workflow>

	<Workflow name="WF_CSO_FinishPromotion" parameters="$ChoiceCodes $OfferCodes $AuxData">
		<Step cmd="PosCSOFinishPromotionJS $ChoiceCodes $OfferCodes $AuxData" />
	</Workflow>

	<Workflow name="WF_CSO_FinishItemGroupCustomization">
		<Step cmd="PosFinishItemGroupCustomizationJS" />
	</Workflow>
	
	<Workflow name="WF_CSO_ShowLocalPromotionBarcodeReader">
		<Step cmd="PosCSODoShowLocalPromotionBarcodeReaderJS 'REDEEM'" />
	</Workflow>
	<!-- NVS-2369 - Add the ability to remotely OpenClose a Kiosk from the POS Support Menu --> 
	<Workflow name="WF_NGKRemoteDayOpen" parameters=""> 
		<Step cmd="PosGetAuthorizationJSUS 'manager' 'false'" /> 
		<Step label="START" cmd="PosChooseRemotePOS '2' 'Select a POS to Open Day' 'Do you really want to open day on selected POS?'" labelFalse="END" /> 
		<Step cmd="PosRemoteExecute '_SELECTED_REMPOS' 'PosRPSCheckAvailability'" labelFalse="ERROR" /> 
		<Step cmd="PosRemoteExecute '_SELECTED_REMPOS' 'PosSetSessionProperty' 'savePosReport' 'true'" labelFalse="ERROR" /> 
		<Step cmd="NGKRemoteDayOpen '_SELECTED_REMPOS'" labelFalse="ERROR" /> 
		<Step cmd="PosRemoteExecute '_SELECTED_REMPOS' 'PosSetSessionProperty' 'firstSaleDone' 'false' 'true'" labelFalse="ERROR" /> 
		<!-- REMOTE REPORT --> 
		<Step label="REPORT" cmd="PosRemoteExecute '_SELECTED_REMPOS' 'PosCreateReport' 'CASH' 'ReportDayOpen#USRestaurantOpsReports' 'NOPREVIEW'" labelFalse="ERROR" /> 
		<Step cmd="PosShowConfirmationMessage 'Do you want to Open Day another POS?' 'MSG_YES' 'MSG_CANCEL'" labelTrue="START" labelFalse="END" /> 
		<Step label="ERROR" cmd="PosShowMessage 'Could not execute the requested operation !!'" /> 
		<Step label="END" /> 
	</Workflow> 
	<!-- NVS-2369 - Add the ability to remotely OpenClose a Kiosk from the POS Support Menu --> 
	<Workflow name="WF_NGKRemoteDayEnd" parameters=""> 
		<Step cmd="PosGetAuthorizationJSUS 'manager' 'false'" /> 
		<Step label="START" cmd="PosChooseRemotePOS '3' 'Select a POS to Close Day' 'Do you really want to close day on selected POS?'" labelFalse="END" /> 
		<Step cmd="PosRemoteExecute '_SELECTED_REMPOS' 'PosRPSCheckAvailability'" labelFalse="ERROR" /> 
		<Step cmd="PosRemoteExecute '_SELECTED_REMPOS' 'PosEndOfDay' 'execute' 'remote'" labelFalse="ERROR" /> 
		<!-- REMOTE REPORT --> 
		<Step label="REPORT" cmd="PosRemoteExecute '_SELECTED_REMPOS' 'PosCreateReport' 'ALL' 'ReportEndOfDay#USCashReports' 'NOPREVIEW'" labelFalse="ERROR" /> 
		<Step cmd="PosShowConfirmationMessage 'Do you want to Close Day another POS?' 'MSG_YES' 'MSG_CANCEL'" labelTrue="START" labelFalse="END" /> 
		<Step label="ERROR" cmd="PosShowMessage 'Could not execute the requested operation !!'" /> 
		<Step label="END" /> 
	</Workflow>
	<!-- CSO-282 - NVS-3494 Localize CR 8024409 - CYT Redesign V1 Main Screen Navigation and Redesign V2 -->
	<Workflow name="WF_NGK_CYTShowScreen" parameters="$ProductType $GroupFilter"> 
		<Step cmd="PosNGKShowCYTorPreBuiltSelectionScreenJS $ProductType $GroupFilter" />
	</Workflow> 	
	<!-- CSO-463 -->
	<Workflow name="WF_NGK_RoundEnergyValue" parameters="$EnergyValue $RoundingRequestID"> 
		<Step cmd="POSCSORoundEnergyValueFromUI $EnergyValue $RoundingRequestID" /> 
	</Workflow>	
	<Workflow name="WF_CheckDualPointDoubleBump" parameters="$Disable $Enable">
	   <Step cmd="POSCheckDualPointDoubleBumpJS $Disable $Enable" />
	</Workflow>
	<Workflow name="WF_ToggleDualPointDoubleBump" parameters="$Disable $Enable">
	  <Step cmd="PosToggleDualPointDoubleBump" />
	  <Step cmd="POSCheckDualPointDoubleBumpJS $Disable $Enable" />
	</Workflow>
	
	<Workflow name="WF_RemoteMaint">
		<Step cmd="RemoteKIOSMaintJS" />
	</Workflow>
	<Workflow name="WF_RemotePairPed" parameters="$ButtonNumber $LabelButtonNumber">
		<Step cmd="RemotePEDPairJS $ButtonNumber $LabelButtonNumber" />
	</Workflow>
	<Workflow name="WF_RemoteUnPairPed">
		<Step cmd="RemoteUnPairPEDJS" />
	</Workflow>
	<Workflow name="WF_RemoteTestMAC">
		<Step cmd="RemoteTestMACJS" />
	</Workflow>
	<Workflow name="WF_RemoteDayOpenPED">
		<Step cmd="RemoteDayOpenPEDJS" />
	</Workflow>
	<!-- Felipe Ramas - NVS-4118 - Implement Table Service Model Specifications -->
	<Workflow name="WF_SetVariableTagID" parameters="$type $value">
		<Step cmd="PosSetVariableTagID $type $value" />
	</Workflow>
	<!-- NVS-4929 - Customisation and Order Basket Enhancements -->
	<Workflow name="WF_NGK_GrillExecuteOperation" parameters="$Operation $Index $CurrentGrill $CostInclusive">
		<Step cmd="PosNGKGrillExecuteOperation $Operation $Index $CurrentGrill $CostInclusive" />
	</Workflow>
	<!-- NVS-4929 - Customisation and Order Basket Enhancements -->

	<!-- NVS-4778 Refund by List functionality - Lindomar Araujo - Aug/26/2016 -->
	<Workflow name="WF_RefundByOrderIdOrData"> 
		<Step cmd="PosStopResumeScreenTimeOutJS 'false'" labelFalse="CLEAR_CASHLESS_STRING" />
		<!-- Clear the cashless string so it doesn't end up on the wrong receipt -->
		<Step label="CLEAR_CASHLESS_STRING" cmd="PosRemoveSessionProperty 'CASHLESS'" />
		<Step cmd="PosRefundByOrderIdOrData_JSUS" labelFalse="CLEAR_OFFER_MESSAGE" />
		<Step cmd="PosCreateReceiptJS '0' 'VIEW' 'Receipt#USReceiptReports' 'NOPREVIEW|SAVE'" labelFalse="CLEAR_OFFER_MESSAGE" />
		<Step label="CLEAR_OFFER_MESSAGE" cmd="PosOffersClearMessage" />
		<Step label="RESUME_TIMEOUT_SCREEN" cmd="PosStopResumeScreenTimeOutJS 'true'" />
		<!-- NVS-5337 Reset PED after cashless refund - John Brancaleon - 22/SEPT/2016 -->
		<Step cmd="PosCheckParameter 'Cashless3' 'Active' 'true'" labelTrue="RESETPED" labelFalse="EXIT_WF" />
		<Step label="RESETPED" cmd="PosDisplayLaneOpenMessage30" />
		<Step label="EXIT_WF" />		
	</Workflow>

	<!-- NVS-5208 WF_ShowNextCYTGrillScreen: this workflow is used to navigate to another CYT Grill Screen - Kalpesh Dave -->
	<Workflow name="WF_ShowNextCYTGrillScreen" parameters="$ScreenNumber">
		<Step cmd="PosShowNextCYTGrillScreen $ScreenNumber" />
	</Workflow> 
	
	<!-- Lindomar Araujo - NVS-4646 (CR#8063901 - CR#8610096) - Full Customer Choice Enhancements -->
	<Workflow name="WF_ShowAvailableChoices" parameters="$SaveCurrentScreen $ScreenNumber"> 
		<Step cmd="PosNotATransactionInProgress 'true'" labelFalse="GO_AHEAD" labelTrue="NO_OPEN_SALE" /> <!-- Lindomar Araujo - 2017/Jan/03 NVS-6435 To display a different message when no order is in progress --> 
		<Step label="NO_OPEN_SALE" cmd="PosShowMessage 'MSG_BC_NOOPENSALE'" labelTrue="EXIT" /> 
		<Step label="GO_AHEAD" cmd="PosShowChoices $SaveCurrentScreen $ScreenNumber" labelTrue="EXIT" labelFalse="MSG" /> 
		<Step label="MSG" cmd="PosShowMessage 'MSG_ERR_NO_OPEN_CHOICES_SHOW_CHOICES'" /> 
		<Step label="EXIT" /> 
	</Workflow> 
	<Workflow name="WF_DoSaleChoice" parameters="$ProductCode"> 
		<Step cmd="PosSizeSelectionJS '-1' 'false'" />
		<Step cmd="PosRefreshButtons" />
		<Step cmd="PosDoChoiceOnSelectedItem $ProductCode" />
		<Step cmd="PosShowChoices" labelTrue="EXIT" labelFalse="MSG" />
		<Step label="MSG" cmd="PosShowMessage  'MSG_ERR_CLOSE_SHOW_CHOICES_SCREEN'" />
		<Step cmd="PosShowSavedScreen" />
		<Step cmd="PosSetSessionProperty 'persist' 'false'" />
		<Step label="EXIT" />
	</Workflow>
	<Workflow name="WF_ExitAvailableChoicesScreen"> 
		<Step cmd="PosShowSavedScreen" />
	</Workflow>
	<Workflow name="WF_DoManualUnbundleCCM">
		<Step cmd="POSDoManualUnbundleCCM" labelTrue="UnbundleTrue" />
		<!-- NVS-5522 18-OCT-2016 John Brancaleon - After unbundling the CCM, Go back to the menu screen -->
		<Step label="UnbundleTrue" />
		<Step cmd="PosOffersBackFromTotal" /> 
		<Step cmd="PosSetSessionProperty 'discountForPromoOrder' 'false'" />  // NVS-890
		<Step cmd="PosDoBackFromTotal" />
		<Step cmd="PosCheckSessionProperty 'view' ''" labelTrue="SHOWBASESCREEN" labelFalse="PRINT" />
		<Step label="PRINT" cmd="PosCreateReport 'VIEW' 'Receipt#USReceiptReports' 'NOPREVIEW|SAVE' '_CASHLESS'" />
		<Step cmd="PosCheckSessionProperty 'SecondCopyOfReceipt' 'true'" labelFalse="SHOWBASESCREEN" />
		<Step cmd="PosCreateReport  'VIEW' 'Receipt#USReceiptReports' 'NOPREVIEW|SAVE' '_CASHLESS'" />
		<Step cmd="PosSetSessionProperty  'SecondCopyOfReceipt' 'false'" />
		<Step label="SHOWBASESCREEN" cmd="PosShowScreen '_baseScreenId'" /> 
		<Step cmd="PosShowGrillFloatScreen" />
		<Step label="EXIT" />
	</Workflow>
	<Workflow name="WF_RMHCdonationItemAccepted" parameters="$Product $Value $Type"> 
		<Step cmd="PosRMHCdonationAction $Product $Value $Type" /> 
		<Step cmd="PosRefreshButtons" /> 
	</Workflow> 
	<Workflow name="WF_RMHCdonationItemNotAccepted" parameters="$Product"> 
	   <Step cmd="PosRMHCdonationItemNotAcceptedJS $Product 'notAccepted'" /> 
	   <Step cmd="PosRefreshButtons" /> 
	</Workflow> 

	<Workflow name="WF_NGK_ProductCustomizationFinalize" parameters="$Result">
		<Step cmd="PosCSOProductCustomizationFinalize $Result" />
		<Step cmd="PosNGKDoShowScreenJS '_NGK_CURRENT_MENU' '' '' '' '_NGK_CURRENT_MENU_INCREASE_IMG'" />
	</Workflow>
	<!-- NVS-5993 - Order Basket Redesign -->
	<Workflow name="WF_NGK_DoMakeMeal" parameters="$SizeSelected $SellSequence">
		<Step cmd="PosNGKMakeMealJS $SizeSelected $SellSequence" />
	</Workflow>
	<Workflow name="WF_NGK_UpdatePromotionProducts" parameters="$ProductCodes"> 
		<Step cmd="PosNGKUpdatePromotionProducts $ProductCodes" /> 
	</Workflow>
	<Workflow name="WF_NGK_StartMakeMeal" parameters="$CartIndex">
		<Step cmd="PosCSOMakeMealSizeSelectionJS $CartIndex" />
	</Workflow> 
	
	<!-- NVS-4801 - msilva -->
	<Workflow name="WF_DisplayItemValidation"> 
		<Step cmd="PosSizeSelection '-1'" /> 
		<Step cmd="PosRefreshButtons" /> 
		<Step cmd="PosVerifyMobileOrder 'false' 'FALSE'" /> 
		<Step label="END" /> 
	</Workflow> 
	<Workflow name="WF_HideButtonIfNotMobileDT"> 
		<Step cmd="PosCheckMobileOrder" labelFalse="HIDE" /> 
		<Step label="SHOWIT" cmd="PosChangeButtonProperties $ButtonNumber 'visible|true'" labelTrue="EXIT" /> 
		<Step label="HIDE" cmd="PosChangeButtonProperties $ButtonNumber 'visible|false'" /> 
		<Step label="EXIT" /> 
	</Workflow>	
	
	<!-- NVS-4803 - msilva -->
	<Workflow name="WF_ShowKeyboard"> 
		<Step cmd="PosNotATransactionInProgress 'true'" labelFalse="OFFER" /> 
		<Step cmd="PosMobileCheckInShowKeyboard '4001' 'MSG_BC_MOBILE_CHECKIN_ENTER_BARCODE' 'currentKeyboardField' 'WF_CHECKINENTERACTION'" labelTrue="EXIT" labelFalse="EXIT" /> 
		<Step label="OFFER" cmd="IsOfferEnabled" labelFalse="WARNNOTALLOWED" /> 
		<Step cmd="PosShowKeyboard '4001' 'MSG_BC_OFFERS_ENTER_BARCODE' 'currentKeyboardField' '' 'WF_ENTERACTION'" labelTrue="EXIT" labelFalse="EXIT" /> 
		<Step label="WARNNOTALLOWED" cmd="PosShowMessage 'MSG_MOBILE_CHECKIN_NOT_ALLOWED'" /> 
		<Step label="EXIT" /> 
	</Workflow> 	
	<Workflow name="WF_BarcodeScan"> 
		<Step cmd="PosNotATransactionInProgress 'true'" labelFalse="OFFER" /> 
		<Step cmd="PosDoMobileCheckInWithScanner" labelTrue="EXIT" labelFalse="EXIT" /> 
		<Step label="OFFER" cmd="IsOfferEnabled" labelTrue="EXIT" labelFalse="WARNNOTALLOWED" /> 
		<Step label="WARNNOTALLOWED" cmd="PosShowMessage 'MSG_MOBILE_CHECKIN_NOT_ALLOWED'" /> 
		<Step label="EXIT" /> 
	</Workflow> 
	<Workflow name="WF_CHECKINENTERACTION" parameters="$value"> 
		<Step cmd="PosMobileCheckInNewSale $value" /> 
	</Workflow> 	
	
	<!-- NVS-4809 - msilva -->
	<!-- NVS-5985 Get Mobile Order functionality - Lindomar Araujo - Nov/22/2016 -->
	<Workflow name="WF_SetMobileOrderButtonIsActive">
		<Step label="CHECK_MOBILEBUTTON" cmd="isMobileEnabled" labelTRUE="CHECK_POSTYPE" labelFalse="HIDE" />
		<Step label="CHECK_POSTYPE" cmd="PosCheckSessionProperty 'POD' 'DRIVE_THRU'" labelTrue="CHECK_DTMODE" labelFalse="CHECK_REFUND" />
		<Step label="CHECK_REFUND" cmd="PosCheckTransactionKind  '1'" labelTrue="HIDE" labelFalse="CHECK_WASTE" />
		<Step label="CHECK_WASTE" cmd="PosCheckTransactionKind  '2'" labelTrue="HIDE" labelFalse="SET_MOBILE_ORDER_BUTTON_STATUS" />
		<Step label="CHECK_DTMODE" cmd="PosCheckSessionProperty 'workingMode' 'cashier|both'" labelTrue="HIDE" labelFalse="SET_MOBILE_ORDER_BUTTON_STATUS" />
		<Step label="HIDE" cmd="PosChangeButtonProperties '0' 'visible|false'" labelTrue="EXIT" />
		<Step label="SET_MOBILE_ORDER_BUTTON_STATUS" cmd="PosSetMobileOrderButtonStatus 'ON'" /> 
		<Step label="EXIT" />
	</Workflow> 
	<!-- NVS-8498 -->
	<Workflow name="WF_ShowMobileRecallScreen" parameters="$orderType">	
		<Step cmd="PosSizeSelection '-1'" /> 
		<Step cmd="PosRefreshButtons" />
		<Step cmd="PosReloadCurrentScreen" />
		<Step cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="SALE" />
		<Step cmd="PosShowMenuPriceDialogJS" labelFalse="EXIT" />
		<Step label="SALE" cmd="PosCheckSessionProperty 'POD' 'DRIVE_THRU'" labelTrue="CHECK_DTMODE" labelFalse="STEP0" /> 
		<Step label="CHECK_DTMODE" cmd="PosIsCODSelectedJS" labelFalse="END" /> 
		<Step label="IS_DELIVERY" cmd="IsAutoInjectedDelivery $orderType" labelTrue="STEP0" labelFalse="CONTINUE" /> 
		<Step label="CONTINUE" cmd="PosCheckSessionProperty 'workingMode' 'cashier|both'" labelFalse="STEP0" /> 
		<Step cmd="PosCheckSessionProperty 'saleRecalled' 'true'" labelFalse="STEP0" /> 
        	<Step cmd="PosSetSessionProperty 'activatedCOD' '0' 'true'" labelFalse="END" /> <!-- NVS-5944 - Check COD Selected --> 
		<Step cmd="PosNotATransactionInProgress 'true'" labelFalse="INPROG" labelTrue="STEP0" /> <!-- NVS-6284 Check order--> 
		<Step label="INPROG" cmd="PosBackToPreviousScreen" /> 
		<Step cmd="PosOffersClearMessage" /> 
		<Step label="STEP0" cmd="PosNotATransactionInProgress 'true'" labelFalse="CheckMobile" labelTrue="STEP1" /> 
		<Step label="CheckMobile" cmd="isCurrentOrderMobile" labelTrue="STEP1" labelFalse="SALEPROG" />
		<Step label="STEP1" cmd="PosShowMobileRecallScreen $orderType" /> 
		<Step cmd="PosSetSessionProperty 'KeepSelectedCODOnVoidSale' 'true'" />
		<Step cmd="PosGetMobileOrder" labelTrue="EXIT" labelFalse="EXIT" /> 
		<Step label="END" cmd="PosShowMessage 'MSG_BC_SELECTCOD'" labelTrue="EXIT" /> 
		<Step label="SALEPROG" cmd="PosShowMessage 'MSG_BC_SALEPROG'" labelTrue="EXIT" /> <!-- NVS-6284 - Check if order was in progress --> 
		<Step label="EXIT" /> 
		<Step cmd="PosSetSessionProperty 'KeepSelectedCODOnVoidSale' 'false'" />
	</Workflow>
	<Workflow name="WF_GetMobileOrder"> 
		<Step cmd="PosGetMobileOrder" /> 
	</Workflow> 
	<Workflow name="WF_CloseMobileRecallScreen">
		<!-- NVS-7109, close and go back to base screen -->
		<Step cmd="PosCloseMobileRecallScreenCOE" /> 
	</Workflow> 
	<Workflow name="WF_ChangePageMobileOrders" parameters="$direction"> 
		<Step cmd="PosFillMobileOrders $direction" /> 
	</Workflow> 
	<Workflow name="WF_ProcessMobileOrder" parameters="$index"> 
	<!-- NVS-6480 -->
		<Step cmd="PosProcessMobileOrder $index 'true'" />
	</Workflow> 
	<!-- NVS-8498 -->
	<Workflow name="WF_RecallMobileOrder"> 
		<Step cmd="COECheckForCashDrawer" labelTrue="CONTINUE1" labelFalse="OPENED" />  <!--NVS-6039 - COECheckForCashDrawer Checks to see if a cash drawer exists. If so, it returns PosCheckCashDrawer to see if drawer is opened before recalling mobile order. -->
		<Step label="CONTINUE1" cmd="MobileCheckForCOD '0'" labelTrue="IS_AUTO_INJECTED" labelFalse="COD_FAIL" /> <!-- NVS-6939 - msilva - Set COD for Mobile Orders -->
		
		<!-- Is Delivery Auto Injected -->
		<Step label="IS_AUTO_INJECTED" cmd="PosCheckSessionProperty 'IsAutoInjected' 'true'" labelTrue="REDIRECT_HOMEDELIVERY_ORDER" labelFalse="RECALMOBILEORDER" />
		<Step label="REDIRECT_HOMEDELIVERY_ORDER" cmd="PosCheckSessionProperty  'workingMode' 'orderTaker|both'" labelTrue="SHOWHOMESTOREDELIVERYSCREEN" labelFalse="RECALMOBILEORDER" />
		<Step label="SHOWHOMESTOREDELIVERYSCREEN" cmd="ShowHomeDeliveryStoreOrderScreen" labelTrue="EXIT" labelFalse="EXIT" />		
		
		
		<Step label="RECALMOBILEORDER" cmd="PosRecallMobileOrder" /> 
		<!-- Remove Tag Id -->
		<Step label="REMOVE_TAG" cmd="PosRemoveTagID" /> <!-- NVS-8101 - Andy- remove tag id for attended order -->
		<Step cmd="PosBackToPreviousScreen" /> 
		<Step cmd="PosDoBackFromTotal" />
		
		<!-- Is UberEats -->
		<Step cmd="isUberEatsOrder" labelFalse="IS_HOME_DELIVERY" /> <!-- NVS-6999 / NVS-7068 - msilva- Check if it is a UberEats Order -->
		<Step cmd="UberEatsSetSaleType" /> <!-- NVS-7199 - msilva - Sale type definition for UberEats -->
		<Step cmd="PosDoTotal" /> <!-- NVS-7199 - msilva - Calculate total based on the saletype -->
		<Step cmd="PosApplyOffers_COE" labelTrue="REDIRECT_UBEREATS_ORDER" labelFalse="REDIRECT_UBEREATS_ORDER" /><!-- NVS-6999 / NVS-7140 - msilva- Check apply promotion for UberEats -->
		<Step label="REDIRECT_UBEREATS_ORDER" cmd="PosCheckSessionProperty  'workingMode' 'orderTaker'" labelTrue="SHOWSTORESCREEN" labelFalse="SHOWDELIVERYTENDER" /><!-- NVS-6999 / NVS-7068 - msilva- If it is OrderTaker Stores the order -->
		<Step label="SHOWDELIVERYTENDER" cmd="ShowUberEatsDeliveryTenderScreen" labelTrue="EXIT" labelFalse="EXIT" /> <!-- NVS-6999 / NVS-7068 - msilva- Displays Delivery Tender Menu Screen -->
		<Step label="SHOWSTORESCREEN" cmd="ShowUberEatsStoreOrderScreen" labelTrue="EXIT" labelFalse="EXIT" /> <!-- NVS-6999 / NVS-7068 - msilva- Displays UberEats Store Screen -->	

		
		<!-- Recalled Mobile Order flow -->
		<Step label="CONTINUE2" cmd="PosShowGrillFloatScreen" />
		<Step cmd="PosApplySmartGrillLogic" /> <!-- NVS-6110- Smart Grill is not working for mobile order -->
		<Step cmd="PosApplyOffers_COE 'false' 'false'" /> <!-- NVS-5957 - The "Payment Approved" status changes to "Partially Approved" status at Cashier OT. -->
		<Step cmd="PosSetSessionProperty 'COD_Facilitated_Message' '' " labelTrue="EXIT" />
		<Step label="OPENED" cmd="PosShowMessage 'MSG_BC_DRAWEROPENED'" /> <!--NVS-6039 - Show message if drawer is opened -->
		<Step cmd="PosBackToPreviousScreen" labelTrue="EXIT" labelFalse="EXIT" />
		<Step label="COD_FAIL" cmd="PosBackToPreviousScreen" />
		<Step label="EXIT" /> 		
	</Workflow>
	
	<Workflow name="WF_RecallDeliveryAutoInjectMobileOrder"> 

		<Step label="RECALMOBILEORDER" cmd="PosRecallMobileOrder" labelTrue="RELEASE_COD" labelFalse="RELEASE_COD" /> 
		
		<!-- Release COD -->
		<Step label="RELEASE_COD" cmd="PosReleaseCOD" labelTrue="CONTINUE" labelFalse="CONTINUE" />
		<Step label="CONTINUE" cmd="PosSetSessionProperty  'activatedCOD' '0' 'true'" labelTrue="GO_MAINSCREEN" labelFalse="GO_MAINSCREEN" />
		
		<Step label="GO_MAINSCREEN" cmd="PosShowScreen '_baseScreenId'" />
		<Step label="EXIT" /> 		
	</Workflow>	
	
	<Workflow name="WF_CancelMobileOrder"> 
		<Step cmd="PosCancelMobileOrder" /> 
		<Step cmd="PosBackToPreviousScreen" /> 
	</Workflow> 
	<Workflow name="WF_ShowMobileSearchScreen" parameters="$text"> 
		<Step cmd="PosShowMobileSearchScreen $text" /> 
	</Workflow> 
	<Workflow name="WF_CloseMobileSearchScreen"> 
		<!-- NVS-7527 - msilva -->
		<Step cmd="PosCloseMobileRecallScreenCOE" /> 
		<Step cmd="PosBackToPreviousScreen" /> 
	</Workflow> 
	<Workflow name="WF_SearchMobileOrder" parameters="$text"> 
		<Step cmd="PosSearchMobileOrder $text" /> 
	</Workflow> 	
	<!-- Mc Cafe Improverments NVS-4662 -->
	<Workflow name="WF_ShowNonRequiredCanAddSmartReminder"> 
		<Step cmd="PosShowNonRequiredCanAddSmartReminder 'true'" /> 
	</Workflow> 
	<Workflow name="WF_DoSaleShowNonRequiredCanAddSmartReminder" parameters="$productCode $screen"> 
		<Step cmd="PosDoTryGrillEnd '3'" /> <!-- Finish grilling operation, to sell regular product -->
		<Step cmd="PosDoSaleJS $productCode" /> 
		<Step cmd="PosShowNonRequiredCanAddSmartReminder 'true'" labelFalse="SHOW" labelTrue="EXIT" /> 
		<Step label="SHOW" cmd="PosShowFloatScreen $screen" /> 
		<Step label="EXIT" /> 
	</Workflow> 
	<Workflow name="WF_ExecFloatGrillOperShowNonReqCanAddSR" parameters="$productCode"> 
		<Step cmd="PosSetSessionProperty 'showGrillScreen' 'no'" /> 
		<Step cmd="PosDoTryGrillStart" labelFalse="EXIT" /> 
		<Step cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="SALE" />
        <Step cmd="PosShowMenuPriceDialogJS" labelFalse="EXIT" />
		<Step label="SALE" cmd="PosSetFloatGrillOper 'p'" /> 
		<Step cmd="PosExecFloatGrillOper $productCode" labelFalse="CONTINUE" /> 
		<Step label="CONTINUE" /> 
		<Step cmd="PosShowNonRequiredCanAddSmartReminder 'true'" /> 
		<Step label="EXIT" /> 
	</Workflow> 
	<Workflow name="WF_NRCA_Done"> 
		<Step cmd="PosSetNonRequiredCanAddDone" /> 
		<Step cmd="PosExecuteSavedWorkflow" /> 
	</Workflow> 

	<Workflow name="WF_DoTotalBySaleTypeFlex" parameters="$SaleType $ScreenNumber $Choices"> 
		<Step cmd="PosSizeSelection '-1'" /> 
		<Step cmd="PosRefreshButtons" /> 
		<Step cmd="PosCheckSessionProperty 'ISPRICEON' 'TRUE'" labelFalse="ONSALE" /> 
		<Step cmd="PosSetSaleType $SaleType" /> 
		<Step cmd="PosShowPrice 'false'" /> 
		<Step cmd="PosShowPrice 'true'" labelTrue="EXIT" /> 
		<Step label="ONSALE" cmd="PosCheckSalesType_CSL $SaleType" labelFalse="EXIT" /> 
		<Step cmd="PosDoTryGrillEnd '3'" /> 
		<Step cmd="PosFillOrderRoutingInfo_CSL" /> 
		<Step cmd="PosDoTotalJS $SaleType $ScreenNumber '51' 'NOPREVIEW|SAVE' $Choices" /> 
		<Step label="EXIT" /> 
	</Workflow> 
	
	<!-- NVS-4865 - msilva - Adjustments for async offers evaluation -->
	<Workflow name="WF_ApplyOfferAsyncOnTotal">
		<!-- Verify when reapplying promotion is needed -->
		<!-- <Step cmd="PosCheckSessionProperty 'ReApplyPromotions' 'true'" labelFalse="END" /> -->
		<Step cmd="PosApplyOffers_COE 'false'" />	 
		<Step cmd="PosSetSessionProperty 'ReApplyPromotions' 'false'" />
		<Step label="END" />	 
	</Workflow>	
	<!-- NVS-4865 - msilva - Adjustments for async offers evaluation -->
	<Workflow name="WF_ApplyOfferAsyncOnItemSold">
		<!-- Verify when reapplying promotion is needed -->
		<!-- <Step cmd="PosCheckSessionProperty 'ReApplyPromotions' 'true'" labelFalse="END" /> -->
		<Step cmd="PosApplyOffers_COE 'false'" />	 
		<Step cmd="PosSetSessionProperty 'ReApplyPromotions' 'false'" />
		<Step label="END" />	 
	</Workflow>		
	
	<Workflow name="WF_KeyboardInputSpaceKey"> 
		<Step cmd="PosKeyboardTextCommand '' 'Space'" /> 
	</Workflow>
	<!-- NVS-5993 - Order Basket Redesign -->
	 <Workflow name="WF_NGK_RemoveItem" parameters="$ItemIndex">
		<Step cmd="PosCSOIsTrnInProgressJS 'true'" />
		<Step cmd="PosCSODoStopWhenOnGrillModeJS 'true'" />
		<Step cmd="PosNGKChangeItemJS 'START'" />
		<Step cmd="PosNGKCheckAndExecuteBackFromTotal" />
		<Step cmd="PosNGKRemoveItemJS $ItemIndex" labelFalse="ORDER_EMPTY" labelTrue="ORDER_HAS_ITEMS" />
		<Step label="ORDER_HAS_ITEMS" cmd="PosNGKEnqueueWFJS 'WF_NGK_FinalShowOrderReview'" labelFalse="EXIT" labelTrue="EXIT" /> 
        <Step label="ORDER_EMPTY" cmd="PosNGKEnqueueWFJS 'WF_NGK_ShowMainScreen'" />
		<Step label="EXIT" cmd="PosNGKChangeItemJS 'END'" />
	 </Workflow>
	 
	 <Workflow name="WF_NGK_PERFORM_DONATION" parameters="$donationButton">
        <Step cmd="PosCSORMHCCheckDonationAvailability" labelTrue="EDIT_DONATION" />
        <Step label="EDIT_DONATION" cmd="PosCSORMHCEditDonation $donationButton" labelFalse="UPDATE_CART" />
		<Step label="UPDATE_CART" cmd="PosSetSessionProperty 'IS_IN_ORDER_REVIEW' 'true'" /> 
		<Step cmd="PosNGKEnqueueWFJS 'WF_NGK_FinalShowOrderReview'" /> 
    </Workflow>
	
    <Workflow name="WF_NGK_ShowOrderReview" parameters="$ChangeEatingLocation"> 
		<Step cmd="PosNGKCheckAndExecuteBackFromTotal" />
	<!-- NVS-6156 - Promotions should be applied on order review screen -->
		<Step cmd="PosNGKVerifyBagSelection" labelTrue="RESET_SESSION" labelFalse="BACK_FROM_TOTAL_ASK_BAG" />
		<Step label="BACK_FROM_TOTAL_ASK_BAG" cmd="PosDoBackFromTotal" />
		<Step cmd="PosNGKAskBagsJS 'false'" />
		<Step cmd="PosCSODoUpdateCartJS 'WF_NGK_ShowOrderReview'" labelTrue="RESET_SESSION" labelFalse="BACKFROMTOTAL" />
		<!-- NVS-6606, No offer validation -->
        <Step label="BACKFROMTOTAL" cmd="PosDoBackFromTotal" />
        <Step label="BACK" cmd="PosNGKShowMainScreen" labelTrue="EXIT" labelFalse="RESET_SESSION" />
        <!-- RESET SESSION VARS -->
		<!--<Step label="APPLY_PROMOTIONS" cmd="PosNGKApplyPromotionsLocal 'true'" />-->
        <Step label="RESET_SESSION" cmd="PosSetSessionProperty 'NGK_POPUP_RESULT' '' 'false'" />
        <Step cmd="PosSetSessionProperty 'CHANGE_EATING_LOCATION' $ChangeEatingLocation" />        
		<Step cmd="PosSetSessionProperty 'PROMOTION_DATA' ''" />
        <!-- SKIP THE EATING LOCATION VALIDATION -->
        <Step cmd="PosCheckSessionProperty 'CHANGE_EATING_LOCATION' 'true'" labelTrue="PLACE_TO_EAT" labelFalse="CHECK_IS_ON_EDIT_ORDER_REVIEW" />        
        <Step label="CHECK_IS_ON_EDIT_ORDER_REVIEW" cmd="PosCheckSessionProperty 'NGK_IS_ORDER_REVIEW' 'true'" labelTrue="UPDATE_CART" labelFalse="VALIDATE_MODE_1" />
        <!-- CSO-376 NGK Selection Screen for Payment and Eat-in/Take-out to be Configurable - 8111349 -->
        <Step label="VALIDATE_MODE_1" cmd="PosCheckSectionParameterValue 'CSO.UserInterface' 'order.EatingPaymentScreenLocationMode' '0' '1'" labelTrue="PLACE_TO_EAT" labelFalse="VALIDATE_MODE_2" />
        <Step label="VALIDATE_MODE_2" cmd="PosCheckSectionParameterValue 'CSO.UserInterface' 'order.EatingPaymentScreenLocationMode' '0' '2'" labelTrue="SHOW_ORDER_REVIEW" labelFalse="CHECK_TIMEOUT_POPUP_PRICE" />
        <Step label="CHECK_TIMEOUT_POPUP_PRICE" cmd="PosCheckSessionProperty 'NGK_POPUP_RESULT' 'TIMEOUT'" labelTrue="EXIT" labelFalse="CHECK_CONFLICT_SALE_TYPE" />
        <Step label="PLACE_TO_EAT" cmd="PosNGKAskSaleTypeJS 'NGK_MSG_EATLOCATION|WHITE|WHITE|GREEN|' 'NGK_MSG_EATIN_ONLY|GREEN|WHITE|WHITE|eatInImage' 'NGK_MSG_TAKEOUT_ONLY|GREEN|WHITE|WHITE|takeOutImage' ''" labelTrue="EAT_IN" labelFalse="TAKE_OUT" />    
        <Step label="EAT_IN" cmd="PosCheckSessionProperty 'NGK_CANCEL' 'false'" labelFalse="CHECK_CONFLICT_SALE_TYPE" />
        <Step cmd="PosNGKSetSaleType '0'" labelTrue="UPDATE_CART" labelFalse="CHECK_CONFLICT_SALE_TYPE" />
        <Step label="TAKE_OUT" cmd="PosCheckSessionProperty 'NGK_CANCEL' 'false'" labelFalse="CHECK_CONFLICT_SALE_TYPE" />
        <Step cmd="PosNGKSetSaleType '1'" labelTrue="UPDATE_CART" labelFalse="CHECK_CONFLICT_SALE_TYPE" />        
        <Step label="UPDATE_CART" cmd="PosCSODoUpdateCartJS 'WF_NGK_ShowOrderReview'" labelTrue="CHANGE_EATING_LOCATION" labelFalse="SHOW_ORDER_REVIEW" />
		<Step label="CHANGE_EATING_LOCATION" cmd="PosCheckSessionProperty 'CHANGE_EATING_LOCATION' 'true'" labelTrue="CHECK_CONFLICT_SALE_TYPE" labelFalse="CHECK_DISPLAYED_PAYMENT_SELECTION" />
		<Step label="CHECK_DISPLAYED_PAYMENT_SELECTION" cmd="PosCheckSessionProperty 'DISPLAYED_PAYMENT_SELECTION' 'true'" labelTrue="CHECK_CONFLICT_SALE_TYPE" labelFalse="REINJECT_ORDER" />
		<Step label="REINJECT_ORDER" cmd="PosCheckSessionProperty 'NGK_REINJECT_ORDER' 'true'" labelTrue="CHECK_CONFLICT_SALE_TYPE" labelFalse="CHECK_CONFLICT_SALE_TYPE" />
		<!--  Bug fix for NVS-7867 -->
		<Step label="ASK_TO_PAY_AT_COUNTER_AND_STORE" cmd="PosNGKAskToPayAtCounterAndStoreResult 'NGK_SCR_REROUTE_MOA_TITLE|WHITE|WHITE|GREEN|' 'NGK_BTN_REROUTE_PAY_AT_COUNTER|GREEN|WHITE|WHITE|payAtCounterImage' 'NGK_BTN_REROUTE_PAY_HERE|GREEN|WHITE|WHITE|payHereImage' '' 'CSO_MSG_BARCODE_PAYMENT_SELECTED_BTN|GREEN|WHITE|WHITE|payWithMobileSelectedPayment'" labelTrue="PAYMENT_SELECTION_VALUE" labelFalse="PAYMENT_SELECTION_VALUE" />     
		<Step label="PAYMENT_SELECTION_VALUE" cmd="PosSetSessionProperty 'DISPLAYED_PAYMENT_SELECTION' 'true'" labelTrue="CHECK_CONFLICT_SALE_TYPE" />                
        <Step label="CHECK_CONFLICT_SALE_TYPE" cmd="PosNGKCheckConflictSaleType" labelTrue="SHOW_ORDER_REVIEW" labelFalse="SHOW_SCREEN" />        
        <Step label="SHOW_SCREEN" cmd="PosNGKDoShowScreenJS '_NGK_CURRENT_MENU' '' '' '' '_NGK_CURRENT_MENU_INCREASE_IMG'" labelTrue="EXIT" />
		<!-- <Step label="SHOW_ORDER_REVIEW" cmd="PosNGKSetOfferMacthTest $testOfferMatch" />  -->
		<Step label="SHOW_ORDER_REVIEW" cmd="PosSetSessionProperty 'PROMOTION_DATA' $PromotionData" /> 
		<Step cmd="PosNGKEnqueueWFJS 'WF_NGK_FinalShowOrderReview'" /> 
        <Step label="EXIT" />
    </Workflow>
	<Workflow name="WF_NGK_FinalShowOrderReview">
		<Step cmd="PosCheckSessionProperty 'IS_IN_ORDER_REVIEW' 'true'" labelTrue="CONTINUE" labelFalse="CONTINUE_TOTAL" /> 
		<Step label="CONTINUE_TOTAL" cmd="PosDoTotal" labelFalse="CONTINUE_VALIDATE" /> 
		<Step label="CONTINUE_VALIDATE" cmd="PosNGKValidateDeals 'true'" labelFalse="BACK_FROM_VALIDATE" />
		<Step cmd="PosNGKApplyPromotionsLocal 'true'" /> 
		<Step cmd="PosCheckSessionProperty 'ORDER_REVIEW_OFFERS_TEST' 'true'" labelFalse="CONTINUE" labelTrue="CONTINUE_OFFERS" /> 
		<Step label="CONTINUE_OFFERS" cmd="PosSetSessionProperty 'ORDER_REVIEW_OFFERS_TEST' 'false'" /> 
		<Step cmd="PosNGKValidatePromosJS" labelFalse="BACKFROMTOTAL" labelTrue="VALIDATE_OFFER" />
		<Step label="VALIDATE_OFFER" cmd="PosNGKValidateOffers 'NGK_MSG_OFFERS_OFFER_NOT_APPLIED' 'MSG_YES|GREEN|WHITE' 'MSG_NO|RED|WHITE' 'NGK_BTN_SEE_CONDITIONS|BLACK|WHITE'" labelTrue="CONTINUE" labelFalse="BACKFROMTOTAL" />
		<Step label="BACKFROMTOTAL" cmd="PosDoBackFromTotal" labelTrue="RETURN_MENU" labelFalse="RETURN_MENU" /> 
		<Step label="RETURN_MENU" cmd="PosNGKEnqueueWFJS 'WF_NGK_ShowMainScreen'" labelTrue="EXIT" labelFalse="EXIT" />
		<Step label="BACK_FROM_VALIDATE" cmd="PosNGKCheckAndExecuteBackFromTotal" labelTrue="EXIT" />
		<Step label="CONTINUE" cmd="PosNGKShowOrderReview" />
		<Step label="EXIT" cmd="PosSetSessionProperty 'IS_IN_ORDER_REVIEW' 'false'" /> 
    </Workflow>
	<!-- NVS-6017 - Make Meal does not work with CYT -->
	<Workflow name="WF_NGK_PerformMakeMealCYT" parameters="$ProductCode $GrillList $ChoiceList $customInfo $SizeSelected $VMChoiceList $AllChoicesList">
        <Step cmd="PosSetSessionProperty 'NGK_IS_ORDER_REVIEW' 'true'" />
        <Step cmd="PosCSOIsTrnInProgressJS 'true'" />
        <Step cmd="PosCSODoStopWhenOnGrillModeJS 'true'" />
        <Step cmd="PosNGKPerformMakeMealCYT $ProductCode $GrillList $ChoiceList $customInfo $SizeSelected $VMChoiceList $AllChoicesList" labelTrue="EXIT" labelFalse="UPDATE_CART" />
        <Step label="UPDATE_CART" cmd="PosCSODoUpdateCartJS 'WF_NGK_PerformMakeMealCYT' 'false'" />
    </Workflow>
	<!-- NVS-6179 - Recall Mobile Order button in the Special Functions screen. -->
	<Workflow name="WF_SetMobileOrderButtonIsActiveSpecialFunctions"> 
		<Step label="CHECK_MOBILEBUTTON" cmd="isMobileEnabled" labelTRUE="CHECK_REFUND" labelFalse="HIDE" />
	    <Step label="CHECK_REFUND" cmd="PosCheckTransactionKind  '1'" labelTrue="HIDE" labelFalse="CHECK_WASTE" />
		<Step label="CHECK_WASTE" cmd="PosCheckTransactionKind  '2'" labelTrue="HIDE" labelFalse="buttonstatus" />		
		<Step label="buttonstatus" cmd="PosSetMobileOrderButtonStatus 'ON'" labelTrue="EXIT" labelFalse="EXIT" /> 
		<Step label="HIDE" cmd="PosChangeButtonProperties '0' 'visible|false'" labelTrue="EXIT" />
		<Step label="EXIT" />
	</Workflow>
	<!-- NVS-5745 - “COD ALIVE STATUS SW " Report. -->
	<Workflow name="WF_NGCODAliveStatusSW">
		<Step cmd="PosGetNGCODAliveStatusSW" />
	</Workflow>
	<Workflow name="WF_RPSCMD" parameters="$SessionCtxID $Command $BusinessDate $Timeout">
		<Step cmd="WayDoRPSCommand $SessionCtxID $Command $BusinessDate $Timeout" />
	</Workflow>
	<Workflow name="WF_SupportRPSLogin">
		<Step cmd="PosRPSLogin_JSCOE 'RPS0300'" />
	</Workflow>
	<Workflow name="WF_SupportRPSLogout">
		<Step cmd="PosRPSLogout_JSCOE 'RPS0300'" />
	</Workflow>
	<Workflow name="WAY_SwitchToPrimaryProduction" parameters="$SessionCtxID">
		<Step cmd="WaySwitchToPrimaryProduction $SessionCtxID" />
	</Workflow>
	<Workflow name="WAY_SwitchToFailoverProduction" parameters="$SessionCtxID">
		<Step cmd="WaySwitchToFailoverProduction $SessionCtxID" />
	</Workflow>
	<Workflow name="WAY_ExecuteRemoteWf" parameters="$SessionCtxID $pos $wfName $wfParams $timeout">
		<Step cmd="WayExecuteRemoteWF $SessionCtxID $pos $wfName $wfParams $timeout" />
	</Workflow>
	
	<!-- NVS-7096 - Customer Preference Barcode Integration. -->
	<Workflow name="WF_CustomerBarcodeOnOff">
		<Step cmd="PosToggleCustomerPreferenceBarcode" />
	</Workflow>
	<Workflow name="WF_ActivateCustomerBarcodeOnOff">
		<Step cmd="PosSetCustomerPreferenceBarcodeButton" />
	</Workflow>	
	<!-- NVS-7178 - Customer preference barcode feature conflicts with Mobile Offers Scanner -->
	<Workflow name="WF_CustomerBarcodeScan">
		<Step cmd="SetCustomerBarcodePreferencesScanButton" />
	</Workflow>
	<Workflow name="WF_ActivateCustomerBarcodeScan">
		<Step cmd="PosSetCustomerPreferenceBarcodeUseScanButton" />
	</Workflow>
	
	<Workflow name="WAY_RPSLogout" parameters="$SessionCtxID $posID">
		<Step cmd="WayRPSLogout $SessionCtxID $posID" />
	</Workflow>				
	<Workflow name="WF_DoDeliverySale" parameters="$SaleType $ScreenNumber $TenderId"> 
		<Step cmd="PosSetSaleType $SaleType" /> 
		<Step cmd="PosDoTotalJS $SaleType '53' '51' 'NOPREVIEW|SAVE' '10000001|6,10000002|9,10000003|6,10000004|6,10000005|9,10000101|6,10000201|6,10000301|6,10000401|6,10000501|6,10000601|6,10000701|9,10000801|9'" /> 
		<Step cmd="PosBackFromTotalUndoPromotion" labelFalse="NEXT" labelTrue="NEXT" /> 
		<Step label="NEXT" cmd="PosDoTenderJS $TenderId '-1' 'NOPREVIEW|SAVE'" labelFalse="BACK_FROM_TOTAL" /> 
		<Step label="BACK_FROM_TOTAL" cmd="PosSetSaleType '0'" /> 
		<Step cmd="PosDoBackFromTotal" /> 
		<Step cmd="PosShowScreen $ScreenNumber" /> 
	</Workflow> 
	<Workflow name="WF_NGK_SideSaleExecuteOperation" parameters="$Operation $ProdInfo $GrillList $IsOrderReview $ProductSellSequence">
		<Step cmd="PosNGKSideOrderItemJS $Operation $ProdInfo $GrillList $IsOrderReview $ProductSellSequence" />
	</Workflow>
	<Workflow name="WF_NGK_RetrieveChoicesUpPrices" parameters="$Products $VmSeq $ChoiceSeq $IdRequest">
		<Step cmd="PosNGKRetrieveChoicesUpPrices $Products $VmSeq $ChoiceSeq $IdRequest" />
	</Workflow>
	<Workflow name="WF_NGK_IncreaseDealQuantity" parameters="$DealId $PromotionCounter $PromotionData">
		<Step cmd="PosCSOIsTrnInProgressJS  'false'" /><!-- Verifies if there is a transaction in progress -->
		<Step cmd="PosCSODoStopWhenOnGrillModeJS  'false'" /><!-- Verifies if the NP6 kernel context is on grill process -->
		<Step cmd="PosNGKChangeItemJS 'START'" />
		<Step cmd="PosNGKCheckAndExecuteBackFromTotal" />
		<Step cmd="PosNGKDoCloneDeal $DealId $PromotionCounter" /> <!--Clones the given deal group.-->
		<Step cmd="PosNGKChangeItemJS 'END'" />
		<Step cmd="PosSetSessionProperty 'PROMOTION_DATA' $PromotionData" />
		<Step cmd="PosNGKEnqueueWFJS 'WF_NGK_FinalShowOrderReview'" />		
	</Workflow>
	<Workflow name="WF_NGK_ShowPromotions" parameters="$ScreenNumber $IsMainScreen $ButtonNumber $increaseImages $ShowPromotionScreen">
		<Step cmd="PosCreateSale" labelFalse="EXIT" />
		<!-- NVS-8428 - msilva - NGK Promotions validation: Products availability based on category hours -->
		<Step cmd="PosNGKGetGeneralPromotionsLocal $ShowPromotionScreen" labelFalse="EXIT" />
		<Step cmd="PosCSORegisterMainMenuTabJS $ScreenNumber $ButtonNumber" />
		<Step cmd="PosNGKDoShowScreenJS '$ScreenNumber' '' '' '$IsMainScreen' '$increaseImages'" />
		<Step label="EXIT" />
	</Workflow>
	<Workflow name="WF_NGK_GetPromotionStep" parameters="$PromotionID $PromotionData $IsOnEditMode">
		<Step cmd="PosNGKAreDealsInsideLimits $PromotionData" />
		<!-- NVS-8428 - msilva - NGK Promotions validation: Products availability based on category hours -->
		<Step cmd="PosNGKGetPromotionStepsLocal '$PromotionID' '$IsOnEditMode' " labelFalse="GO_MAIN" labelTrue="EXIT" />
		<Step label="GO_MAIN" cmd="PosNGKShowMainScreen" />
		<Step label="EXIT" />		
	</Workflow>
	<Workflow name="WF_NGK_GetOfferStep" parameters="$OfferID $CustomerID $PromotionData $IsOnEditMode">
		<!-- <Step cmd="PosNGKAreDealsInsideLimits $PromotionData" /> -->
		<!-- NVS-8409 - msilva - NGK Offers validation: Products availability for Day Part -->
		<Step cmd="PosNGKCheckExclusivePromotion" labelFalse="RETURN_SCREEN" labelTrue="CONTINUE" />
		<Step label="CONTINUE" cmd="PosNGKGetOfferStepsLocal '$OfferID' '$CustomerID' '$IsOnEditMode' " labelFalse="RETURN_SCREEN" labelTrue="EXIT" />
		<Step label="RETURN_SCREEN" cmd="PosCheckSessionProperty  'CHECKDAYPARTORIGINSCREEN' 'REVIEW'" labelFalse="GO_MAIN" labelTrue="GO_REVIEW" />
		<Step label="GO_REVIEW" cmd="PosNGKEnqueueWFJS 'WF_NGK_FinalShowOrderReview'" labelFalse="EXIT" labelTrue="EXIT" />
		<Step label="GO_MAIN" cmd="PosNGKShowMainScreen" />
		<Step label="EXIT" cmd="PosSetSessionProperty  'CHECKDAYPARTORIGINSCREEN' '' 'false'" />
	</Workflow>
	<Workflow name="WF_NGK_ShowPromotionBarcodeReader">
        <Step cmd="PosNGKShowPromotionBarcodeReader" />
    </Workflow>
	<Workflow name="WF_NGK_GetPromotionIdByBarcode" parameters="$Barcode $Mode">
        <Step cmd="PosCreateSale" labelTrue="GetGeneralPromotions" labelFalse="EXIT" />
		<Step label="GetGeneralPromotions" cmd="PosNGKGetGeneralPromotionsLocal 'false'" labelTrue="GetPromotionIdByBarcode" labelFalse="EXIT" />
        <Step label="GetPromotionIdByBarcode" cmd="PosNGKGetPromotionIdByBarcode $Barcode" labelTrue="EXIT" labelFalse="CHECKUNGATEDCOUPON" />
		<Step label="CHECKUNGATEDCOUPON" cmd="PosCSOCompareStrings $Mode 'UNGATEDCOUPON'" labelTrue="BACK_UNGATED" labelFalse="BACK_TO_BARCODE_READER" />
		<Step label="BACK_UNGATED" cmd="PosNGKUngatedScanReturnScreen" labelTrue="EXIT" labelFalse="EXIT" />
        <Step label="BACK_TO_BARCODE_READER" cmd="PosNGKShowPromotionBarcodeReader" labelTrue="EXIT" />
        <Step label="EXIT" />
    </Workflow>
    <Workflow name="WF_NGK_CheckLimitsAndValidatePromotion" parameters="$JSONPromotions $PromotionData $mode">
        <Step cmd="PosNGKCheckPromotionLimits $JSONPromotions $PromotionData" labelTrue="EXIT" labelFalse="CHECKUNGATEDCOUPON" />
        <Step label="CHECKUNGATEDCOUPON" cmd="PosCSOCompareStrings $Mode 'UNGATEDCOUPON'" labelTrue="BACK_UNGATED" labelFalse="BACK_TO_BARCODE_READER" />
        <Step label="BACK_UNGATED" cmd="PosNGKUngatedScanReturnScreen" labelTrue="EXIT" labelFalse="EXIT" />
        <Step label="BACK_TO_BARCODE_READER" cmd="PosNGKShowPromotionBarcodeReader" labelTrue="EXIT" />
        <Step label="EXIT" />
    </Workflow>
	<Workflow name="WF_NGK_GetGeneralPromotions" parameter="$ShowPromotionScreen">
		<Step cmd="PosNGKGetGeneralPromotionsLocal $ShowPromotionScreen" />
	</Workflow>
	<Workflow name="WF_NGK_ActivateDeals" parameter="$IsPromotion $PromotionArray $FillSteps"> 
		<Step cmd="PosNGKActivateDeals $IsPromotion $PromotionArray $FillSteps" /> 
	</Workflow> 
	<Workflow name="WF_NGK_CheckVirtualDealsLimits" parameters="$PromotionData $DealId $NumberVirtualDeals">
		<Step cmd="PosNGKAreDealsInsideLimits $PromotionData 'false' $DealId $NumberVirtualDeals" />
	</Workflow>
	<Workflow name="WF_NGK_ReleaseReservedPromotions" parameters="$PromotionIds">
		<Step cmd="PosReleaseReservedPromotions $PromotionIds" />
	</Workflow>
	<Workflow name="WF_NGK_ReleaseReservedOffers">
		<Step cmd="PosReleaseReservedOffers" />
		<Step cmd="PosNGKDoClearOffer" /> 
	</Workflow>	
	<Workflow name="WF_NGK_PromotionUndo" parameters="$PromotionId $PromotionCounter">
		<Step cmd="PosPromotionUndo $PromotionId $PromotionCounter" />
	</Workflow>	
	<Workflow name="WF_NGK_ValidateDealsOnRemove" parameters="$DealId $IsPromotion">
		<Step cmd="PosNGKValidateDeals 'false' $DealId $IsPromotion" />

	</Workflow>
	<Workflow name="WF_NGK_RetrieveCYTInfo" parameters="$ProductCode $SellSequence">
		<Step cmd="PosNGKGetBYBInfo $ProductCode $SellSequence" />
	</Workflow>
	<Workflow name="WF_NGK_VoidPromotionAndItems" parameters="$PromotionID $PromotionCounter $PromotionData">
		<Step cmd="PosNGKChangeItemJS 'START'" />
		<!-- <Step cmd="PosNGKCheckAndExecuteBackFromTotal"/> -->
		<Step cmd="PosNGKDoVoidPromotionAndItemsJS $PromotionID $PromotionCounter" labelFalse="ORDER_EMPTY" labelTrue="ORDER_HAS_ITEMS" />
		<Step label="ORDER_HAS_ITEMS" cmd="PosNGKEnqueueWFJS 'WF_NGK_FinalShowOrderReview'" labelFalse="EXIT" labelTrue="EXIT" />
		<Step label="ORDER_EMPTY" cmd="PosNGKEnqueueWFJS 'WF_NGK_ShowMainScreen'" />
		<Step label="EXIT" cmd="PosNGKAreDealsInsideLimits $PromotionData" />
		<Step cmd="PosNGKChangeItemJS 'END'" />
	</Workflow>
	<Workflow name="WF_AvoidtheOrderRoutingToBVS" parameters="$ProductCode">
		<Step cmd="PosSizeSelection '-1'" /> 
		<Step cmd="PosRefreshButtons" />
		<Step cmd="PosReloadCurrentScreen" />
		<Step cmd="SetVariableforAvoidtheOrderRoutingToBVS" />
     </Workflow>
     
	<Workflow name="WF_NGK_RedeemGenericBarcode" parameters="$Barcode $Origin">
		<Step cmd="PosSetOriginLocal $Origin" />
		<Step cmd="PosCSORedeemGenericBarcodeJS $Barcode $Origin" />
	</Workflow>
	<Workflow name="WF_NGK_UngatedScanReturnScreen">
		<Step cmd="PosNGKUngatedScanReturnScreen 'true'" />
	</Workflow>
	<Workflow name="WF_NGK_UngatedScanRefreshCart">
		<Step cmd="PosCSODoUpdateCartJS 'WF_NGK_ShowMenu'" />
	</Workflow>
		<Workflow name="WF_NGK_ShowCouponsLandingScreen">
		<Step cmd="PosRemoveSessionProperty 'NGK_UNGATED_SCAN_RETURN_SCREEN'" />
		<Step cmd="PosCheckSectionParameterValue 'CSO.UserInterface' 'coupon.enableLandingScreen' 'false' 'true'" labelFalse="EXIT" />
		<Step cmd="PosNGKShowCouponsLandingScreen" />
		<Step label="EXIT" />
	</Workflow>
	<Workflow name="WF_HomeDelivery_DT_Store">
		<Step cmd="PosShowScreen '_baseScreenId'" />
	</Workflow>
	<Workflow name="WF_ChangeButtonOutageMode" parameters="$onClick">
		<Step cmd="OutageModeButtonChangeJs" />
	</Workflow>
	<Workflow name="WF_OutageMode" parameters="$onClick">		
		<Step cmd="PosOutageMode $onClick 'true'" />
		<Step cmd="OutageModeButtonChangeJs" />
		<Step cmd="PosBackToPreviousScreen" />
		<Step label="EXIT" />
	</Workflow>
	

</Sequences>

